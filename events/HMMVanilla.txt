#someone removed on accident
add_namespace = lar_fra_inefficient_economy

country_event = {
	id = lar_fra_inefficient_economy.1
	hidden = yes
	is_triggered_only = yes
	fire_only_once = yes
	immediate = {
		if = {
			limit = { has_idea = FRA_inefficient_economy_2 }
			swap_ideas = {
				remove_idea = FRA_inefficient_economy_2
				add_idea = FRA_inefficient_economy_1
			}
		}
		else_if = {
			limit = {
				has_idea = FRA_inefficient_economy_1
			}
			remove_ideas = FRA_inefficient_economy_1
		}
	}
	option = {
		
	}
}

#fast fix for stupid errors
add_namespace = nsb_news
add_namespace = generic
add_namespace = wtt_germany

# Trotsky Assassination (raid on his villa)
news_event = {
	id = nsb_news.100
	title = news.37.t
	desc = nsb_news.100.desc
	picture = GFX_news_event_024
	
	major = yes
	
	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			if = {
				limit = {
					tag = SOV
				}
				SOV_kill_trotsky_effect = yes
			}
		}
	}
	
	option = {
		name = news.37.a
		trigger = { 
			NOT = { 
				TAG = SOV 
				is_in_faction_with = SOV
				tag = MEX
			} 
		}
	}

	option = {
		name = news.37.a
		trigger = {
			tag = MEX
			NOT = { is_in_faction_with = SOV }
		}

		effect_tooltip = {
			retire_character = MEX_leon_trotsky
		}
	}

	option = {
		name = news.37.b
		trigger = { TAG = SOV }

		if = {
			limit = {
				has_idea = trotskyite_plot_nsb
			}
			effect_tooltip = {
				swap_ideas = {
					remove_idea = trotskyite_plot_nsb
					add_idea = trotskyite_plot_purged
				}
			}
			swap_ideas = {
				remove_idea = trotskyite_plot_nsb
				add_idea = trotskyite_plot_purged
			}
		}
	}

	option = {
		name = news.37.c
		trigger = { 
			is_in_faction_with = SOV
			NOT = {
				tag = SOV
			} 
		}
	}
}

# Anglo-Soviet Invasion of Iran
news_event = {
	id = nsb_news.104
	title = nsb_news.104.t
	desc = nsb_news.104.desc
	picture = GFX_news_event_SOV_invasion_iran
	
	major = yes
	
	is_triggered_only = yes
	
	option = { #SOV || GER
		name = nsb_news.104.a

		trigger = {
			OR = {
				tag = SOV
				tag = ENG
			}
		}
	}

	option = { #Others
		name = nsb_news.104.b

		trigger = {
			NOT = {
				tag = SOV
				tag = ENG
			}
		}
	}
}

###########################
# NSB Soviet Events
###########################

add_namespace = NSB_soviet_paranoia_system_events
add_namespace = NSB_soviet_propaganda_capmaign_events
add_namespace = NSB_soviet_foreign_politics_events
add_namespace = NSB_soviet_academy_of_sciences
add_namespace = NSB_soviet_atomic_bomb_project
add_namespace = NSB_soviet_five_year_plan
add_namespace = NSB_soviet_great_patriotic_war
add_namespace = NSB_soviet_policies_of_collective_security
add_namespace = NSB_soviet_comecon
add_namespace = NSB_soviet_spanish_civil_war
add_namespace = NSB_soviet_planned_economy
add_namespace = NSB_soviet_fascist_tsarist
add_namespace = NSB_soviet_nationalist


#########################
### INTRO TO PARANOIA ###
#########################

### PARANOIA SYSTEM STARTS ###
country_event = {
	id = NSB_soviet_paranoia_system_events.01
	title = NSB_soviet_paranoia_system_events.01.t
	desc = NSB_soviet_paranoia_system_events.01.desc
	picture = GFX_report_event_stalin_01
	
	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			SOV_initiate_paranoia_effect = yes
		}
	}

	trigger = {
		NOT = { has_completed_focus = SOV_the_bloc_of_rights_and_trotskyites }
	}

	option = { #GOOD TO KNOW, THANKS
		name = NSB_soviet_paranoia_system_events.01.a
		
		custom_effect_tooltip = SOV_paranoia_system_intro_tt
		unlock_decision_category_tooltip = SOV_paranoia_system

		#Stalin gets paranoid
		effect_tooltip = {
			add_country_leader_trait = stalin_political_paranoia
		}

		#NKVD chiefs will make Political Paranoia worse
		custom_effect_tooltip = SOV_paranoia_system_nkvd_trait_tt
	}
}

####################
### ADMIN PURGES ###
####################

### ADVISOR ACCUSED OF TREASON - ADMIN ###
country_event = {
	id = NSB_soviet_paranoia_system_events.11
	title = NSB_soviet_paranoia_system_events.11.t
	desc = NSB_soviet_paranoia_system_events.11.desc
	picture = GFX_report_event_soviet_purge_trial
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = { #PURGE MODE ON
		name = NSB_soviet_paranoia_system_events.11.a
		ai_chance = {
			base = 10
		}
		hidden_effect = {
			every_character = {
				limit = {
					is_character_slot = political_advisor
					has_character_flag = SOV_targeted_for_purge_flag
				}
				SOV_purge_character_effect = yes
			}
		}

		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_targeted_for_purge_flag
			}
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_high_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}

		clear_variable = SOV_purged_character_for_loc
	}

	option = { #PURGE MODE OFF
		name = NSB_soviet_paranoia_system_events.11.b
		ai_chance = {
			base = 1
			#modifier = { #Don't purge historically-not-purged people on historical # SOV_historically_not_purged_flag not implemented for now -> Adds more randomness
			#	factor = 100
			#	SOV_is_going_historical_stalinist = yes
			#	any_character = {
			#		has_character_flag = SOV_targeted_for_purge_flag
			#		has_character_flag = SOV_historically_not_purged_flag
			#	}
			#}
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes
		clear_variable = SOV_purged_character_for_loc
	}
}

### CIVIL SERVANTS PURGED - ADMIN ###
country_event = {
	id = NSB_soviet_paranoia_system_events.12
	title = NSB_soviet_paranoia_system_events.12.t
	desc = NSB_soviet_paranoia_system_events.12.desc
	picture = GFX_report_event_SOV_purge_administration
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = {
		name = NSB_soviet_paranoia_system_events.12.a
		ai_chance = {
			base = 10
		}

		add_timed_idea = {
			idea = SOV_understaffed_bureaucracy ##
			days = 30
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_medium_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}
	}

	option = {
		name = NSB_soviet_paranoia_system_events.12.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}

		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes
	}
}

### NKVD PURGED - ADMIN ###
country_event = {
	id = NSB_soviet_paranoia_system_events.13
	title = NSB_soviet_paranoia_system_events.13.t
	desc = NSB_soviet_paranoia_system_events.13.desc
	picture = GFX_report_event_soviet_purge_trial

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = {
		name = NSB_soviet_paranoia_system_events.13.a
		ai_chance = {
			base = 10
		}

		if = {
			limit = {
				has_idea = SOV_genrikh_yagoda
			}
			hidden_effect = {
				SOV_genrikh_yagoda = {
					SOV_purge_character_effect = yes
				}
			}

			custom_effect_tooltip = SOV_characters_will_be_purged_tt
			character_list_tooltip = {
				limit = {
					is_character = SOV_genrikh_yagoda
				}
			}

			activate_advisor = SOV_nikolay_yezhov
		}
		else_if = {
			limit = {
				has_idea = SOV_nikolay_yezhov
			}
			hidden_effect = {
				SOV_nikolay_yezhov = {
					SOV_purge_character_effect = yes
				}
			}
			custom_effect_tooltip = SOV_characters_will_be_purged_tt
			character_list_tooltip = {
				limit = {
					is_character = SOV_nikolay_yezhov
				}
			}

			activate_advisor = SOV_lavrenty_beriya
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_high_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}
	}

	option = {
		name = NSB_soviet_paranoia_system_events.13.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes
	}
}

### GREAT PURGE - MOSCOW TRIALS - ADMIN ###
country_event = {
	id = NSB_soviet_paranoia_system_events.19
	title = NSB_soviet_paranoia_system_events.19.t
	desc = {
		text = NSB_soviet_paranoia_system_events.19.desc_1 #first Moscow trial 
		trigger = {
			has_country_flag = SOV_purge_event_unavoidable_flag
			check_variable = { SOV_moscow_trial_index < 2 }
		}
	}
	desc = {
		text = NSB_soviet_paranoia_system_events.19.desc_2 #second Moscow trial 
		trigger = {
			has_country_flag = SOV_purge_event_unavoidable_flag
			check_variable = { SOV_moscow_trial_index > 1 } 
			check_variable = { SOV_moscow_trial_index < 3 } 
		}
	}
	desc = {
		text = NSB_soviet_paranoia_system_events.19.desc_3 #last Moscow trial 
		trigger = {
			has_country_flag = SOV_purge_event_unavoidable_flag
			check_variable = { SOV_moscow_trial_index > 2 }
		}
	}
	desc = {
		text = NSB_soviet_paranoia_system_events.19.desc_4 #Generic Purge
		trigger = { NOT = { has_country_flag = SOV_purge_event_unavoidable_flag } }
	}

	picture = GFX_report_event_SOV_purge_administration
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_great = yes
		}
	}

	option = { #PURGE MODE ON
		name = NSB_soviet_paranoia_system_events.19.a
		ai_chance = {
			base = 10
		}

		hidden_effect = {
			every_character = {
				limit = {
					is_character_slot = political_advisor
					has_character_flag = SOV_targeted_for_purge_flag
				}
				SOV_purge_character_effect = yes
				
			}
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_targeted_for_purge_flag
			}
		}

		#PARANOIA decreases
		SOV_paranoia_very_high_decrease_effect = yes

		#Increase moscow trial index by 1 for next event title
		add_to_variable = { SOV_moscow_trial_index = 1 }

		if = {
			limit = {
				has_country_flag = SOV_purge_event_unavoidable_flag
			}
			custom_effect_tooltip = SOV_purge_event_unavoidable_purge_great_tt
		}
		else_if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_great
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_great_tt
		}

		#Clear flags forbidding the "avoid purge" option from showing up
		SOV_clear_unavoidable_purge_flags_effect = yes
	}

	option = { #PURGE MODE OFF
		name = NSB_soviet_paranoia_system_events.19.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_great_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_great }
			NOT = { has_country_flag = SOV_purge_event_unavoidable_flag } #Used for historical purges triggered via focus
		}

		add_political_power = SOV_purge_event_pp_to_avoid_great_pay

		#PARANOIA increases
		SOV_paranoia_very_high_increase_effect = yes

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes

		#Increase moscow trial index by 1 for next event title
		add_to_variable = { SOV_moscow_trial_index = 1 }
	}
}

###################
### ARMY PURGES ###
###################

### GENERAL ACCUSED OF TREASON - ARMY ###
unit_leader_event = {
	id = NSB_soviet_paranoia_system_events.21
	title = NSB_soviet_paranoia_system_events.21.t
	desc = NSB_soviet_paranoia_system_events.21.desc
	picture = GFX_report_event_soviet_purge_officers_02
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = { #PURGE
		name = NSB_soviet_paranoia_system_events.21.a
		ai_chance = {
			base = 10
		}

		hidden_effect = {
			random_army_leader = {
				limit = {
					has_character_flag = SOV_targeted_for_purge_flag
				}
				SOV_purge_character_effect = yes
			}
		}
		#custom_effect_tooltip = SOV_retire_purged_character_tt

		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_targeted_for_purge_flag
			}
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#RANDOM GENERALS COWED
		SOV_paranoia_daunt_generals_minor_effect = yes

		#PARANOIA DECREASES based on general's level
		set_variable = { SOV_unit_leader_level = SOV_accused_unit_leader_level } #Set the appropriate var used in the scripted effect
		SOV_paranoia_decrease_based_on_unit_leader_level_effect = yes
		custom_effect_tooltip = NSB_soviet_paranoia_system_events.24_paranoia_accused_decrease_tt

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}
		# Increase opposition Army Support 
		SOV_increase_opposition_army_support_small = yes 
		clear_variable = SOV_purged_character_for_loc
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.21.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		SOV_paranoia_increase_based_on_unit_leader_level_effect = yes

		#PARANOIA INCREASES
		set_variable = { SOV_unit_leader_level = SOV_accused_unit_leader_level } #Set the appropriate var used in the scripted effect
		SOV_paranoia_increase_based_on_unit_leader_level_effect = yes
		custom_effect_tooltip = NSB_soviet_paranoia_system_events.24_paranoia_accused_increase_tt

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes
		clear_variable = SOV_purged_character_for_loc
	}
}

### CONSPIRACY IN THE ACADEMY - ARMY ###
country_event = {
	id = NSB_soviet_paranoia_system_events.22
	title = NSB_soviet_paranoia_system_events.22.t
	desc = NSB_soviet_paranoia_system_events.22.desc
	picture = GFX_report_event_SOV_purge_administration
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = { #PURGE
		name = NSB_soviet_paranoia_system_events.22.a
		ai_chance = {
			base = 10
		}

		add_ideas = SOV_anti_soviet_military_thinking_banned_army

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_low_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}
		# Increase opposition Army Support 
		SOV_increase_opposition_army_support_small = yes 
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.22.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes
	}
}

### ANTI-SABOTEUR CAMPAIGN - ARMY ###
country_event = {
	id = NSB_soviet_paranoia_system_events.23
	title = NSB_soviet_paranoia_system_events.23.t
	desc = NSB_soviet_paranoia_system_events.23.desc
	picture = GFX_report_event_soviet_soldiers_tank
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = { #PURGE
		name = NSB_soviet_paranoia_system_events.23.a
		ai_chance = {
			base = 10
		}

		add_timed_idea = {
			idea = SOV_training_activities_curtailed
			days = 365
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_low_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}
		# Increase opposition Army Support 
		SOV_increase_opposition_army_support_small = yes 
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.23.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes
	}
}

### GENERAL ACCUSES GENERAL - ARMY ###
unit_leader_event = {
	id = NSB_soviet_paranoia_system_events.24
	title = NSB_soviet_paranoia_system_events.24.t
	desc = NSB_soviet_paranoia_system_events.24.desc
	picture = GFX_report_event_soviet_purge_officers_02
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = { #PURGE ACCUSED
		name = NSB_soviet_paranoia_system_events.24.a
		ai_chance = {
			base = 10
		}

		hidden_effect = {
			random_army_leader = {
				limit = {
					has_character_flag = SOV_purge_accused_flag
				}
				SOV_purge_character_effect = yes
			}
		}
		#custom_effect_tooltip = SOV_retire_accused_character_tt
		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_purge_accused_flag
			}
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#RANDOM GENERALS COWED
		SOV_paranoia_daunt_generals_minor_effect = yes
		
		#PARANOIA decreases based on general's level
		set_variable = { SOV_unit_leader_level = SOV_accused_unit_leader_level } #Set the appropriate var used in the scripted effect
		SOV_paranoia_decrease_based_on_unit_leader_level_effect = yes
		custom_effect_tooltip = NSB_soviet_paranoia_system_events.24_paranoia_accused_decrease_tt

		#CLEAN EVERYTHING THANKS
		hidden_effect = {
			clear_variable = SOV_accused_unit_leader_level
			clear_variable = SOV_accuser_unit_leader_level
			clear_variable = SOV_accused_character_for_loc
			clear_variable = SOV_accuser_character_for_loc
			every_army_leader = {
				limit = {
					has_character_flag = SOV_purge_accuser_flag
				}
				clr_character_flag = SOV_purge_accuser_flag
			}
		}

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}
		# Increase opposition Army Support 
		SOV_increase_opposition_army_support_small = yes 
	}

	option = { #PURGE ACCUSER 
		name = NSB_soviet_paranoia_system_events.24.b
		ai_chance = {
			base = 5
			modifier = {
				factor = 2
				SOV_is_going_historical_stalinist = no
			}
		}

		hidden_effect = {
			random_army_leader = {
				limit = {
					has_character_flag = SOV_purge_accuser_flag
				}
				SOV_purge_character_effect = yes
			}
		}
		#custom_effect_tooltip = SOV_retire_accuser_character_tt
		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_purge_accuser_flag
			}
		}

		#RANDOM GENERALS COWED
		SOV_paranoia_daunt_generals_minor_effect = yes

		#PARANOIA decreases based on general's level
		set_variable = { SOV_unit_leader_level = SOV_accuser_unit_leader_level } #Set the appropriate var used in the scripted effect and clean vars and flags
		SOV_paranoia_decrease_based_on_unit_leader_level_effect = yes
		custom_effect_tooltip = NSB_soviet_paranoia_system_events.24_paranoia_accused_decrease_tt

		#CLEAN EVERYTHING THANKS
		hidden_effect = {
			clear_variable = SOV_accused_unit_leader_level
			clear_variable = SOV_accuser_unit_leader_level
			clear_variable = SOV_accused_character_for_loc
			clear_variable = SOV_accuser_character_for_loc
			every_army_leader = {
				limit = {
					has_character_flag = SOV_purge_accused_flag
				}
				clr_character_flag = SOV_purge_accused_flag
			}
		}

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}
		# Increase opposition Army Support 
		SOV_increase_opposition_army_support_small = yes 
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.24.c
		ai_chance = {
			base = 2
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		every_army_leader = { #Both characters get cowed
			limit = {
				OR = {
					has_character_flag = SOV_purge_accuser_flag
					has_character_flag = SOV_purge_accused_flag
				}
			}
			add_unit_leader_trait = trait_SOV_cowed_by_stalin_army
		}

		#PARANOIA INCREASES
		set_variable = { SOV_unit_leader_level = SOV_accused_unit_leader_level } #Set the appropriate var used in the scripted effect and clean vars and flags
		add_to_variable = { SOV_unit_leader_level = SOV_accuser_unit_leader_level }
		SOV_paranoia_increase_based_on_unit_leader_level_effect = yes
		custom_effect_tooltip = NSB_soviet_paranoia_system_events.24_paranoia_both_increase_tt

		#CLEAN EVERYTHING THANKS
		hidden_effect = {
			clear_variable = SOV_accused_unit_leader_level
			clear_variable = SOV_accuser_unit_leader_level
			clear_variable = SOV_accused_character_for_loc
			clear_variable = SOV_accuser_character_for_loc
			random_army_leader = {
				limit = {
					has_character_flag = SOV_purge_accused_flag
				}
				clr_character_flag = SOV_purge_accused_flag
			}
			random_army_leader = {
				limit = {
					has_character_flag = SOV_purge_accuser_flag
				}
				clr_character_flag = SOV_purge_accuser_flag
			}
		}
	}
}

### GREAT PURGE TRIAL OF THE GENERALS - ARMY ###
country_event = {
	id = NSB_soviet_paranoia_system_events.29
	title = NSB_soviet_paranoia_system_events.29.t
	desc = NSB_soviet_paranoia_system_events.29.desc
	picture = GFX_report_event_soviet_purge_officers_01
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_great = yes
		}
	}

	option = { #PURGE THEM!!
		name = NSB_soviet_paranoia_system_events.29.a
		ai_chance = {
			base = 10
		}

		hidden_effect = {
			#Purge any Advisors
			every_character = {
				limit = {
					has_army_ledger = yes
					has_character_flag = SOV_targeted_for_purge_flag
				}
				SOV_purge_character_effect = yes	
				#log = "Hey I am [THIS.GetName] I am in the Event!"
			}

			#Purge any Marshals/Generals #This is a duplicate as a workaround for tooltip purposes
			every_army_leader = {
				limit = {
					OR = {
						is_field_marshal = yes
						is_corps_commander = yes
					}
					has_character_flag = SOV_targeted_for_purge_flag
				}
				SOV_purge_character_effect = yes	
				#log = "Hey I am [THIS.GetName] I am in the Event!"
			}
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_targeted_for_purge_flag
			}
		}

		#RANDOM GENERALS COWED
		SOV_paranoia_daunt_generals_effect = yes

		#PARANOIA decreases
		SOV_paranoia_very_high_decrease_effect = yes

		if = {
			limit = {
				has_country_flag = SOV_purge_event_unavoidable_flag
			}
			custom_effect_tooltip = SOV_purge_event_unavoidable_purge_great_tt
		}
		else_if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_great
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_great_tt
		}

		#Clear flags forbidding the "avoid purge" option from showing up
		SOV_clear_unavoidable_purge_flags_effect = yes

		# Increase opposition Army Support 
		SOV_increase_opposition_army_support_small = yes  
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.29.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_great_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_great }
			NOT = { has_country_flag = SOV_purge_event_unavoidable_flag } #Used for historical purges triggered via focus
		}

		add_political_power = SOV_purge_event_pp_to_avoid_great_pay

		#PARANOIA INCREASES
		SOV_paranoia_very_high_increase_effect = yes

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes
	}
}

###################
### NAVY PURGES ###
###################

### ADMIRAL ACCUSED OF TREASON - NAVY ###
unit_leader_event = {
	id = NSB_soviet_paranoia_system_events.31
	title = NSB_soviet_paranoia_system_events.31.t
	desc = NSB_soviet_paranoia_system_events.31.desc
	picture = GFX_report_event_soviet_purge_trial
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = { #PURGE
		name = NSB_soviet_paranoia_system_events.31.a
		ai_chance = {
			base = 10
		}

		hidden_effect = {
			random_navy_leader = {
				limit = {
					has_character_flag = SOV_targeted_for_purge_flag
				}
				SOV_purge_character_effect = yes
			}
		}
		#custom_effect_tooltip = SOV_retire_purged_character_tt
		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_targeted_for_purge_flag
			}
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#RANDOM ADMIRALS COWED
		SOV_paranoia_daunt_admirals_minor_effect = yes

		#PARANOIA DECREASES based on general's level
		set_variable = { SOV_unit_leader_level = SOV_accused_unit_leader_level } #Set the appropriate var used in the scripted effect
		SOV_paranoia_decrease_based_on_unit_leader_level_effect = yes
		custom_effect_tooltip = NSB_soviet_paranoia_system_events.24_paranoia_accused_decrease_tt

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}

		# Increase opposition Navy Support 
		SOV_increase_opposition_navy_support_small = yes
		clear_variable = SOV_purged_character_for_loc 
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.21.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA INCREASES
		set_variable = { SOV_unit_leader_level = SOV_accused_unit_leader_level } #Set the appropriate var used in the scripted effect
		SOV_paranoia_increase_based_on_unit_leader_level_effect = yes
		custom_effect_tooltip = NSB_soviet_paranoia_system_events.24_paranoia_accused_increase_tt

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes
		clear_variable = SOV_purged_character_for_loc
	}
}

### CONSPIRACY IN THE ACADEMY - NAVY ###
#Loc taken from the Army event
country_event = {
	id = NSB_soviet_paranoia_system_events.32
	title = NSB_soviet_paranoia_system_events.22.t
	desc = NSB_soviet_paranoia_system_events.22.desc
	picture = GFX_report_event_SOV_purge_administration
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = { #PURGE
		name = NSB_soviet_paranoia_system_events.22.a
		ai_chance = {
			base = 10
		}

		add_ideas = SOV_anti_soviet_military_thinking_banned_navy

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_medium_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}

		# Increase opposition Navy Support 
		SOV_increase_opposition_navy_support_small = yes  	
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.22.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes
	}
}

### ANTI-SABOTEUR CAMPAIGN - NAVY ###
country_event = {
	id = NSB_soviet_paranoia_system_events.33
	title = NSB_soviet_paranoia_system_events.23.t
	desc = NSB_soviet_paranoia_system_events.33.desc
	picture = GFX_report_event_SOV_purge_navy
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = { #PURGE
		name = NSB_soviet_paranoia_system_events.23.a
		ai_chance = {
			base = 10
		}

		add_timed_idea = {
			idea = SOV_shipyard_staff_purged
			days = 365
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_medium_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}

		# Increase opposition Navy Support 
		SOV_increase_opposition_navy_support_small = yes  
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.23.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes
	}
}

### GREAT PURGE - JUNIOR NAVY OFFICERS - NAVY ###
country_event = {
	id = NSB_soviet_paranoia_system_events.38
	title = NSB_soviet_paranoia_system_events.38.t
	desc = NSB_soviet_paranoia_system_events.38.desc
	picture = GFX_report_event_SOV_purge_young_officers
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_great = yes
		}
	}

	option = { #PURGE
		name = NSB_soviet_paranoia_system_events.28.a
		ai_chance = {
			base = 10
		}

		if = {
			limit = {
				has_idea = SOV_purged_junior_navy_officers_3
			}
			# NOTHING HAPPENS, but this should not be a possibility
		}
		else_if = {
			limit = {
				has_idea = SOV_purged_junior_navy_officers_2
			}
			swap_ideas = {
				remove_idea = SOV_purged_junior_navy_officers_2
				add_idea = SOV_purged_junior_navy_officers_3
			}
		}
		else_if = {
			limit = {
				has_idea = SOV_purged_junior_navy_officers_1
			}
			swap_ideas = {
				remove_idea = SOV_purged_junior_navy_officers_1
				add_idea = SOV_purged_junior_navy_officers_2
			}
		}
		else = {
			add_ideas = SOV_purged_junior_navy_officers_1
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_low_decrease_effect = yes

		if = {
			limit = {
				has_country_flag = SOV_purge_event_unavoidable_flag
			}
			custom_effect_tooltip = SOV_purge_event_unavoidable_purge_great_tt
		}
		else_if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_great
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_great_tt
		}

		#Clear flags forbidding the "avoid purge" option from showing up
		SOV_clear_unavoidable_purge_flags_effect = yes	

		# Increase opposition Navy Support 
		SOV_increase_opposition_navy_support_small = yes  
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.28.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_great_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_great }
			NOT = { has_country_flag = SOV_purge_event_unavoidable_flag } #Used for historical purges triggered via focus
		}

		add_political_power = SOV_purge_event_pp_to_avoid_great_pay

		#PARANOIA increases
		SOV_paranoia_high_increase_effect = yes
	}
}

### GREAT PURGE - TRIAL OF THE ADMIRALS - NAVY ###
country_event = {
	id = NSB_soviet_paranoia_system_events.39
	title = NSB_soviet_paranoia_system_events.39.t
	desc = NSB_soviet_paranoia_system_events.39.desc
	picture = GFX_report_event_SOV_purge_navy
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_great = yes
		}
	}

	option = { #PURGE
		name = NSB_soviet_paranoia_system_events.29.a
		ai_chance = {
			base = 10
		}

		hidden_effect = {
			#Purge any Advisors
			every_character = {
				limit = {
					has_navy_ledger = yes
					has_character_flag = SOV_targeted_for_purge_flag
				}
				SOV_purge_character_effect = yes	
			}

			#Purge any Admirals # This is a duplicate as a workaround for tooltip purposes
			every_navy_leader = {
				limit = {
					has_character_flag = SOV_targeted_for_purge_flag
				}
				SOV_purge_character_effect = yes	
			}
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_targeted_for_purge_flag
			}
		}

		#RANDOM ADMIRALS COWED
		SOV_paranoia_daunt_admirals_effect = yes

		#PARANOIA decreases
		SOV_paranoia_very_high_decrease_effect = yes

		if = {
			limit = {
				has_country_flag = SOV_purge_event_unavoidable_flag
			}
			custom_effect_tooltip = SOV_purge_event_unavoidable_purge_great_tt
		}
		else_if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_great
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_great_tt
		}

		#Clear flags forbidding the "avoid purge" option from showing up
		SOV_clear_unavoidable_purge_flags_effect = yes

		# Increase opposition Navy Support 
		SOV_increase_opposition_navy_support_small = yes  
	}

	option = { #NO WAIT! Let's Think about it
		name = NSB_soviet_paranoia_system_events.29.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_great_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_great }
			NOT = { has_country_flag = SOV_purge_event_unavoidable_flag } #Used for historical purges triggered via focus
		}

		add_political_power = SOV_purge_event_pp_to_avoid_great_pay

		#PARANOIA increases
		SOV_paranoia_very_high_increase_effect = yes

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes
	}
}


#######################
### AIRFORCE PURGES ###
#######################

### CONSPIRACY IN THE ACADEMY - AIRFORCE ###
country_event = {
	id = NSB_soviet_paranoia_system_events.41
	title = NSB_soviet_paranoia_system_events.22.t
	desc = NSB_soviet_paranoia_system_events.22.desc
	picture = GFX_report_event_SOV_purge_administration
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = {
		name = NSB_soviet_paranoia_system_events.22.a
		ai_chance = {
			base = 10
		}

		add_ideas = SOV_anti_soviet_military_thinking_banned_airforce

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_medium_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}
	}

	option = {
		name = NSB_soviet_paranoia_system_events.22.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes
	}
}

#### ANTI-SABOTEUR CAMPAIGN - AIRFORCE ###
country_event = {
	id = NSB_soviet_paranoia_system_events.42
	title = NSB_soviet_paranoia_system_events.23.t
	desc = NSB_soviet_paranoia_system_events.42.desc
	picture = GFX_report_event_SOV_purge_aircraft_2
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_regular = yes
		}
	}

	option = {
		name = NSB_soviet_paranoia_system_events.23.a
		ai_chance = {
			base = 10
		}

		add_timed_idea = {
			idea = SOV_ground_based_training
			days = 365
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_medium_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_regular
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_regular_tt
		}	
	}

	option = {
		name = NSB_soviet_paranoia_system_events.23.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_regular_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_regular }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_regular_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes
	}
}

### GREAT PURGE - DESIGN BUREAU DISSOLVED - AIRFORCE ###
country_event = {
	id = NSB_soviet_paranoia_system_events.48
	title = NSB_soviet_paranoia_system_events.48.t
	desc = NSB_soviet_paranoia_system_events.48.desc
	picture = GFX_report_event_SOV_purge_aircraft_1
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			SOV_paranoia_increase_purge_counter_great = yes
		}
	}

	option = {
		name = NSB_soviet_paranoia_system_events.48.a
		ai_chance = {
			base = 10
		}

		if = {
			limit = { # MIG
				check_variable = {
					var = SOV_random_bureau_to_dissolve
					value = 0.75
					compare = greater_than_or_equals 
				}
			}
			remove_ideas = SOV_mig_design_bureau
			set_country_flag = SOV_mig_design_bureau_dissolved_flag
			unlock_decision_tooltip = SOV_reinstate_mig_design_bureau
		}
		else_if = {
			limit = { # ILYUSHIN
				check_variable = {
					var = SOV_random_bureau_to_dissolve
					value = 0.5
					compare = greater_than_or_equals 
				}
			}
			remove_ideas = SOV_ilyushin_design_bureau
			set_country_flag = SOV_ilyushin_design_bureau_dissolved_flag
			unlock_decision_tooltip = SOV_reinstate_ilyushin_design_bureau
		}
		else_if = {
			limit = { # TUPOLEV
				check_variable = {
					var = SOV_random_bureau_to_dissolve
					value = 0.25
					compare = greater_than_or_equals 
				}
			}
			remove_ideas = SOV_tupolev_design_bureau
			set_country_flag = SOV_tupolev_design_bureau_dissolved_flag
			unlock_decision_tooltip = SOV_reinstate_tupolev_design_bureau
		}
		else= { #YAKOVLEV
			remove_ideas = SOV_yakovlev_design_bureau
			set_country_flag = SOV_yakovlev_design_bureau_dissolved_flag
			unlock_decision_tooltip = SOV_reinstate_yakovlev_design_bureau
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		#PARANOIA decreases
		SOV_paranoia_very_high_decrease_effect = yes

		if = {
			limit = {
				has_country_flag = SOV_purge_event_unavoidable_flag
			}
			custom_effect_tooltip = SOV_purge_event_unavoidable_purge_great_tt
		}
		else_if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_great
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_great_tt
		}
		
		#Clear flags forbidding the "avoid purge" option from showing up
		SOV_clear_unavoidable_purge_flags_effect = yes
	}

	option = {
		name = NSB_soviet_paranoia_system_events.48.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_great_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_great }
			NOT = { has_country_flag = SOV_purge_event_unavoidable_flag } #Used for historical purges triggered via focus
		}

		add_political_power = SOV_purge_event_pp_to_avoid_great_pay

		#PARANOIA increases
		SOV_paranoia_very_high_increase_effect = yes
	}
}

### GREAT PURGE - AIRFORCE CHIEFS - AIRFORCE ###
country_event = {
	id = NSB_soviet_paranoia_system_events.49
	title = NSB_soviet_paranoia_system_events.49.t
	desc = NSB_soviet_paranoia_system_events.49.desc
	picture = GFX_report_event_soviet_purge_trial
	
	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			if = {
				limit = {
					NOT = { has_country_flag = SOV_purged_airforce_chiefs_flag }
				}
				set_country_flag = SOV_purged_airforce_chiefs_flag
			}		
			SOV_paranoia_increase_purge_counter_great = yes
		}
	}

	option = { #PURGE MODE ON
		name = NSB_soviet_paranoia_system_events.49.a
		ai_chance = {
			base = 10
		}

		hidden_effect = {
			every_character = {
				limit = {
					has_character_flag = SOV_targeted_for_purge_flag
					has_air_ledger = yes
				}
				SOV_purge_character_effect = yes
			}
		}

		#Update purged portraits in UI
		hidden_effect = {
			SOV_paranoia_update_portraits_ui = yes
		}

		custom_effect_tooltip = SOV_characters_will_be_purged_tt
		character_list_tooltip = {
			limit = {
				has_character_flag = SOV_targeted_for_purge_flag
			}
		}

		#PARANOIA decreases
		SOV_paranoia_high_decrease_effect = yes

		if = {
			limit = {
				has_political_power < SOV_purge_event_pp_to_avoid_great
			}
			custom_effect_tooltip = SOV_purge_event_not_enough_pp_to_avoid_great_tt
		}
	}

	option = { #PURGE MODE OFF
		name = NSB_soviet_paranoia_system_events.49.b
		ai_chance = {
			base = 1
			modifier = { #Don't go to negative PP please
				factor = 0
				has_political_power < SOV_purge_event_pp_to_avoid_great_pay
			}
			modifier = { #Don't risk starting CW too early
				factor = 0
				SOV_is_opposition = yes 
			}
		}

		trigger = {
			NOT = { has_political_power < SOV_purge_event_pp_to_avoid_great }
		}

		add_political_power = SOV_purge_event_pp_to_avoid_great_pay

		#PARANOIA increases
		SOV_paranoia_low_increase_effect = yes

		#CLEAN EVERYTHING THANKS
		SOV_clean_purge_targets_effect = yes
	}
}



########  ########   #######  ########     ###     ######      ###    ##    ## ########     ###    
##     ## ##     ## ##     ## ##     ##   ## ##   ##    ##    ## ##   ###   ## ##     ##   ## ##   
##     ## ##     ## ##     ## ##     ##  ##   ##  ##         ##   ##  ####  ## ##     ##  ##   ##  
########  ########  ##     ## ########  ##     ## ##   #### ##     ## ## ## ## ##     ## ##     ## 
##        ##   ##   ##     ## ##        ######### ##    ##  ######### ##  #### ##     ## ######### 
##        ##    ##  ##     ## ##        ##     ## ##    ##  ##     ## ##   ### ##     ## ##     ## 
##        ##     ##  #######  ##        ##     ##  ######   ##     ## ##    ## ########  ##     ## 


#Propaganda Dispatcher - Left Slot - Used to update Campaign GFX when it's old.
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.101
	title = NSB_soviet_propaganda_capmaign_events.101.t
	desc = NSB_soviet_propaganda_capmaign_events.101.desc
	
	is_triggered_only = yes

	trigger = {
		check_variable = { SOV_propaganda_left_poster_to_age = SOV_poster_left_icon_frame } #So that this does not happen if a propaganda is cancelled, breaking everything
	}

	hidden = yes

	immediate = {
		set_country_flag = SOV_propaganda_left_slot_is_old_flag
		#log = "I AM HERE: LEFT FRAME IS [?SOV_poster_left_icon_frame] // POSTER TO AGE IS [?SOV_propaganda_left_poster_to_age]" #Debug
	}
}

#Propaganda Dispatcher - Center Slot - Used to update Campaign GFX when it's old.
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.102
	title = NSB_soviet_propaganda_capmaign_events.102.t
	desc = NSB_soviet_propaganda_capmaign_events.102.desc
	
	is_triggered_only = yes

	trigger = {
		check_variable = { SOV_propaganda_center_poster_to_age = SOV_poster_center_icon_frame } #So that this does not happen if a propaganda is cancelled, breaking everything
	}

	hidden = yes

	immediate = {
		set_country_flag = SOV_propaganda_center_slot_is_old_flag
		#log = "I AM HERE: CENTER FRAME IS [?SOV_poster_center_icon_frame] // POSTER TO AGE IS [?SOV_propaganda_center_poster_to_age]" #Debug
	}
}

#Propaganda Dispatcher - Right Slot - Used to update Campaign GFX when it's old.
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.103
	title = NSB_soviet_propaganda_capmaign_events.103.t
	desc = NSB_soviet_propaganda_capmaign_events.103.desc
	
	is_triggered_only = yes

	trigger = {
		check_variable = { SOV_propaganda_right_poster_to_age = SOV_poster_right_icon_frame } #So that this does not happen if a propaganda is cancelled, breaking everything
	}

	hidden = yes

	immediate = {
		set_country_flag = SOV_propaganda_right_slot_is_old_flag
		#log = "I AM HERE: RIGHT FRAME IS [?SOV_poster_right_icon_frame] // POSTER TO AGE IS [?SOV_propaganda_right_poster_to_age]" #Debug
	}
}

# YOUNG BUILDERS OF COMMUNISM - event for SOV's puppets
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.1
	title = NSB_soviet_propaganda_capmaign_events.1.t
	desc = NSB_soviet_propaganda_capmaign_events.1.desc
	picture = GFX_report_event_SOV_young_builders_of_communism
	
	is_triggered_only = yes

	option = { #OK
		name = NSB_soviet_propaganda_capmaign_events.1.a

		add_timed_idea = {
			idea = SOV_young_builders_of_communism
			days = SOV.SOV_default_propaganda_campaign_duration
		}
	}
}

# LONG LIVE TO PEACE - event for SOV (peace broken as attacker)
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.2
	title = NSB_soviet_propaganda_capmaign_events.2.t
	desc = NSB_soviet_propaganda_capmaign_events.2.desc
	picture = GFX_report_event_SOV_young_builders_of_communism
	
	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			set_country_flag = SOV_punished_for_breaking_flag
			add_timed_idea = {
				idea = SOV_broken_peace_dreams_attacker
				days = 180
			}
			#RESET PROPAGANDA CAMPAIGN
			set_rule = { can_send_volunteers = yes }
			clr_country_flag = SOV_propaganda_peace_active_flag
			set_variable = { SOV_propaganda_campaign_to_remove = 25 }
			SOV_reset_propaganda_campaign_slot_effect = yes
		}
	}

	option = { #OK
		name = NSB_soviet_propaganda_capmaign_events.2.a

		effect_tooltip = {
			add_timed_idea = {
				idea = SOV_broken_peace_dreams_attacker
				days = 180
			}
		}
	}
}

# LONG LIVE TO PEACE - event for SOV (peace broken as defender)
country_event = {
	id = NSB_soviet_propaganda_capmaign_events.3
	title = NSB_soviet_propaganda_capmaign_events.2.t
	desc = NSB_soviet_propaganda_capmaign_events.3.desc
	picture = GFX_report_event_SOV_young_builders_of_communism

	is_triggered_only = yes

	fire_only_once = yes

	immediate = {
		hidden_effect = {
			set_country_flag = SOV_punished_for_breaking_flag
			add_timed_idea = {
				idea = SOV_broken_peace_dreams_defender
				days = 180
			}
			#RESET PROPAGANDA CAMPAIGN
			set_rule = { can_send_volunteers = yes }
			clr_country_flag = SOV_propaganda_peace_active_flag
			set_variable = { SOV_propaganda_campaign_to_remove = 25 }
			SOV_reset_propaganda_campaign_slot_effect = yes
		}
	}

	option = { #OK
		name = NSB_soviet_propaganda_capmaign_events.3.a

		effect_tooltip = {
			add_timed_idea = {
				idea = SOV_broken_peace_dreams_defender
				days = 180
			}
		}
	}
}


########  #######  ########  ######## ####  ######   ##    ##    ########   #######  ##       #### ######## ####  ######   ######  
##       ##     ## ##     ## ##        ##  ##    ##  ###   ##    ##     ## ##     ## ##        ##     ##     ##  ##    ## ##    ## 
##       ##     ## ##     ## ##        ##  ##        ####  ##    ##     ## ##     ## ##        ##     ##     ##  ##       ##       
######   ##     ## ########  ######    ##  ##   #### ## ## ##    ########  ##     ## ##        ##     ##     ##  ##        ######  
##       ##     ## ##   ##   ##        ##  ##    ##  ##  ####    ##        ##     ## ##        ##     ##     ##  ##             ## 
##       ##     ## ##    ##  ##        ##  ##    ##  ##   ###    ##        ##     ## ##        ##     ##     ##  ##    ## ##    ## 
##        #######  ##     ## ######## ####  ######   ##    ##    ##         #######  ######## ####    ##    ####  ######   ######  


# SOV is investing in developing our country - Event for minor Asian allies
country_event = {
	id = NSB_soviet_foreign_politics_events.10
	title = NSB_soviet_foreign_politics_events.10.t
	desc = NSB_soviet_foreign_politics_events.10.desc
	picture = GFX_report_event_china_ledo_road

	is_triggered_only = yes
			
	option = { #Ok
		name = NSB_soviet_foreign_politics_events.10.a
	
		ai_chance = { base = 1 }

		#CAPITAL
		capital_scope = {
			if = {
				limit = {
					infrastructure < 4
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
			else_if = {
				limit = {
					infrastructure < 5
				}
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			else_if = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}		
		}

		#ADDITIONAL RANDOM STATE
		if = {
			limit = {
				any_owned_state = {
					is_capital = no
				}
			}
			random_owned_state = {
				limit = {
					is_capital = no
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}		
			}
		}
	}

	option = { #Refuse
		name = NSB_soviet_foreign_politics_events.10.b

		ai_chance = { base = 0 }

		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_refused_to_follow_our_guidelines
			}
		}
		FROM = { country_event = { id = NSB_soviet_foreign_politics_events.13 hours = 8 random_hours = 4 } }
	}
}

# SOV wants us to follow war measures - Event for minor Asian allies
country_event = {
	id = NSB_soviet_foreign_politics_events.11
	title = NSB_soviet_foreign_politics_events.11.t
	desc = NSB_soviet_foreign_politics_events.11.desc
	picture = GFX_report_event_SOV_mongolia_cavalry

	is_triggered_only = yes
			
	option = { #Ok
		name = NSB_soviet_foreign_politics_events.11.a
	
		ai_chance = { base = 1 }

		add_timed_idea = { idea = SOV_war_measures_allies days = 1095 }
	}

	option = { #Refuse
		name = NSB_soviet_foreign_politics_events.11.b
		
		ai_chance = { base = 0 }
		
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_refused_to_follow_our_guidelines
			}
		}
		FROM = { country_event = { id = NSB_soviet_foreign_politics_events.13 hours = 8 random_hours = 4 } }
	}
}

# Our ally rejects our guidelines - Event for SOV (when any of the three events above are refused by a PLAYER)
country_event = {
	id = NSB_soviet_foreign_politics_events.13
	title = NSB_soviet_foreign_politics_events.13.t
	desc = NSB_soviet_foreign_politics_events.13.desc
	picture = GFX_report_event_stalin_meeting

	is_triggered_only = yes
			
	option = { #Refuse
		name = NSB_soviet_foreign_politics_events.13.a
				
		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_refused_to_follow_our_guidelines
			}
		}
	}
}

# SOV sends military advisors - Event for SPR
country_event = {
	id = NSB_soviet_foreign_politics_events.20
	title = NSB_soviet_foreign_politics_events.20.t
	desc = NSB_soviet_foreign_politics_events.20.desc
	picture = GFX_report_event_spr_spanish_civil_war

	is_triggered_only = yes
			
	option = { #Ok
		name = NSB_soviet_foreign_politics_events.20.a
		
		add_timed_idea = {idea = SOV_soviet_advisors_spr days = 1095 }
		effect_tooltip = {
			FROM = {
				add_timed_idea = {idea = SOV_military_advisors_in_spain days = 1095 }
			}
		}
	}
}

# Country becomes a puppet - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.150
	title = NSB_soviet_foreign_politics_events.150.t
	desc = NSB_soviet_foreign_politics_events.150.desc
	picture = GFX_report_event_stalin_propaganda

	is_triggered_only = yes
			
	option = { #Cool
		name = NSB_soviet_foreign_politics_events.150.a
		effect_tooltip = {
			set_politics = { ruling_party = ROOT }
			puppet = FROM
			add_to_faction = FROM
		}
	}
}

# Country joins faction - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.151
	title = NSB_soviet_foreign_politics_events.151.t
	desc = NSB_soviet_foreign_politics_events.151.desc
	picture = GFX_report_event_stalin_propaganda

	is_triggered_only = yes
			
	option = { #Okay
		name = NSB_soviet_foreign_politics_events.151.a
		effect_tooltip = {
			add_to_faction = FROM
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_pressured_our_government
				}
			}
		}
	}
}

# Country changes government - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.158
	title = NSB_soviet_foreign_politics_events.158.t
	desc = NSB_soviet_foreign_politics_events.158.desc
	picture = GFX_report_event_stalin_propaganda

	is_triggered_only = yes

	option = { #Okay
		name = NSB_soviet_foreign_politics_events.158.a
		effect_tooltip = {
			FROM = {
				set_politics = { ruling_party = ROOT }
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_pressured_our_government
				}
			}
		}
	}
}

# Country refuses - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.152
	title = NSB_soviet_foreign_politics_events.152.t
	desc = NSB_soviet_foreign_politics_events.152.desc
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
			
	option = { #Okay - Default generic option
		name = NSB_soviet_foreign_politics_events.152.a
	}
}

# SOV sends Infantry Equipment - Event for Target
country_event = {
	id = NSB_soviet_foreign_politics_events.250
	title = NSB_soviet_foreign_politics_events.250.t
	desc = NSB_soviet_foreign_politics_events.250.desc
	picture = "[GetInfantryEquipmentGFX]"

	is_triggered_only = yes
			
	option = { # Nice
		name = NSB_soviet_foreign_politics_events.10.a
		
		if = { #Spanish POUM -> Not actually transfering them, just creating spoawning them
			limit = {
				tag = SPC
			}
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = 6000
				producer = FROM
			}
		}
		else = { #Chinese tags get different stuff -> SOV actually sends stuff
			effect_tooltip = {
				add_equipment_to_stockpile = {
					type = infantry_equipment
					amount = 1000
					producer = FROM
				}
				add_equipment_to_stockpile = {
					type = support_equipment
					amount = 200
					producer = FROM
				}
			}
		}		
	}
}

# SOV prepares a war against JAP - Event for SOV's allies
country_event = {
	id = NSB_soviet_foreign_politics_events.251
	title = NSB_soviet_foreign_politics_events.251.t
	desc = NSB_soviet_foreign_politics_events.251.desc
	picture = GFX_report_event_SOV_tank_column

	is_triggered_only = yes
			
	option = { # Nice
		name = NSB_soviet_foreign_politics_events.251.a

		add_timed_idea = {
			idea = SOV_preparations_for_soviet_japanese_war_china
			days = 365
		}		
	}
}

# SOV starts war with JAP - Event for SOV's allies
country_event = {
	id = NSB_soviet_foreign_politics_events.252
	title = NSB_soviet_foreign_politics_events.252.t
	desc = NSB_soviet_foreign_politics_events.252.desc
	picture = GFX_report_event_soviet_soldiers_tank

	is_triggered_only = yes
			
	option = { # Nice
		name = NSB_soviet_foreign_politics_events.252.a

		add_timed_idea = {
			idea = SOV_soviet_japanese_reckoning_china
			days = 180
		}		
	}
}

####### SINKIANG ########

# SOV-SINKIANG - Initiate relations (Railwway SOV-SIK - Gobi Gambit) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.270
	title = NSB_soviet_foreign_politics_events.270.t
	desc = NSB_soviet_foreign_politics_events.270.desc
	picture = GFX_report_event_SOV_demands

	is_triggered_only = yes
			
	option = { # OK
		name = NSB_soviet_foreign_politics_events.270.a

		ai_chance = {
			base = 3
			modifier = { #Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = { has_idea = SOV_vyacheslav_molotov }
			}
		}
		
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}

			# Tashkent - Frunze - Alma-Ata - Urumqi
			build_railway = {
				path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 10547 10619 12529 7866 1783 10674 4709 }
			}
			#Supply Hub in Alma-Ata
			586 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1591
					instant_build = yes
				}
			}
			add_to_variable = { SOV_fyp_consumer_goods_factor = -0.01 }
		}
		custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik

		hidden_effect = {
			FROM = { country_event = { id = NSB_soviet_foreign_politics_events.271 hours = 1 } }
		}
	}

	option = { # Nope
		name = NSB_soviet_foreign_politics_events.270.b

		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = { is_in_faction_with = SOV }
			}
			modifier = {
				add = 5
				FROM = { is_justifying_wargoal_against = ROOT }
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = { is_subject_of = SOV }
			}
		}
	
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}

		FROM = { country_event = { id = NSB_soviet_foreign_politics_events.272 hours = 1 } }
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.271
	title = NSB_soviet_foreign_politics_events.271.t
	desc = NSB_soviet_foreign_politics_events.271.desc
	picture = GFX_report_event_generic_train

	is_triggered_only = yes
			
	option = { # Good
		name = NSB_soviet_foreign_politics_events.271.a

		ai_chance = {
			base = 1
		}

		effect_tooltip = {
			# Tashkent - Frunze - Alma-Ata - Urumqi
			build_railway = {
				path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 10547 10619 12529 7866 1783 10674 4709 }
			}
			#Supply Hub in Alma-Ata
			586 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 1591
					instant_build = yes
				}
			}
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov

			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}
		}
	}
}

# SOV-SINKIANG - Sinkiang rejects our proposal - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.272
	title = NSB_soviet_foreign_politics_events.272.t
	desc = NSB_soviet_foreign_politics_events.272.desc
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
			
	option = { # Respect
		name = NSB_soviet_foreign_politics_events.272.a

		ai_chance = {
			base = 3
			modifier = {
				add = -1
				FROM = { is_in_faction = yes }
			}
			modifier = {
				add = -1
				has_war = yes
			}
			modifier = {
				add = -1
				FROM = {
					is_subject = yes
					OVERLORD = {
						is_major = yes
					}
				}
			}
		}

		# Tashkent - Frunze - Alma-Ata
		build_railway = {
			path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 }
		}
		#Supply Hub in Alma-Ata
		586 = {
			add_building_construction = {
				type = supply_node
				level = 1
				province = 1591
				instant_build = yes
			}
		}
		
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
	}

	option = { # Unacceptable
		name = NSB_soviet_foreign_politics_events.272.b

		ai_chance = {
			base = 1
		}

		# Tashkent - Frunze - Alma-Ata
		build_railway = {
			path = { 1459 10148 10366 12397 12340 12640 7706 12583 4224 1591 }
		}
		#Supply Hub in Alma-Ata
		586 = {
			add_building_construction = {
				type = supply_node
				level = 1
				province = 1591
				instant_build = yes
			}
		}
	
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}

		add_named_threat = { threat = 2 name = SOV_claim_on_sinkiang_threat }
	}
}

# SOV-SINKIANG - Mineral Prospection (Railwway Urumqui-Kashgar) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.273
	title = NSB_soviet_foreign_politics_events.273.t
	desc = NSB_soviet_foreign_politics_events.273.desc
	picture = GFX_report_event_china_ledo_road

	is_triggered_only = yes
			
	option = { # OK
		name = NSB_soviet_foreign_politics_events.273.a

		ai_chance = {
			base = 3
			modifier = { #Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = { has_idea = SOV_vyacheslav_molotov }
			}
		}
		
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}

			add_to_variable = { SOV_fyp_consumer_goods_factor = -0.01 }
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik

			effect_tooltip = {
				custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
				619 = { #YARKAND - Minerals and Infra
					add_resource = {
						type = aluminium
						amount = 3
					}
					add_resource = {
						type = chromium
						amount = 3
					}
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
				}

				617 = { #URUMQI
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes						
						}
					}
				}

				# Urumqi - Kashgar
				build_railway = {
					path = { 4709 4770 7702 4682 7949 2015 }
				}
				#Supply Hub in Kashgar
				619 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 2015
						instant_build = yes
					}
				}
			}
		}

		hidden_effect = {
			FROM = { country_event = { id = NSB_soviet_foreign_politics_events.274 hours = 1 } }
			activate_mission = SOV_sinkiang_mineral_prospection_mission_dummy
		}
	}

	option = { # Nope
		name = NSB_soviet_foreign_politics_events.273.b

		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = { is_in_faction_with = SOV }
			}
			modifier = {
				add = 5
				FROM = { is_justifying_wargoal_against = ROOT }
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = { is_subject_of = SOV }
			}
		}
	
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}

		FROM = {
			country_event = { id = NSB_soviet_foreign_politics_events.275 hours = 1 }
			set_country_flag = SOV_sinkiang_prospection_rejected_flag
		}
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal (Mineral Prospection) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.274
	title = NSB_soviet_foreign_politics_events.274.t
	desc = NSB_soviet_foreign_politics_events.274.desc
	picture = GFX_report_event_china_ledo_road

	is_triggered_only = yes
			
	option = { # Good
		name = NSB_soviet_foreign_politics_events.274.a

		ai_chance = {
			base = 1
		}

		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}

			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov

			custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
			619 = { #YARKAND - Minerals and Infra
				add_resource = {
					type = aluminium
					amount = 3
				}
				add_resource = {
					type = chromium
					amount = 3
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes						
					}
				}
			}

			617 = { #URUMQI
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes						
					}
				}
			}

			# Urumqi - Kashgar
			build_railway = {
				path = { 4709 4770 7702 4682 7949 2015 }
			}
			#Supply Hub in Kashgar
			619 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 2015
					instant_build = yes
				}
			}
		}
	}
}

# SOV-SINKIANG - Sinkiang rejects our proposal (generic) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.275
	title = NSB_soviet_foreign_politics_events.275.t
	desc = NSB_soviet_foreign_politics_events.275.desc
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
			
	option = { # Respect
		name = NSB_soviet_foreign_politics_events.275.a

		ai_chance = {
			base = 3
			modifier = {
				add = -1
				FROM = { is_in_faction = yes }
			}
			modifier = {
				add = -1
				has_war = yes
			}
			modifier = {
				add = -1
				FROM = {
					is_subject = yes
					OVERLORD = {
						is_major = yes
					}
				}
			}
		}

		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
	}

	option = { # Unacceptable
		name = NSB_soviet_foreign_politics_events.275.b

		trigger = {
			NOT = { is_in_faction_with = FROM }
		}

		ai_chance = {
			base = 1
		}
	
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
		add_named_threat = { threat = 2 name = SOV_claim_on_sinkiang_threat }
	}
}

# SOV-SINKIANG - Oil Prospection (Railwway Urumqui-Altay) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.276
	title = NSB_soviet_foreign_politics_events.276.t
	desc = NSB_soviet_foreign_politics_events.276.desc
	picture = GFX_report_event_china_ledo_road

	is_triggered_only = yes
			
	option = { # OK
		name = NSB_soviet_foreign_politics_events.276.a

		ai_chance = {
			base = 3
			modifier = { #Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = { has_idea = SOV_vyacheslav_molotov }
			}
		}
		
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}

			add_to_variable = { SOV_fyp_consumer_goods_factor = -0.01 }
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik

			effect_tooltip = {
				custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
				618 = { #DZUNGARIA - Minerals, oil and Infra
					add_resource = {
						type = aluminium
						amount = 3
					}
					add_resource = {
						type = tungsten
						amount = 3
					}
					add_resource = {
						type = oil
						amount = 6
					}
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				give_resource_rights = { receiver = SOV state = 618 } # Grant Resource rights to SOV
				617 = { #URUMQI - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				# Urumqi - Altay
				build_railway = {
					path = { 4709 10674 1783 1844 12737 4823 }
				}
				#Supply Hub in Altay
				618 = {
					add_building_construction = {
						type = supply_node
						level = 1
						province = 4823
						instant_build = yes
					}
				}

				ROOT = { add_ideas = SOV_expanded_exploitation_of_gold_mines }
			}
		}

		hidden_effect = {
			FROM = { country_event = { id = NSB_soviet_foreign_politics_events.277 hours = 1 } }
			activate_mission = SOV_sinkiang_oil_prospection_mission_dummy
		}
	}

	option = { # Nope
		name = NSB_soviet_foreign_politics_events.276.b

		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = { is_in_faction_with = SOV }
			}
			modifier = {
				add = 5
				FROM = { is_justifying_wargoal_against = ROOT }
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = { is_subject_of = SOV }
			}
		}
	
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}

		FROM = {
			country_event = { id = NSB_soviet_foreign_politics_events.275 hours = 1 }
			set_country_flag = SOV_sinkiang_oil_prospection_rejected_flag
		}
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal (Oil Prospection) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.277
	title = NSB_soviet_foreign_politics_events.277.t
	desc = NSB_soviet_foreign_politics_events.277.desc
	picture = GFX_report_event_china_ledo_road

	is_triggered_only = yes
			
	option = { # Good
		name = NSB_soviet_foreign_politics_events.277.a

		ai_chance = {
			base = 1
		}

		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}

			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov

			custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
			618 = { #DZUNGARIA - Minerals, oil and Infra
				add_resource = {
					type = aluminium
					amount = 3
				}
				add_resource = {
					type = tungsten
					amount = 3
				}
				add_resource = {
					type = oil
					amount = 6
				}
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			give_resource_rights = { receiver = SOV state = 618 } # Grant Resource rights to SOV (Not scoping to make tooltip slightly shorter)
			617 = { #URUMQI - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			# Urumqi - Altay
			build_railway = {
				path = { 4709 10674 1783 1844 12737 4823 }
			}
			#Supply Hub in Altay
			618 = {
				add_building_construction = {
					type = supply_node
					level = 1
					province = 4823
					instant_build = yes
				}
			}

		}
	}
}

# SOV-SINKIANG - Military Aid (Mil in Urumqui + Infra, Air Base and Forts in Kunlun Shan + Forts in Dabancheng) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.278
	title = NSB_soviet_foreign_politics_events.278.t
	desc = NSB_soviet_foreign_politics_events.278.desc
	picture = GFX_report_event_SOV_purge_aircraft_2

	is_triggered_only = yes
			
	option = { # OK
		name = NSB_soviet_foreign_politics_events.278.a

		ai_chance = {
			base = 3
			modifier = { #Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = { has_idea = SOV_vyacheslav_molotov }
			}
		}
		
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}

			add_to_variable = { SOV_fyp_consumer_goods_factor = -0.01 }
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik

			SOV = {
				send_equipment = {
					type = fighter_equipment
					amount = 40
					target = ROOT
				}
				send_equipment = {
					type = infantry_equipment
					amount = 500
					target = ROOT
				}
			}

			effect_tooltip = {
				custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
				
				617 = { #URUMQI - Mil
					if = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = arms_factory
							level = 1
							instant_build = yes
						}
					}
				}
				759 = { #KUNLUN SHAN - Infra + Air base + Forts
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					if = {
						limit = {
							air_base < 9
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					else_if = {
						limit = {
							air_base < 10
						}
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 10315
							id = 2074
							id = 1698
							id = 4947
						}
						instant_build = yes
					}
				}
				if = {  #DABANCHENG - Forts
					limit = {
						has_full_control_of_state = 760
					}
					760 = {
						add_building_construction = {
							type = bunker
							level = 1
							province = {
								id = 1838
								id = 4843
							}
							instant_build = yes
						}
					}
				}
				add_tech_bonus = {
					name = NSB_soviet_foreign_politics_events.278.t
					bonus = 1
					uses = 2
					category = air_equipment
				}
				air_experience = 50
				army_experience = 50
			}
		}

		hidden_effect = {
			FROM = { country_event = { id = NSB_soviet_foreign_politics_events.279 hours = 1 } }
			activate_mission = SOV_sinkiang_military_aid_mission_dummy
		}
	}

	option = { # Nope
		name = NSB_soviet_foreign_politics_events.278.b

		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = { is_in_faction_with = SOV }
			}
			modifier = {
				add = 5
				FROM = { is_justifying_wargoal_against = ROOT }
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = { is_subject_of = SOV }
			}
		}
	
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}

		FROM = {
			country_event = { id = NSB_soviet_foreign_politics_events.275 hours = 1 }
			set_country_flag = SOV_sinkiang_military_aid_rejected_flag
		}
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal (Military Aid) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.279
	title = NSB_soviet_foreign_politics_events.279.t
	desc = NSB_soviet_foreign_politics_events.279.desc
	picture = GFX_report_event_SOV_purge_aircraft_2

	is_triggered_only = yes
			
	option = { # Good
		name = NSB_soviet_foreign_politics_events.279.a

		ai_chance = {
			base = 1
		}

		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}

			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov

			custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
			617 = { #URUMQI - Mil
				if = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 1
					add_building_construction = {
						type = arms_factory
						level = 1
						instant_build = yes
					}
				}
			}
			759 = { #KUNLUN SHAN - Infra + Air base + Forts
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						air_base < 9
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 10
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 10315
						id = 2074
						id = 1698
						id = 4947
					}
					instant_build = yes
				}
			}
		}
	}
}

# SOV-SINKIANG - Support Expansion (in XSM) (Infra and Forts in various XSM states + Air Base in Gansu + Oil in Jiuquan) - Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.280
	title = NSB_soviet_foreign_politics_events.280.t
	desc = NSB_soviet_foreign_politics_events.280.desc
	picture = GFX_report_event_generic_truck

	is_triggered_only = yes
			
	option = { # OK
		name = NSB_soviet_foreign_politics_events.280.a

		ai_chance = {
			base = 3
			modifier = { #Appropriate PC for Foreign Affairs
				factor = 1.5
				SOV = { has_idea = SOV_vyacheslav_molotov }
			}
		}
		
		FROM = {
			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}

			SOV = {
				send_equipment = {
					type = motorized_equipment
					amount = 300
					target = ROOT
				}
			}

			add_to_variable = { SOV_fyp_consumer_goods_factor = -0.01 }
			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sik

			effect_tooltip = {
				custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
				
				755 = { #HAIXI - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
				756 = { #JIUQUAN - Infra + Oil
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_resource = {
						type = oil
						amount = 12
					}
				}
				604 = { #QINGHAI (Golmud) - Infra 
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 7940
						}
						instant_build = yes
					}
				}
				754 = { #GOLOG (Lanzhou) - Infra
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 12732
						}
						instant_build = yes
					}
				}
				283 = { #GANSU - Infra + Air Base + Fort
					if = {
						limit = {
							infrastructure < 5
						}
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
					if = {
						limit = {
							air_base < 9
						}
						add_building_construction = {
							type = air_base
							level = 2
							instant_build = yes
						}
					}
					else_if = {
						limit = {
							air_base < 10
						}
						add_building_construction = {
							type = air_base
							level = 1
							instant_build = yes
						}
					}
					add_building_construction = {
						type = bunker
						level = 1
						province = {
							id = 531
						}
						instant_build = yes
					}
				}
			}
		}

		hidden_effect = {
			FROM = { country_event = { id = NSB_soviet_foreign_politics_events.281 hours = 1 } }
			activate_mission = SOV_sinkiang_support_expansion_mission_dummy
		}
	}

	option = { # Nope
		name = NSB_soviet_foreign_politics_events.280.b

		ai_chance = {
			base = 0
			modifier = {
				add = 1
				has_opinion = {
					target = FROM
					value < -50
				}
			}
			modifier = {
				add = 1
				is_in_faction = yes
				NOT = { is_in_faction_with = SOV }
			}
			modifier = {
				add = 5
				FROM = { is_justifying_wargoal_against = ROOT }
			}
			modifier = {
				add = 10
				is_subject = yes
				NOT = { is_subject_of = SOV }
			}
		}
	
		effect_tooltip = {
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
			}
		}

		FROM = {
			country_event = { id = NSB_soviet_foreign_politics_events.275 hours = 1 }
			set_country_flag = SOV_sinkiang_support_expansion_rejected_flag
		}
	}
}

# SOV-SINKIANG - Sinkiang accepts our proposal (Support Territorial Expansion) - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.281
	title = NSB_soviet_foreign_politics_events.281.t
	desc = NSB_soviet_foreign_politics_events.281.desc
	picture = GFX_report_event_generic_truck

	is_triggered_only = yes
			
	option = { # Good
		name = NSB_soviet_foreign_politics_events.281.a

		ai_chance = {
			base = 1
		}

		effect_tooltip = {
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}

			custom_effect_tooltip = SOV_sinikiang_influence_cg_tt_sov

			custom_effect_tooltip = SOV_sinkiang_when_project_finishes_tt
			
			755 = { #HAIXI - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
			}
			756 = { #JIUQUAN - Infra + Oil
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_resource = {
					type = oil
					amount = 12
				}
			}
			604 = { #QINGHAI (Golmud) - Infra 
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 7940
					}
					instant_build = yes
				}
			}
			754 = { #GOLOG (Lanzhou) - Infra
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 12732
					}
					instant_build = yes
				}
			}
			283 = { #GANSU - Infra + Air Base + Fort
				if = {
					limit = {
						infrastructure < 5
					}
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
				}
				if = {
					limit = {
						air_base < 9
					}
					add_building_construction = {
						type = air_base
						level = 2
						instant_build = yes
					}
				}
				else_if = {
					limit = {
						air_base < 10
					}
					add_building_construction = {
						type = air_base
						level = 1
						instant_build = yes
					}
				}
				add_building_construction = {
					type = bunker
					level = 1
					province = {
						id = 531
					}
					instant_build = yes
				}
			}
		}
	}
}

# SOV-SINKIANG - Formalize the Soviet Republic of Sinkiang (aka puppet Sinkiang)- Event for SIK
country_event = {
	id = NSB_soviet_foreign_politics_events.282
	title = NSB_soviet_foreign_politics_events.282.t
	desc = NSB_soviet_foreign_politics_events.282.desc
	picture = GFX_report_event_SOV_demands

	is_triggered_only = yes
			
	option = { # Accept
		name = NSB_soviet_foreign_politics_events.282.a

		ai_chance = {
			base = 1
		}

		add_political_power = 75
		SOV = {
			puppet = ROOT

			add_opinion_modifier = {
				target = ROOT
				modifier = SOV_complied_with_our_demands
			}
		}

		FROM = {
			country_event = { id = NSB_soviet_foreign_politics_events.283 hours = 1 }
		}
	}

	option = { # Refuse
		name = NSB_soviet_foreign_politics_events.282.b

		ai_chance = {
			base = 0
		}

		effect_tooltip = {
			SOV = {
				add_opinion_modifier = {
					target = ROOT
					modifier = SOV_rejected_our_demands
				}
				country_event = { id = NSB_soviet_foreign_politics_events.284 hours = 1 }
			}
			custom_effect_tooltip = germany.126.warning
		}
	}
}

# SOV-SINKIANG - Sinkiang becomes a puppet - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.283
	title = NSB_soviet_foreign_politics_events.283.t
	desc = NSB_soviet_foreign_politics_events.283.desc
	picture = GFX_report_event_stalin_propaganda

	is_triggered_only = yes
			
	option = { # Good
		name = NSB_soviet_foreign_politics_events.283.a

		effect_tooltip = {
			puppet = FROM
			add_opinion_modifier = {
				target = FROM
				modifier = SOV_complied_with_our_demands
			}
			FROM = { add_political_power = 75 }
		}		
	}
}

# SOV-SINKIANG - Sinkiang refuses to become a puppet - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.284
	title = NSB_soviet_foreign_politics_events.284.t
	desc = NSB_soviet_foreign_politics_events.284.desc
	picture = GFX_report_event_stalin_meeting

	is_triggered_only = yes
			
	option = { # Respect
		name = NSB_soviet_foreign_politics_events.284.a

		ai_chance = {
			base = 2
			modifier = {
				add = -1
				has_war = yes
			}
		}

		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}
	}

	option = { # Unacceptable
		name = NSB_soviet_foreign_politics_events.284.b

		trigger = {
			is_faction_leader = yes
		}

		ai_chance = {
			base = 0
		}
	
		add_opinion_modifier = {
			target = FROM
			modifier = SOV_rejected_our_demands
		}

		remove_from_faction = FROM
		create_wargoal = {
			type = take_state_focus
			target = FROM
			expire = 0
			generator = { 618 617 287 619 759 760 }
		}
		add_named_threat = { threat = 2 name = SOV_claim_on_sinkiang_threat }
	}
}

# SOV-SINKIANG - Soviet Union is losing and we might need new friends - Event for SIK (triggered via MTTH)
country_event = {
	id = NSB_soviet_foreign_politics_events.285
	title = NSB_soviet_foreign_politics_events.285.t
	desc = NSB_soviet_foreign_politics_events.285.desc
	picture = GFX_report_event_soviet_tanks_snow

	fire_only_once = yes

	is_triggered_only = yes
			
	option = { # Stay with the Soviets
		name = NSB_soviet_foreign_politics_events.285.a

		ai_chance = {
			base = 2
			modifier = {
				factor = 2
				has_war = yes
			}
			modifier = {
				factor = 2
				has_opinion = {
					target = FROM
					value > 50
				}
			}
			modifier = {
				factor = 0.5
				is_subject = no
			}
		}

		if = {
			limit = {
				is_subject_of = SOV
			}
			effect_tooltip = {
				add_autonomy_score = {
					value = 500
					localization = NSB_soviet_foreign_politics_events.286.t
				}
			}
			hidden_effect = {
				SOV = { country_event = { id = NSB_soviet_foreign_politics_events.286 hours = 1 } }
			}
		}
	}

	option = { # Time to flee!
		name = NSB_soviet_foreign_politics_events.285.b

		trigger = {
			is_subject = no
		}

		ai_chance = {
			base = 2
		}


		#Break all previous agreements with the Comintern
		every_other_country = {
			limit = {
				is_in_faction_with = ROOT
			}
			if = {
				limit = {
					has_guaranteed = ROOT
				}
				diplomatic_relation = {
					country = ROOT
					relation = guarantee
					active = no
				}
			}
			if = {
				limit = {
					is_guaranteed_by = ROOT
				}
				ROOT = {
					diplomatic_relation = {
						country = PREV
						relation = guarantee
						active = no
					}
				}
			}
			if = {
				limit = {
					has_non_aggression_pact_with = ROOT
				}
				diplomatic_relation = {
					country = ROOT
					relation = non_aggression_pact
					active = no
				}
			}
			if = {
				limit = {
					has_military_access_to = ROOT
				}
				diplomatic_relation = {
					country = ROOT
					relation = military_access
					active = no
				}
			}
			if = {
				limit = {
					gives_military_access_to = ROOT
				}
				ROOT = {
					diplomatic_relation = {
						country = PREV
						relation = military_access
						active = no
					}
				}
			}
		}

		leave_faction = yes

		remove_resource_rights = 618
	
		SOV = {
			add_opinion_modifier = {
				target = ROOT
				modifier = betrayed_alliance
			}
		}

		SOV = { country_event = { id = NSB_soviet_foreign_politics_events.287 hours = 1 } }
		custom_effect_tooltip = germany.126.warning
	}
}

# SOV-SINKIANG - Sinkiang loses autonomy - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.286
	title = NSB_soviet_foreign_politics_events.286.t
	desc = NSB_soviet_foreign_politics_events.286.desc
	picture = GFX_report_event_soviet_tanks_snow

	is_triggered_only = yes
			
	option = { # Nothing to do
		name = NSB_soviet_foreign_politics_events.286.a

		ai_chance = {
			base = 1
		}

		FROM = {
			add_autonomy_score = {
				value = 500
				localization = NSB_soviet_foreign_politics_events.286.t
			}
		}
	}

	option = { # Talk to them
		name = NSB_soviet_foreign_politics_events.286.b

		trigger = {
			has_political_power > 74
		}

		ai_chance = {
			base = 0
		}

		add_political_power = -75
		FROM = {
			add_autonomy_score = {
				value = 250
				localization = NSB_soviet_foreign_politics_events.286.t
			}
		}
	}
}

# SOV-SINKIANG - Sinkiang leaves faction - Event for SOV
country_event = {
	id = NSB_soviet_foreign_politics_events.287
	title = NSB_soviet_foreign_politics_events.287.t
	desc = NSB_soviet_foreign_politics_events.287.desc
	picture = GFX_report_event_chinese_army_training

	is_triggered_only = yes
			
	option = { # Don't care
		name = NSB_soviet_foreign_politics_events.287.a

		ai_chance = {
			base = 2
			modifier = {
				factor = 2
				has_war = yes
			}
		}

		effect_tooltip = {
			FROM = { leave_faction = yes }
			remove_resource_rights = 618
		
			add_opinion_modifier = {
				target = FROM
				modifier = betrayed_alliance
			}
		}
	}

	option = { # Make them pay!
		name = NSB_soviet_foreign_politics_events.287.b

		ai_chance = {
			base = 2
			modifier = {
				factor = 2
				has_country_flag = SOV_sinkiang_prospection_flag
			}
			modifier = {
				factor = 2
				has_country_flag = SOV_sinkiang_oil_prospection_flag
			}
			modifier = {
				factor = 2
				has_country_flag = SOV_sinkiang_military_aid_flag
			}
			modifier = {
				factor = 2
				has_country_flag = SOV_sinkiang_support_expansion_flag
			}
		}
		
		effect_tooltip = {
			FROM = { leave_faction = yes }
			remove_resource_rights = 618
		
			add_opinion_modifier = {
				target = FROM
				modifier = betrayed_alliance
			}
		}

		create_wargoal = {
			type = take_state_focus
			target = FROM
			expire = 0
			generator = { 618 617 287 619 759 760 }
		}
	}
}

# SOV builds a National Academy of Sciences in our country
country_event = {
	id = NSB_soviet_academy_of_sciences.1
	title = NSB_soviet_academy_of_sciences.1.t
	desc = NSB_soviet_academy_of_sciences.1.desc
	picture = GFX_report_event_SOV_national_academy_of_sciences

	is_triggered_only = yes
			
	option = { # Accept
		name = NSB_soviet_academy_of_sciences.1.a

		add_ideas = SOV_national_academy_of_sciences_puppet
	}
}

######################
### FIVE YEAR PLAN ###
######################

### THIRD FIVE YEAR PLAN CANCELED ###
country_event = {
	id = NSB_soviet_five_year_plan.01
	title = NSB_soviet_five_year_plan.01.t
	desc = NSB_soviet_five_year_plan.01.desc
	picture = GFX_report_event_stalin_01
	
	is_triggered_only = yes

	fire_only_once = yes

	option = { #VAYA POR DIOS
		name = NSB_soviet_five_year_plan.01.a
		
		custom_effect_tooltip = NSB_soviet_five_year_plan_tt
	}
}



######################
######## MISC ########
######################

### Kuznetsov becomes an Operative -> Fired when SOV loses control over a Ukrainian state 
country_event = {
	id = NSB_soviet_great_patriotic_war.01
	title = NSB_soviet_great_patriotic_war.01.t
	desc = NSB_soviet_great_patriotic_war.01.desc
	picture = GFX_report_event_SOV_tank_column
	
	is_triggered_only = yes

	fire_only_once = yes

	option = { #WELCOME TO THE NKVD
		name = NSB_soviet_great_patriotic_war.01.a

		create_operative_leader = {
			name = "Nikolay Ivanovich Kuznetsov"
			GFX = GFX_Portrait_nikolay_kuznetsov
			traits = { operative_commando operative_infiltrator }
			bypass_recruitment = no
			available_to_spy_master = yes
			nationalities = { SOV GER }
		}
	}
}



###################
##### COMECON #####
###################

# SOV starts an industrialization project in our country - Event for puppet
country_event = {
	id = NSB_soviet_comecon.1
	title = NSB_soviet_comecon.1.t
	desc = NSB_soviet_comecon.1.desc
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes
			
	option = { # Good
		name = NSB_soviet_comecon.1.a

		effect_tooltip = {
			swap_ideas = {
				remove_idea = SOV_comecon_puppet_default
				add_idea = SOV_comecon_puppet_industrialization
			}
			custom_effect_tooltip = NSB_soviet_comecon_effect_duration_tt
		}
	}
}

# SOV starts a joint military program - Event for puppets
country_event = {
	id = NSB_soviet_comecon.2
	title = NSB_soviet_comecon.2.t
	desc = NSB_soviet_comecon.2.desc
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes
			
	option = { # Good
		name = NSB_soviet_comecon.2.a

		effect_tooltip = {
			swap_ideas = {
				remove_idea = SOV_comecon_puppet_default
				add_idea = SOV_comecon_puppet_military
			}
			custom_effect_tooltip = NSB_soviet_comecon_effect_duration_tt
		}
	}
}


#########################
### SPANISH CIVIL WAR ###
#########################

#REPUBLICAN SPAIN / POUM LOSES THE SCW -> LSTER / EL CAMPESINO / ROVIRA JOINS SOV -> Event for SOV
unit_leader_event = {
	id = NSB_soviet_spanish_civil_war.1
	title = NSB_soviet_spanish_civil_war.1.t
	desc = NSB_soviet_spanish_civil_war.1.desc
	
	is_triggered_only = yes
	hidden = no

	option = {
		name = NSB_soviet_spanish_civil_war.1.a
		effect_tooltip = {
			var:SOV.SOV_spanish_general = { set_nationality = SOV }
		}
	}
}


#######################
### PLANNED ECONOMY ###
#######################

# SOV planned economy - Event for puppets
country_event = {
	id = NSB_soviet_planned_economy.1
	title = NSB_soviet_planned_economy.1.t
	desc = NSB_soviet_planned_economy.1.desc
	picture = GFX_report_event_SOV_national_academy_of_sciences

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = {
				if = {
					limit = {
						check_variable = { SOV_planned_economy_industrial_capacity_factory_initial < 0.1 }
					}
					add_to_variable = { SOV_planned_economy_industrial_capacity_factory_initial = 0.01 }
				}
				if = {
					limit = {
						check_variable = { SOV_planned_economy_production_lack_of_resource_penalty_factor_initial > -0.1 }
					}
					add_to_variable = { SOV_planned_economy_production_lack_of_resource_penalty_factor_initial = -0.01 }
				}
			}
			add_tech_bonus = {
				name = NSB_soviet_planned_economy.1.t
				bonus = 1.0
				uses = 2
				category = industry
			}

			add_ideas = new_economic_policy
		}
	}
			
	option = { # Good
		name = NSB_soviet_planned_economy.1.a

		effect_tooltip = {
			add_tech_bonus = {
				name = NSB_soviet_planned_economy.1.t
				bonus = 1.0
				uses = 2
				category = industry
			}

			add_ideas = new_economic_policy
		}
	}
}

###########################
# Nuclear Bomb Events
###########################

add_namespace = nuke_dropped

# Hidden event to set flag on nuke dropped
news_event = {
	id = nuke_dropped.0
	picture = GFX_news_event_nuke

	major = yes

	is_triggered_only = yes

	hidden = yes

	fire_only_once = yes

	immediate = {
		if = {
			limit = {
				tag = ITA
				has_government = fascism
				FROM = { state = 378 }
			}
			set_country_flag = duce_nukedem_flag
		}
		news_event = { id = nuke_dropped.1 days = 1 }
	}
	
	option = {
		name = dummy_nuke_option
	}
}

# Nuclear Attack PLACEHOLDER
news_event = {
	id = nuke_dropped.1
	title = nuke_dropped.1.t
	desc = nuke_dropped.1.d
	picture = GFX_news_event_nuke

	major = yes

	is_triggered_only = yes

	trigger = {
		NOT = {
			FROM = {
				FROM = {
					OR = {
						state = 529
						state = 528
						state = 64
						state = 126
						state = 531
						state = 282
						state = 361
						state = 2
						state = 16 
						state = 219
						state = 37
						state = 141
					}
				}
			}
		}
	}

	option = {
		name = nuke_dropped.1.a
		trigger = {
			NOT = { FROM = { FROM = { is_owned_by = ROOT } } }
		}
	}
	
	option = {
		name = nuke_dropped.1.b
		trigger = {
			FROM = { FROM = { is_owned_by = ROOT } }
		}
	}
}

# Nuclear Attack on Hiroshima
news_event = {
	id = nuke_dropped.2
	title = nuke_dropped.2.t
	desc = nuke_dropped.2.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 529 }
	}

	option = {
		name = nuke_dropped.2.a
		trigger = {
			NOT = { owns_state = 529 }
		}
	}
	
	option = {
		name = nuke_dropped.2.b
		trigger = {
			owns_state = 529
		}
	}
}

# Nuclear Attack on Nagasaki
news_event = {
	id = nuke_dropped.3
	title = nuke_dropped.3.t
	desc = nuke_dropped.3.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 528 }
	}

	option = {
		name = nuke_dropped.3.a
		trigger = {
			NOT = { owns_state = 528 }
		}
	}
	
	option = {
		name = nuke_dropped.3.b
		trigger = {
			owns_state = 528
		}
	}
}

# Nuclear Attack on Berlin
news_event = {
	id = nuke_dropped.4
	title = nuke_dropped.4.t
	desc = nuke_dropped.4.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = {
			state = 64
			is_owned_by = GER
		}
	}

	option = {
		name = nuke_dropped.4.a
		trigger = {
			NOT = { owns_state = 64 }
		}
	}
	
	option = {
		name = nuke_dropped.4.b
		trigger = {
			owns_state = 64
		}
	}
}

# Nuclear Attack on London
news_event = {
	id = nuke_dropped.5
	title = nuke_dropped.5.t
	desc = nuke_dropped.5.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 126 }
	}

	option = {
		name = nuke_dropped.5.a
		trigger = {
			NOT = { owns_state = 126 }
		}
	}
	
	option = {
		name = nuke_dropped.5.b
		trigger = {
			owns_state = 126
		}
	}
}

# Nuclear Attack on Kyoto (Kansai)
news_event = {
	id = nuke_dropped.6
	title = nuke_dropped.6.t
	desc = nuke_dropped.6.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 531 }
	}

	option = {
		name = nuke_dropped.6.a
		trigger = {
			NOT = { owns_state = 531 }
		}
	}
	
	option = {
		name = nuke_dropped.6.b
		trigger = {
			owns_state = 531
		}
	}
}

# Nuclear Attack on Tokyo
news_event = {
	id = nuke_dropped.7
	title = nuke_dropped.7.t
	desc = nuke_dropped.7.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 282 }
	}

	option = {
		name = nuke_dropped.7.a
		trigger = {
			NOT = { owns_state = 282 }
		}
	}
	
	option = {
		name = nuke_dropped.7.b
		trigger = {
			owns_state = 282
		}
	}
}

# Nuclear Attack on Washington D.C.
news_event = {
	id = nuke_dropped.8
	title = nuke_dropped.8.t
	desc = nuke_dropped.8.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 361 }
	}

	option = {
		name = nuke_dropped.8.a
		trigger = {
			NOT = { owns_state = 361 }
		}
	}
	
	option = {
		name = nuke_dropped.8.b
		trigger = {
			owns_state = 361
		}
	}
}

# Nuclear Attack on Rome
news_event = {
	id = nuke_dropped.9
	title = nuke_dropped.9.t
	desc = nuke_dropped.9.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 2 }
	}

	option = {
		name = nuke_dropped.9.a
		trigger = {
			NOT = { owns_state = 2 }
		}
	}
	
	option = {
		name = nuke_dropped.9.b
		trigger = {
			owns_state = 2
		}
	}
}

# Nuclear Attack on Paris
news_event = {
	id = nuke_dropped.10
	title = nuke_dropped.10.t
	desc = nuke_dropped.10.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 16 }
	}

	option = {
		name = nuke_dropped.10.a
		trigger = {
			NOT = { owns_state = 16 }
		}
	}
	
	option = {
		name = nuke_dropped.10.b
		trigger = {
			owns_state = 16
		}
	}
}

# Nuclear Attack on Moscow
news_event = {
	id = nuke_dropped.11
	title = nuke_dropped.11.t
	desc = nuke_dropped.11.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 219 }
	}

	option = {
		name = nuke_dropped.11.a
		trigger = {
			NOT = { owns_state = 219 }
		}
	}
	
	option = {
		name = nuke_dropped.11.b
		trigger = {
			owns_state = 219
		}
	}
}

# Nuclear Attack on Stockholm
news_event = {
	id = nuke_dropped.13
	title = nuke_dropped.13.t
	desc = nuke_dropped.13.d
	picture = GFX_news_event_nuke

	is_triggered_only = yes

	fire_only_once = yes

	trigger = {
		FROM.FROM = { state = 141 }
	}

	option = {
		name = nuke_dropped.13.a
		trigger = {
			NOT = { owns_state = 141 }
		}
	}
	
	option = {
		name = nuke_dropped.13.b
		trigger = {
			owns_state = 141
		}
	}
}


###########################
# Political Events
###########################

add_namespace = political

# Fascist Assault Divisions Form
country_event = {
	id = political.11
	title = political.11.t
	desc = political.11.d
	picture = GFX_report_event_fascist_militia
	
	trigger = {
		has_idea_with_trait = fascist_demagogue
		NOT = { has_government = fascism }
		fascism > 0.3
		NOT = { fascism > 0.59 }
		NOT = { has_idea = fascist_assault_divisions }
		if = {
			limit = {
				has_dlc = "Together for Victory"
			}
			OR = {
				NOT = { tag = RAJ }
				AND = {
					tag = RAJ
					is_puppet = no
				}
			}
		}
		if = {
			limit = {
				has_dlc = "Man the Guns"
			}
			not = { tag = USA }
		}
		NOT = {
			AND = {
				tag = SPR
				has_dlc = "La Resistance"
			}
		}
		NOT = {
			AND = {
				has_dlc = "No Step Back"
				OR = {
					original_tag = POL
					original_tag = EST
					original_tag = LAT
					original_tag = LIT
				}
			}
		}
	}

	mean_time_to_happen = {
		days = 365
		modifier = {
			factor = 0.5
			has_country_flag = fascism_popular_movement
		}
	}
	
	option = {
		name = political.11.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_ideas = fascist_assault_divisions
	}
}


# Move Towards Democracy
#country_event = {
#	id = political.13
#	title = political.13.t
#	desc = political.13.d
#	picture = GFX_report_event_journalists_speech
#	
#	is_triggered_only = yes
#	
#	trigger = {
#		NOT = { has_government = democratic }
#	}

	# Seek government support
#	option = {
#		name = political.13.a
#		custom_effect_tooltip = political.13.a.tt
#		clr_country_flag = democracy_popular_movement
#		clr_country_flag = democracy_opposition_formed
#		set_country_flag = democracy_political_movement
#	}

	# Seek popular support
#	option = {
#		name = political.13.b
#		custom_effect_tooltip = political.13.b.tt
#		clr_country_flag = democracy_political_movement
#		clr_country_flag = democracy_government_support
#		set_country_flag = democracy_popular_movement
#	}
#}

# [Ruling Party] Debates Democracy
country_event = {
	id = political.14
	title = political.14.t
	desc = political.14.d
	picture = GFX_report_event_journalists_speech
	
	trigger = {
		NOT = { has_government = democratic }
		democratic > 0.6
		NOT = { democratic > 0.7 }
		check_has_focus_tree_to_switch_to_democratic = yes
		NOT = {
			AND = {
				original_tag = SPR
				has_dlc = "La Resistance"
			}
		}
		NOT = {
			AND = {
				has_dlc = "No Step Back"
				OR = {
					original_tag = POL
					original_tag = EST
					original_tag = LAT
					original_tag = LIT
				}
			}
		}
	}

	fire_only_once = yes
	

#	option = {
#		name = political.14.a
#		custom_effect_tooltip = political.14.a.tt
#		clr_country_flag = democracy_political_movement
#		set_country_flag = democracy_government_support
#	}

	# We need a referendum
	option = {
		name = political.14.c
		add_political_power = -100
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
	}

	# Not right now
	option = {
		name = political.14.e
		ai_chance = {
			factor = 0
		}
		custom_effect_tooltip = impending_civil_war_tt
	}
}


# Public Call for Elections
country_event = {
	id = political.16
	title = political.16.t
	desc = political.16.d
	picture = GFX_report_event_election_vote
	is_triggered_only = yes

	
	option = {
		name = political.16.a

		ai_chance = {
			base = 1
		}
	}

	option = {
		name = political.16.b

		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				has_dlc = "Battle for the Bosporus"
				original_tag = BUL
			}
		}

		add_political_power = -20
		add_ideas = democratic_opposition_voicing_protests
		add_timed_idea = { idea = democratic_opposition_voicing_protests days = 730 }
	}
}


### > 50% support
# political.18 Fascist

country_event = {
	id = political.18
	title = political.18.t
	desc = political.18.d
	picture = GFX_report_event_fascist_gathering

	is_triggered_only = yes

	#trigger = {
	#	fascism > 0.5
	#	NOT = { has_government = fascism }
	#	NOT = { has_idea = fascist_revolutionaries }
	#	NOT = { has_idea = reign_of_terror }
	#	is_puppet = no
	#	has_civil_war = no
	#}

	#option = {
	#	name = political.18.a
	#	add_political_power = -100
	#	add_popularity = {
	#		ideology = fascism
	#		popularity = -0.10
	#	}
	#	add_timed_idea = {
	#		idea = fascist_revolutionaries
	#		days = 365
	#	}
	#}

	#option = {
	#	name = political.18.b
	#	add_timed_idea = {
	#		idea = fascist_revolutionaries
	#		days = 365
	#	}
	#}

	option = {
		name = political.18.c
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

# political.19 Communist

country_event = {
	id = political.19
	title = political.19.t
	desc = political.19.d
	picture = GFX_report_event_worker_protests

	is_triggered_only = yes

	#trigger = {
	#	communism > 0.5
	#	NOT = { has_government = communism }
	#	NOT = { has_idea = communist_revolutionaries }
	#	NOT = { has_idea = reign_of_terror }
	#	is_puppet = no
	#	has_civil_war = no
	#}


	#option = {
	#	name = political.19.a
	#	add_political_power = -100
	#	add_popularity = {
	#		ideology = communism
	#		popularity = -0.10
	#	}
	#	add_timed_idea = {
	#		idea = communist_revolutionaries
	#		days = 365
	#	}
	#}

	#option = {
	#	name = political.19.b
	#	add_timed_idea = {
	#		idea = communist_revolutionaries
	#		days = 365
	#	}
	#}

	option = {
		name = political.19.c
		trigger = {
			#Special case CHI PRC
			OR = {
				NOT = { tag = CHI }
			}
		}
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		add_stability = -0.05
	}
}

# political.20 Democratic

country_event = {
	id = political.20
	title = political.20.t
	desc = political.20.d
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes

	#trigger = {
	#	democratic > 0.5
	#	NOT = { has_government = democratic }
	#	NOT = { has_idea = democratic_revolutionaries }
	#	NOT = { has_idea = reign_of_terror }
	#	is_puppet = no
	#	has_civil_war = no
	#}

	#option = {
	#	name = political.20.a
	#	add_political_power = -100
	#	add_popularity = {
	#		ideology = democratic
	#		popularity = -0.10
	#	}
	#	add_timed_idea = {
	#		idea = democratic_revolutionaries
	#		days = 365
	#	}
	#}

	#option = {
	#	name = political.20.b
	#	add_timed_idea = {
	#		idea = democratic_revolutionaries
	#		days = 365
	#	}
	#}

	option = {
		name = political.20.c
		if = {
			limit = { has_government = fascism }
			add_timed_idea = { idea = fascism_defeated days = 730 }
		}
		if = {
			limit = { has_government = communism }
			add_timed_idea = { idea = communism_defeated days = 730 }
		}
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
		add_stability = -0.05
	}
}


### Revolution
# political.21 Fascist
country_event = {
	id = political.21
	title = political.21.t
	desc = political.21.d
	picture = GFX_report_event_fascist_militia
	is_triggered_only = yes

	option = {
		name = political.21.a
		ai_chance = {
			factor = 0
		}
		start_civil_war = {
			ideology = fascism
			size = 0.5
		}
	}

	option = {
		name = political.21.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				has_government = democratic
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit = {
				has_government = communism
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = communism
				size = 0.5
			}
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = neutrality
				size = 0.5
			}
		}
	}

	# We need a referendum
	option = {
		name = political.14.c
		trigger = {
			is_ai = yes
		}
		add_political_power = -100
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
	}
}
# political.22 Communist
country_event = {
	id = political.22
	title = political.22.t
	desc = political.22.d
	picture = GFX_report_event_worker_protests

	is_triggered_only = yes

	immediate = {
		hidden_effect = { remove_ideas = communist_revolutionaries }
	}

	option = {
		name = political.22.a
		ai_chance = {
			factor = 0
		}
		start_civil_war = {
			ideology = communism
			size = 0.5
		}
	}

	option = {
		name = political.22.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				has_government = democratic
			}
			start_civil_war = {
				ruling_party = communism
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit = {
				has_government = fascism
			}
			start_civil_war = {
				ruling_party = communism
				ideology = fascism
				size = 0.5
			}
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = communism
				ideology = neutrality
				size = 0.5
			}
		}
	}

	# We need a referendum
	option = {
		name = political.14.c
		trigger = {
			is_ai = yes
		}
		add_political_power = -100
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
	}
}
# political.23 Democratic
country_event = {
	id = political.23
	title = political.23.t
	desc = political.23.d
	picture = GFX_report_event_gathering_protest
	is_triggered_only = yes

	option = {
		name = political.23.a
		ai_chance = {
			factor = 0
		}
		start_civil_war = {
			ideology = democratic
			size = 0.5
		}
	}

	option = {
		name = political.23.b
		ai_chance = {
			factor = 0
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = democratic
				ideology = neutrality
				size = 0.5
			}
		}
		if = {
			limit = {
				has_government = fascism
			}
			add_timed_idea = { idea = fascism_defeated days = 730 }			
			start_civil_war = {
				ruling_party = democratic
				ideology = fascism
				size = 0.5
			}
		}
		if = {
			limit = {
				has_government = communism
			}
			add_timed_idea = { idea = communism_defeated days = 730 }
			start_civil_war = {
				ruling_party = democratic
				ideology = communism
				size = 0.5
			}
		}
	}

	# We need a referendum
	option = {
		name = political.14.c
		trigger = {
			is_ai = yes
		}
		add_political_power = -100
		set_politics = {
			ruling_party = democratic
			elections_allowed = yes
		}
	}
}

### Suppressed
# political.24 Fascist
country_event = {
	id = political.24
	title = political.24.t
	desc = political.24.d
	picture = GFX_report_event_fascists_posing
	is_triggered_only = yes


	option = {
		name = political.24.a
		remove_ideas = fascist_revolutionaries
	}
}
# political.26 Democratic
country_event = {
	id = political.26
	title = political.26.t
	desc = political.26.d
	picture = GFX_report_event_europe_funeral
	is_triggered_only = yes

	option = {
		name = political.26.a
		remove_ideas = democratic_revolutionaries
	}
}

# Remove neutral foreign policy if fascist or commie @tim is this kk? (look on actions)
#country_event = {
#	id = political.27
#	title = political.27.t
#	desc = { 
#		text = political.27.d_fascism
#	 	trigger = { has_government = fascism }
#	}
#	desc = { 
#		text = political.27.d_communism
#	 	trigger = { has_government = communism }
#	}
#	picture = GFX_report_event_journalists_speech

#	trigger = {
#		OR = {
#			has_government = fascism
#			has_government = communism
#		}
#		has_idea = neutrality_idea
#	}


#	option = {
#		name = political.27.a
#		remove_ideas = neutrality_idea
#	}
#}

# Country has same ideology as revolter
country_event = {
	id = political.28
	title = political.28.t
	desc = political.28.d
	is_triggered_only = yes

	picture = GFX_report_event_journalists_speech


	option = {
		name = political.28.a
		random_other_country = {
			limit = {
				original_tag = ROOT
				NOT = { tag = ROOT }
			}
			ROOT = { annex_country = { target = PREV transfer_troops = yes } }
		}
	}
}
###########################
# Romanian Events
###########################

add_namespace = romania

# Soviet Union demands Bessarabia
country_event = {
	id = romania.1
	title = romania.1.t
	desc = romania.1.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = { # Accept demands
		name = romania.1.a
		ai_chance = {
			factor = 90
			modifier = { # Don't accept if in a faction that can protect them
				factor = 0
				NOT = { is_in_faction_with = FROM }
				OR = {
					any_other_country = {
						is_major = yes
						NOT = { tag = SOV }
						OR = {
							is_in_faction_with = ROM
							has_guaranteed = ROM
						}
					}
					has_idea = anti_soviet_pact
				}
			}
			modifier = {
				factor = 0.1
				is_historical_focus_on = no #Romania will still cede on historical
			}
		}
		FROM = {
			country_event = { days = 1 id = soviet.4 }
		}
		set_country_flag = bessarabia_ceded
	}
}

# Second Vienna Award - Northern Transylvania
country_event = {
	id = romania.2
	title = romania.2.t
	desc = romania.2.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = { # Accept demands
		name = romania.2.a
		ai_chance = {
			factor = 80
			modifier = { # Don't accept if in a faction that can protect them
				factor = 0
				OR = {
					is_in_faction_with = ENG
					is_in_faction_with = FRA
					is_in_faction_with = SOV
				}
			}
		}
		HUN = {
			country_event = { days = 1 id = hungary.2 }
		}
		set_country_flag = second_vienna_accepted_north
	}
	option = { # Refuse
		name = romania.2.b
		ai_chance = { 
			factor = 20 
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		HUN = {
			country_event = { days = 1 id = hungary.4 }
			effect_tooltip = { add_state_claim = 76 }
		}
		GER = {
			country_event = { days = 1 id = germany.21 }
			effect_tooltip = {
				create_wargoal = {
					type = take_state
					target = ROM
					generator = { 76 }
				}
			}
		}
	}
}

# Second Vienna Award - All of Transylvania
country_event = {
	id = romania.3
	title = romania.2.t
	desc = romania.3.d
	picture = GFX_report_event_second_vienna_award_pact
	
	is_triggered_only = yes
	
	option = { # Accept demands
		name = romania.2.a
		ai_chance = {
			factor = 50
			modifier = { # Don't accept if in a faction that can protect them
				factor = 0
				OR = {
					is_in_faction_with = ENG
					is_in_faction_with = FRA
					is_in_faction_with = SOV
				}
			}
		}
		HUN = {
			country_event = { days = 1 id = hungary.3 }
		}
		set_country_flag = second_vienna_accepted_all
	}
	option = { # Refuse
		name = romania.2.b
		ai_chance = { factor = 50 }
		HUN = {
			country_event = { days = 1 id = hungary.5 }
			effect_tooltip = {
				add_state_claim = 76
				add_state_claim = 83
				add_state_claim = 84
			}
		}
		GER = {
			country_event = { days = 1 id = germany.21 }
			effect_tooltip = {
				create_wargoal = {
					type = take_state
					target = ROM
					generator = { 76 }
				}
			}
		}
	}
}

# Second Vienna Award - No Concessions
country_event = {
	id = romania.4
	title = romania.4.t
	desc = romania.4.d
	picture = GFX_report_event_germany_politician_handshake
	
	is_triggered_only = yes
	
	option = {
		name = romania.4.a
	}
}

# Treaty of Craiova - Bulgaria Demands Territory
country_event = {
	id = romania.5
	title = romania.5.t
	desc = romania.5.d
	picture = GFX_report_event_hitler_croatia_handshake
	
	is_triggered_only = yes
	
	option = { # Accept
		name = romania.5.a
		ai_chance = { factor = 90 }
		effect_tooltip = {
			BUL = { transfer_state = 77 }
		}
		BUL = {
			country_event = { days = 1 id = bulgaria.1 }
		}
	}
	option = { # Refuse
		name = romania.5.b
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			} 
		}
		BUL = {
			country_event = { days = 1 id = bulgaria.2 }
		}
	}
}

# Seek an alliance - Since everyone is out to get us
country_event = {
	id = romania.6
	title = romania.6.t
	desc = romania.6.d
	picture = GFX_report_event_hitler_croatia_handshake
	
	trigger = {
		has_country_flag = bessarabia_ceded
		is_in_faction = no
		NOT = { GER = { is_in_faction_with = SOV } }
		NOT = { has_war_with = GER }
		NOT = { has_war_with = SOV }
		NOT = { has_dlc = "Death or Dishonor" }
	}
	

	fire_only_once = yes

	option = { # Seek german alliance
		name = romania.6.a
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.35
		}
		add_opinion_modifier = { target = GER modifier = ROM_seek_alliance_GER }
		add_ideas = ROM_revenge_against_soviet
		ai_chance = { 
			base = 2
			modifier = {
				factor = 0
				has_war_with = GER
			}
		}
	}
	option = { # Seek soviet alliance
		name = romania.6.b
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
		add_popularity = {
		ideology = communism
			popularity = 0.5
		}
		add_opinion_modifier = { target = SOV modifier = ROM_seek_alliance_SOV }
		add_ideas = ROM_revenge_against_germany
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				NOT = { has_war_with = GER }
				has_war_with = SOV
			}
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				NOT = { has_war_with = GER }
			}
		}
	}
	option = { # Dear democracy... NEVER GONNA GIVE YOU UP!
		name = romania.6.c
		ai_chance = {
			base = 0
		}
		
	}
}
###########################
# Soviet Events
###########################

add_namespace = soviet

# Border Skirmish with the Japanese
country_event = {
	id = soviet.1
	title = soviet.1.t
	desc = soviet.1.d
	picture = GFX_report_event_japanese_transport_soldiers
	
	is_triggered_only = yes
	
	option = { # Push back
		name = soviet.1.a
		ai_chance = { factor = 75 }
		add_political_power = -25
		hidden_effect = {
			random_list = {
				60 = {
					JAP = {
						country_event = { days = 1 id = japan.3 }
					}
				}
				40 = {
					JAP = {
						country_event = { days = 1 id = japan.4 }
					}
				}
			}
		}
		effect_tooltip = {
			random_list = {
				60 = {
					country_event = soviet.2
				}
				40 = {
					country_event = soviet.3
				}
			}
		}
	}
	option = { # Yield
		name = soviet.1.b
		ai_chance = { factor = 25 }
		JAP = {
			effect_tooltip = {
				add_stability = 0.05
			}
			country_event = { days = 1 id = japan.5 }
		}
	}
}

# Successful Raid
country_event = {
	id = soviet.2
	title = soviet.2.t
	desc = soviet.2.d
	picture = GFX_report_event_dead_soldiers
	
	is_triggered_only = yes
	
	option = {
		name = soviet.2.a
		if = {
			limit = {
				561 = { 
					is_owned_by = SOV 
					any_neighbor_state = { 
						OR = {
							is_owned_by = JAP							
							is_owned_by = MAN								
						}
					} 
				}
			}
			561 = { add_manpower = -30000 }
		}		
		if = {
			limit = { 
				NOT = { 
					561 = { 
						is_owned_by = SOV 
						any_neighbor_state = { 
							OR = {
								is_owned_by = JAP
								is_owned_by = MAN
							} 	
						}
					}
				}
			}
			random_owned_state = {
				limit = { 
					any_neighbor_state = { 
						OR = {
							is_owned_by = JAP
							is_owned_by = MAN
						}
					} 
				} 
				add_manpower = -30000
			}
		}

		army_experience = 10
	}
}

# Failed Raid
country_event = {
	id = soviet.3
	title = soviet.3.t
	desc = soviet.3.d
	picture = GFX_report_event_dead_soldiers
	
	is_triggered_only = yes
	
	option = {
		if = {
			limit = {
				561 = { 
					is_owned_by = SOV 
					any_neighbor_state = { 
						OR = {
							is_owned_by = JAP
							is_owned_by = MAN							
						} 
					} 
				}
			}
			561 = { add_manpower = -20000 }
		}		
		if = {
			limit = { 
				NOT = { 
					561 = { 
						is_owned_by = SOV 
						any_neighbor_state = { 
							OR = {
								is_owned_by = JAP
								is_owned_by = MAN
							}
						}
					}
				}
			}
			random_owned_state = {
				limit = { 
					any_neighbor_state = { 
						OR = {
							is_owned_by = JAP
							is_owned_by = MAN
						}
					} 
				}
				add_manpower = -20000
			}
		}

		add_political_power = -25
		army_experience = 5
		name = soviet.3.a
	}
}

# Estonia Surrenders
country_event = {
	id = soviet.6
	title = soviet.6.t
	desc = soviet.6.d
	picture = GFX_report_event_soviet_invasion_map
	
	is_triggered_only = yes
	
	option = {
		name = soviet.6.a
		if = {
			limit = {
				FROM = { has_country_flag = cave_to_enemy_pressure_flag }
			}
			puppet = FROM
		}
		else = {
			annex_country = { target = FROM }
		}
	}
}

# Estonia Refuses
country_event = {
	id = soviet.7
	title = soviet.7.t
	desc = soviet.7.d
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	option = {
		name = soviet.7.a
		create_wargoal = {
			type = annex_everything
			target = EST
		}		
	}
}

# Latvia Surrenders
country_event = {
	id = soviet.8
	title = soviet.8.t
	desc = soviet.8.d
	picture = GFX_report_event_soviet_tank_parade
	
	is_triggered_only = yes
	
	option = {
		name = soviet.8.a
		if = {
			limit = {
				FROM = { has_country_flag = cave_to_enemy_pressure_flag }
			}
			puppet = FROM
		}
		else = {
			annex_country = { target = FROM }
		}
	}
}

# Latvia Refuses
country_event = {
	id = soviet.9
	title = soviet.9.t
	desc = soviet.9.d
	picture = report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = soviet.9.a
		create_wargoal = {
			type = annex_everything
			target = LAT
		}		
	}
}

# Lithuania Surrenders
country_event = {
	id = soviet.10
	title = soviet.10.t
	desc = soviet.10.d
	picture = GFX_report_event_soviet_tank_parade
	
	is_triggered_only = yes
	
	option = {
		name = soviet.10.a
		if = {
			limit = {
				FROM = { has_country_flag = cave_to_enemy_pressure_flag }
			}
			puppet = FROM
		}
		else = {
			annex_country = { target = FROM }
		}
	}
}

# Lithuania Refuses
country_event = {
	id = soviet.11
	title = soviet.11.t
	desc = soviet.11.d
	picture = report_event_generic_sign_treaty2
	
	is_triggered_only = yes
	
	option = {
		name = soviet.11.a
		create_wargoal = {
			type = annex_everything
			target = LIT
		}		
	}
}

# Finland Accepts Demands
country_event = {
	id = soviet.12
	title = soviet.12.t
	desc = soviet.12.d
	picture = GFX_report_event_soviet_finnish_pact
	
	is_triggered_only = yes
	
	option = {
		name = soviet.12.a
		SOV = { 
			transfer_state = 146
		}
		hidden_effect = {
			SOV = {
				country_event = { days = 1 id = news.13 }
			}
		}
	}
}

# Finland Refuses Demands
country_event = {
	id = soviet.13
	title = soviet.13.t
	desc = soviet.13.d
	picture = GFX_report_event_soviet_tanks_snow
	
	is_triggered_only = yes
	
	option = {
		name = soviet.13.a
		create_wargoal = {
			type = take_state
			target = FIN
			generator = { 146 }
		}				
		hidden_effect = {
			SOV = {
				country_event = { days = 1 id = news.12 }				
			}
		}
	}
}

# Tannu Tuva is asked to join the USSR
country_event = {
	id = soviet.14
	title = soviet.14.t
	desc = soviet.14.d
	picture = GFX_report_event_stalin_01
	
	is_triggered_only = yes
	
	option = { # Accept
		name = soviet.14.a
		ai_chance = { factor = 100 }
		SOV = {
			country_event = { id = soviet.16 }
		}
		custom_effect_tooltip = GAME_OVER_TT
	}
	option = { # Refuse
		name = soviet.14.b
		SOV = {
			country_event = { id = soviet.15 }
		}
	}
}

# Tannu Tuva declines the offer
country_event = {
	id = soviet.15
	title = soviet.15.t
	desc = soviet.15.d
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes
	
	option = {
		name = soviet.15.a
	}
}

# Tannu Tuva accepts the offer
country_event = {
	id = soviet.16
	title = soviet.16.t
	desc = soviet.16.d
	picture = GFX_report_event_stalin_propaganda
	
	is_triggered_only = yes
	
	option = {
		name = soviet.16.a
		hidden_effect = {
			SOV = {
				country_event = { days = 1 id = news.14 }
			}
		}
	}
}

# Improving the Stalin Line
country_event = {
	id = soviet.17
	title = soviet.17.t
	desc = soviet.17.d
	picture = GFX_report_event_bunker_01
	
	is_triggered_only = yes
	
	option = {
		name = soviet.17.a

		209 = {
			add_building_construction = {
				type = bunker
				province = 11202
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 6324
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 11392
				level = 5
			}
		}
		210 = {
			add_building_construction = {
				type = bunker
				province = 6242
				level = 5
			}
		}
		207 = {
			add_building_construction = {
				type = bunker
				province = 6249
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 9241
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 3331
				level = 5
			}
		}
		206 = {
			add_building_construction = {
				type = bunker
				province = 9289
				level = 5
			}
		}
		202 = {
			add_building_construction = {
				type = bunker
				province = 9568
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 3543
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 504
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 6497
				level = 5
			}
		}
		203 = {		
			add_building_construction = {
				type = bunker
				province = 9451
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 11409
				level = 5
			}
		}
		192 = {
			add_building_construction = {
				type = bunker
				province = 3757
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 9714
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 741
				level = 5
			}
			add_building_construction = {
				type = bunker
				province = 11670
				level = 5
			}
		}
	}
}

# Xi'an Incident
country_event = {
	id = soviet.18
	title = soviet.18.t
	desc = soviet.18.d
	picture = GFX_report_event_china_politicians_captured
	
	trigger = {
		date > 1936.11.1
		tag = CHI
		has_opinion_modifier = hostile_status
		NOT = { has_dlc = "Waking the Tiger" }
	}

	fire_only_once = yes

	
	# Enter negotiations with Communist China
	option = {
		name = soviet.18.a
	}

	# Refuse to negotiate
	option = {
		name = soviet.18.b
		#SOV = { country_event = { id = soviet.20 days = 1 } }
		ai_chance = { factor = 0 }
		set_global_flag = CHI_no_national_front_flag
		custom_effect_tooltip = CHI_no_united_front
	}
}

# Xi'an Incident - Communist China
country_event = {
	id = soviet.19
	title = soviet.19.t
	desc = soviet.19.d
	picture = GFX_report_event_japanese_chinese_surrender
	
	is_triggered_only = yes
	
	# Agree to a truce
	option = {
		name = soviet.19.a
		remove_opinion_modifier = { target = CHI modifier = hostile_status }
		hidden_effect = {
			605 = {
				if = {
					limit = { is_border_conflict = yes }
					set_border_war = no
				}
			}
			620 = {
				if = {
					limit = { is_border_conflict = yes }
					set_border_war = no
				}
			}
			607 = {
				if = {
					limit = { is_border_conflict = yes }
					set_border_war = no
				}
			}
			622 = {
				if = {
					limit = { is_border_conflict = yes }
					set_border_war = no
				}
			}
		}
		#SOV = { country_event = { id = soviet.21 days = 1 } }
	}

	# Refuse to negotiate
	option = {
		name = soviet.19.b
		SOV = { country_event = { id = soviet.22 days = 1 } }
		set_global_flag = CHI_no_national_front_flag
		ai_chance = { factor = 0 }
		custom_effect_tooltip = CHI_no_united_front
	}
}

# Xi'an Incident - Kuomintang Refuses
country_event = {
	id = soviet.20
	title = soviet.20.t
	desc = soviet.20.d
	picture = GFX_report_event_nationalist_china_machinegun_firing
	
	is_triggered_only = yes
	
	option = {
		name = soviet.20.a
	}
}

# Xi'an Incident - Truce
country_event = {
	id = soviet.21
	title = soviet.21.t
	desc = soviet.21.d
	picture = GFX_report_event_chinese_japanese_handshake
	
	is_triggered_only = yes
	option = {
		name = soviet.22.a
	}
	
}

# Xi'an Incident - Communists Refuse
country_event = {
	id = soviet.22
	title = soviet.22.t
	desc = soviet.22.d
	picture = GFX_report_event_chinese_officers
	
	is_triggered_only = yes
	
	option = {
		name = soviet.22.a
	}
}

# Soviet Union Cedes Land (Japan)
country_event = {
	id = soviet.23
	title = soviet.23.t
	desc = soviet.23.d
	picture = GFX_report_event_soviet_japanese_pact
	
	is_triggered_only = yes
	
	option = {
		name = soviet.23.a
		transfer_state = 655
	}
}

# Great Purge - Begins
country_event = {
	id = soviet.24
	title = soviet.24.t
	desc = soviet.24.d
	picture = GFX_report_event_soviet_purge_speech
	
	is_triggered_only = yes
	
	option = {
		name = soviet.24.a
	}
}
# France national focus -  requests to join commitern
country_event = {
	id = soviet.29
	title = soviet.29.t
	desc = soviet.29.d
	picture = GFX_report_event_stalin_01

	is_triggered_only = yes
		
	option = {
		name = soviet.29.a
		SOV = { add_to_faction = FRA }
		FRA = {
			add_ai_strategy = {
				type = alliance
				id = "SOV"
				value = 200
			}
		}
		hidden_effect = {
			news_event = { hours = 6 id = news.180 }
		}
	}
	option = {
		name = soviet.29.b
		ai_chance = { factor = 0 }
		FRA = {
			add_opinion_modifier = {
				target = SOV
				modifier = SOV_FRA_join_comintern_reject
			}
		}
	}
}

# Demand Bessarabia
country_event = {
	id = soviet.30
	title = soviet.30.t
	desc = soviet.30.d
	picture = GFX_report_event_stalin_propaganda

	is_triggered_only = yes
	
	trigger = {
		tag = SOV
		FROM = { tag = ROM }
		NOT = { has_country_flag = bessarabia_demand }
		78 = {
			is_claimed_by = SOV
			is_owned_by = ROM
		}
	}
	
	immediate = { set_country_flag = bessarabia_demand } 
		
	option = {
		name = soviet.30.a
		ROM = { country_event = { days = 2 id = romania.1 } }
	}
	option = {
		name = soviet.30.b
		ai_chance = { factor = 0 }
		#
	}
}

# Demand Karjala
country_event = {
	id = soviet.31
	title = soviet.31.t
	desc = soviet.31.d
	picture = GFX_report_event_stalin_propaganda

	is_triggered_only = yes
	
	trigger = {
		tag = SOV
		FROM = { tag = FIN }
		NOT = { has_country_flag = karjala_demand }
		146 = {
			is_claimed_by = SOV
			is_owned_by = FIN
		}
	}
	
	immediate = { set_country_flag = karjala_demand } 
		
	option = {
		name = soviet.31.a
		FIN = { country_event = { days = 2 id = finland.1 } }
	}
	option = {
		name = soviet.31.b
		ai_chance = { factor = 0 }
		#
	}
}

# Poland conquered... honor MR Pact?
country_event = {
	id = soviet.60
	title = soviet.60.t
	desc = soviet.60.d
	picture = GFX_report_event_soviet_tanks
	
	fire_only_once = yes

	trigger = {
		tag = SOV
		has_global_flag = sov_yes_pact
		GER = {
			exists = yes
			is_subject = no
		}
		NOT =  { has_war_with = GER }
		OR = {
			OR = {
				owns_state = 88 #KRAKOW
				owns_state = 92 #LUBLIN
				owns_state = 90 #KIELCE
				owns_state = 86 #POZNAN
				owns_state = 87 #LODZ
				owns_state = 85 #DANZIG
				owns_state = 98 #PLOCK
				owns_state = 10 #WARSAW
				owns_state = 762 #KATOWICE
				owns_state = 318 #GDYNIA
			}
			AND = {
				POL = { has_capitulated = yes }
				OR = {
					controls_state = 88 #KRAKOW
					controls_state = 92 #LUBLIN
					controls_state = 90 #KIELCE
					controls_state = 86 #POZNAN
					controls_state = 87 #LODZ
					controls_state = 85 #DANZIG
					controls_state = 98 #PLOCK
					controls_state = 10 #WARSAW
					controls_state = 762 #KATOWICE
					controls_state = 318 #GDYNIA
				}
			}
			OR = {
				any_other_country = {
					is_in_faction_with = SOV
					SOV = {
						is_faction_leader = yes
					}
					OR = {
						owns_state = 88 #KRAKOW
						owns_state = 92 #LUBLIN
						owns_state = 90 #KIELCE
						owns_state = 86 #POZNAN
						owns_state = 87 #LODZ
						owns_state = 85 #DANZIG
						owns_state = 98 #PLOCK
						owns_state = 10 #WARSAW
						owns_state = 762 #KATOWICE
						owns_state = 318 #GDYNIA
						AND = {
							POL = { has_capitulated = yes }
							OR = {
								controls_state = 88 #KRAKOW
								controls_state = 92 #LUBLIN
								controls_state = 90 #KIELCE
								controls_state = 86 #POZNAN
								controls_state = 87 #LODZ
								controls_state = 85 #DANZIG
								controls_state = 98 #PLOCK
								controls_state = 10 #WARSAW
								controls_state = 762 #KATOWICE
								controls_state = 318 #GDYNIA
							}
						}		
					}
				}
			}
		}
	}
	
	
	option = {
		ai_chance = {
			base = 1
			modifier = {
				factor = 0
				AND = {
					POL = {
						is_ai = no
						has_civil_war = no
					}
					is_in_faction_with = POL
				}
			}
		}
		name = soviet.60.a
		#KRAKOW
		if = {
			limit = {
				88 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 88
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 88 }
		}
		#LUBLIN
		if = {
			limit = {
				92 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 92
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 92 }
		}
		#KIELCE
		if = {
			limit = {
				90 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 90
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 90 }
		}
		#POZNAN
		if = {
			limit = {
				86 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 86
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = {
				transfer_state = 86
				add_state_core = 86
			}
		}
		#LODZ
		if = {
			limit = {
				87 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 87
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 87 }
		}
		#DANZIG
		if = {
			limit = {
				85 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 85
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = {
				transfer_state = 85
				add_state_core = 85
			}
		}
		#PLOCK
		if = {
			limit = {
				98 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 98
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 98 }
		}
		#WARSAW
		if = {
			limit = {
				10 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 10
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 10 }
		}
		#KATOWICE
		if = {
			limit = {
				762 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 762
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = {
				transfer_state = 762
				add_state_core = 762
			}
		}
		#GDYNIA
		if = {
			limit = {
				318 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 318
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 318 }
		}
		#MEMEL
		if = {
			limit = {
				188 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 188
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 188 }
		}
		#WESTERN SLOVAKIA
		if = {
			limit = {
				70 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 70
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 70 }
		}
		#EASTERN SLOVAKIA
		if = {
			limit = {
				71 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 71
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 71 }
		}
		#SOUTHERN SLOVAKIA
		if = {
			limit = {
				664 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 664
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 664 }
		}
		#ZAOLZIE
		if = {
			limit = {
				72 = {
					OR = {
						is_controlled_by = SOV
						any_other_country = {
							controls_state = 72
							is_in_faction_with = SOV
							SOV = { is_faction_leader = yes }
						}
					}
				}
			}
			GER = { transfer_state = 72 }
		}

		GER = { country_event = soviet.61 }
	}
	option = {
		name = soviet.60.b
		ai_chance = {
			base = 1
			modifier = {
				add = -1
				is_historical_focus_on = yes
				NOT = {
					AND = {
						POL = {
							is_ai = no
							has_civil_war = no
						}
						is_in_faction_with = POL
					}
				}
			}
		}
		GER = { country_event = soviet.62 }
		clr_global_flag = sov_yes_pact
		diplomatic_relation = {
			country = GER
			relation = non_aggression_pact
			active = no
		}
		GER = {
			add_state_claim = 88
			add_state_claim = 92
			add_state_claim = 90
			add_state_claim = 86
			add_state_claim = 87
			add_state_claim = 85
			add_state_claim = 98
			add_state_claim = 10
			add_state_claim = 762
			add_state_claim = 318
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = SOV
				}
			}
		}
	}
}

# Soviet honors MR Pact (Germany)
country_event = {
	id = soviet.61
	title = soviet.61.t
	desc = soviet.61.d
	picture = GFX_report_event_soviet_german_soldier_handshake

	is_triggered_only = yes
	
	option = {
		name = germany.12.a
		if = {
			limit = {
				GER = {
					controls_state = 85
					controls_state = 86
					controls_state = 87
				}
			}
			hidden_effect = {
				news_event = { hours = 6 id = news.287 }
			}
		}
	}
}

# Soviet betrays MR Pact (Germany)
country_event = {
	id = soviet.62
	title = soviet.62.t
	desc = soviet.62.d
	picture = GFX_report_event_soviet_tanks

	is_triggered_only = yes
	
	option = {
		name = soviet.62.a
		create_wargoal = {
			type = annex_everything
			target = SOV
		}
	}
}

#hidden event to play historic speech
country_event = {
	id = soviet.999
	hidden = yes
	fire_only_once = yes
	trigger = {
		tag = SOV
		has_war_with = GER
		surrender_progress < 0.5 #let's not tempt fate, it's counter-revolutionary
		has_government = communism
		NOT = {
			has_global_flag = barbarossa_counter
		}
	}
	immediate = {
		play_no_invincible_armies_effect = yes
	}
	option = {}
}
###########################
# Spanish Events
###########################

add_namespace = spain

###########################
#ss recruitment events
###########################

add_namespace = ss_recruitment_event



#SS recruitment, denmark
country_event = {
	id = ss_recruitment_event.1
	title = ss_recruitment_event.1.t	
	desc = ss_recruitment_event.1.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_recruitment_NOR # player has already selected historical recruitment in Norway
			}
			SS_set_templates = yes
			if = {
				limit = {
					has_country_flag = SS_mechanised_division_late
				}
				custom_effect_tooltip = GER_division_wiking_mech_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"5. SS Division Wiking\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = SS_mechanised_division_early
				}
				custom_effect_tooltip = GER_division_wiking_mech_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"5. SS Division Wiking\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
			if = {
				limit = {
					not = {
						has_country_flag = SS_mechanised_division_early
						has_country_flag = SS_mechanised_division_late
					}
				}
				custom_effect_tooltip = GER_division_wiking_mot_tt
				hidden_effect = {		
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"5. SS Division Wiking\" division_template = \"SS Motorisierte Division\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
		}
		if = {
			limit = { not = { has_country_flag = SS_recruitment_NOR } }
			set_country_flag = SS_recruitment_DEN
			add_manpower = 5000
			custom_effect_tooltip = SS_recruitment_NOR_tt
		}
	}
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_armored_division_late
			}
			custom_effect_tooltip = GER_division_danmark_armored_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Panzer-Division Danmark\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
		}
		else_if = {
			limit = {
				has_country_flag = SS_armored_division_improved
			}
			custom_effect_tooltip = GER_division_danmark_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Danmark\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_danmark_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Danmark\" division_template = \"SS Panzer Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 500
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}

}

#SS recruitment, norway
country_event = {
	id = ss_recruitment_event.2
	title = ss_recruitment_event.2.t	
	desc = ss_recruitment_event.2.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_recruitment_DEN # player has already selected historical recruitment in Norway
			}
			SS_set_templates = yes
			if = {
				limit = {
					has_country_flag = SS_mechanised_division_late
				}
				custom_effect_tooltip = GER_division_wiking_mech_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"5. SS Division Wiking\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = SS_mechanised_division_early
				}
				custom_effect_tooltip = GER_division_wiking_mech_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"5. SS Division Wiking\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
			if = {
				limit = {
					not = {
						has_country_flag = SS_mechanised_division_early
						has_country_flag = SS_mechanised_division_late
					}
				}
				custom_effect_tooltip = GER_division_wiking_mot_tt
				hidden_effect = {		
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"5. SS Division Wiking\" division_template = \"SS Motorisierte Division\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
		}
		if = {
			limit = { not = { has_country_flag = SS_recruitment_DEN } }
			set_country_flag = SS_recruitment_NOR
			add_manpower = 5000
			custom_effect_tooltip = SS_recruitment_DEN_tt
		}
	}
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_armored_division_late
			}
			custom_effect_tooltip = GER_division_norge_armored_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Panzer-Division Norge\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
		}
		else_if = {
			limit = {
				has_country_flag = SS_armored_division_improved
			}
			custom_effect_tooltip = GER_division_norge_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Norge\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_norge_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Norge\" division_template = \"SS Panzer Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}	
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 500
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}
}

#SS recruitment, netherlands
country_event = {
	id = ss_recruitment_event.3
	title = ss_recruitment_event.3.t	
	desc = ss_recruitment_event.3.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_mechanised_division_late
			}
			custom_effect_tooltip = GER_division_nederland_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"23. SS-Division Nederland\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = SS_mechanised_division_early
			}
			custom_effect_tooltip = GER_division_nederland_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"23. SS-Division Nederland\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_nederland_mot_tt
			hidden_effect = {		
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"23. SS-Division Nederland\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
		
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_armored_division_late
			}
			custom_effect_tooltip = GER_division_nederland_armored_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Panzer-Division Nederland\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
							owner = GER
						}
						create_unit = {
							division = "name = \"SS Panzer-Division Anton Mussert\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
		}
		else_if = {
			limit = {
				has_country_flag = SS_armored_division_improved
			}
			custom_effect_tooltip = GER_division_nederland_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Nederland\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS Panzer-Division Anton Mussert\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_nederland_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Nederland\" division_template = \"SS Panzer Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS Panzer-Division Anton Mussert\" division_template = \"SS Panzer Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 1000
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}
}

#SS recruitment, belgium
country_event = {
	id = ss_recruitment_event.4
	title = ss_recruitment_event.4.t	
	desc = ss_recruitment_event.4.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_mechanised_division_late
			}
			custom_effect_tooltip = GER_division_belgium_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"27. SS-Division Langemark\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"28. SS-Division Wallonien\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = SS_mechanised_division_early
			}
			custom_effect_tooltip = GER_division_belgium_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"27. SS-Division Langemark\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"28. SS-Division Wallonien\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_belgium_mot_tt
			hidden_effect = {		
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"27. SS-Division Langemark\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"28. SS-Division Wallonien\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
			
	}
		
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_armored_division_late
			}
			custom_effect_tooltip = GER_division_belgium_armored_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Panzer-Division Flandern\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
							owner = GER
						}
						create_unit = {
							division = "name = \"SS Panzer-Division Wallonien\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
		}
		else_if = {
			limit = {
				has_country_flag = SS_armored_division_improved
			}
			custom_effect_tooltip = GER_division_belgium_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Flandern\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS Panzer-Division Wallonien\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_belgium_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Flandern\" division_template = \"SS Panzer Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS Panzer-Division Wallonien\" division_template = \"SS Panzer Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}	
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 1000
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}

}

#SS recruitment, france
country_event = {
	id = ss_recruitment_event.5
	title = ss_recruitment_event.5.t	
	desc = ss_recruitment_event.5.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				NOT = { has_country_flag = SS_infantry_division }
			}
			SS_infantry_division = yes
		}
		custom_effect_tooltip = GER_division_france_infantry_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"33. SS-Waffen-Grenadier-Division Charlemagne\" division_template = \"SS Waffen-Grenadier-Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}

	}
		
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_resolve_effects_wehrmacht = yes
		SS_set_templates = yes
		if = {
			limit = {
				has_country_flag = SS_mechanised_division_late
			}
			custom_effect_tooltip = GER_division_france_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"33. SS-Panzergrenadier-Division Charlemagne\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS-Panzergrenadier-Division Bretagne\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = SS_mechanised_division_early
			}
			custom_effect_tooltip = GER_division_france_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"33. SS-Panzergrenadier-Division Charlemagne\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS-Panzergrenadier-Division Bretagne\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_france_mot_tt
			hidden_effect = {		
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"33. SS-Panzergrenadier-Division Charlemagne\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS-Panzergrenadier-Division Bretagne\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 2000
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}

}

#SS recruitment, estonia
country_event = {
	id = ss_recruitment_event.6
	title = ss_recruitment_event.6.t	
	desc = ss_recruitment_event.6.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				NOT = { has_country_flag = SS_infantry_division }
			}
			SS_infantry_division = yes
		}
		custom_effect_tooltip = GER_division_estonia_infantry_tt
		hidden_effect = {
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 64 }
				create_unit = {
					division = "name = \"20. SS-Waffen-Grenadier-Division\" division_template = \"SS Waffen-Grenadier-Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
					owner = GER
				}
			}
		}

	}
		
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_resolve_effects_wehrmacht = yes
		SS_set_templates = yes
		if = {
			limit = {
				has_country_flag = SS_mechanised_division_late
			}
			custom_effect_tooltip = GER_division_estonia_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"20. SS-Panzergrenadier-Division\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.6 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = SS_mechanised_division_early
			}
			custom_effect_tooltip = GER_division_estonia_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"20. SS-Panzergrenadier-Division\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.6 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_estonia_mot_tt
			hidden_effect = {		
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"20. SS-Panzergrenadier-Division\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.6 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 1000
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}
}

#SS recruitment, latvia
country_event = {
	id = ss_recruitment_event.7
	title = ss_recruitment_event.7.t	
	desc = ss_recruitment_event.7.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				NOT = { has_country_flag = SS_infantry_division }
			}
			SS_infantry_division = yes
		}
		custom_effect_tooltip = GER_division_latvia_infantry_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"15. SS-Waffen-Grenadier-Division\" division_template = \"SS Waffen-Grenadier-Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
							owner = GER
						}
						create_unit = {
							division = "name = \"19. SS-Waffen-Grenadier-Division\" division_template = \"SS Waffen-Grenadier-Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}

	}
		
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 50
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_resolve_effects_wehrmacht = yes
		SS_set_templates = yes
		if = {
			limit = {
				has_country_flag = SS_mechanised_division_late
			}
			custom_effect_tooltip = GER_division_latvia_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"15. SS-Panzergrenadier-Division\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.6 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = SS_mechanised_division_early
			}
			custom_effect_tooltip = GER_division_latvia_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"15. SS-Panzergrenadier-Division\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.6 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_latvia_mot_tt
			hidden_effect = {		
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"15. SS-Panzergrenadier-Division\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.6 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		if = {
			limit = {
				has_country_flag = SS_armored_division_late
			}
			custom_effect_tooltip = GER_division_latvia_armored_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"19. SS Panzer-Division Latvia\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
		}
		else_if = {
			limit = {
				has_country_flag = SS_armored_division_improved
			}
			custom_effect_tooltip = GER_division_latvia_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"19. SS Panzer-Division Latvia\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_latvia_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"19. SS Panzer-Division Latvia\" division_template = \"SS Panzer Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 1000
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}
}

#SS recruitment, lithuania
country_event = {
	id = ss_recruitment_event.8
	title = ss_recruitment_event.8.t	
	desc = ss_recruitment_event.8.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_resolve_effects_wehrmacht = yes
		add_manpower = 1000
	}
		
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				NOT = { has_country_flag = SS_infantry_division }
			}
			SS_infantry_division = yes
		}
		custom_effect_tooltip = GER_division_lithuania_infantry_tt
		hidden_effect = {
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 64 }
				create_unit = {
					division = "name = \"40. SS-Waffen-Grenadier-Division\" division_template = \"SS Waffen-Grenadier-Division\" start_experience_factor = 0.1 start_equipment_factor = 0.01" 
					owner = GER
				}
			}
		}
		
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 500
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}
}
# wehrmacht resolution events - generals protest
country_event = {
	id = ss_recruitment_event.10
	title = ss_recruitment_event.10.t	
	desc = ss_recruitment_event.10.desc	#
	picture = GFX_report_event_germany_politician_handshake		

	is_triggered_only = yes			# 

	option = { # good for them
		ai_chance = {
			base = 25
		}
		name = ss_recruitment_event.10.a
		add_to_variable = { var = wehrmacht_anger value = 5 }
	}
	option = { #placate
		name = ss_recruitment_event.10.b
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}
		add_political_power = -50
		subtract_from_variable = { var = wehrmacht_anger value = 5 }
	}
}

# wehrmacht resolution events - general resigns in protest
country_event = {
	id = ss_recruitment_event.11
	title = ss_recruitment_event.11.t	
	desc = ss_recruitment_event.11.desc	#
	picture = GFX_report_event_germany_politician_handshake	

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_unit_leader = {
				limit = {
					skill > 3
					NOT = {
						has_trait = politically_connected
					}
				}
				save_event_target_as = GER_SS_general_resigns
			}
		}
	}				# 

	option = { # good for them
		name = ss_recruitment_event.11.a
		ai_chance = {
			base = 25
		}
		event_target:GER_SS_general_resigns = {
			retire = yes
		}
		add_to_variable = { var = wehrmacht_anger value = 5 }
	}
	option = { #placate
		name = ss_recruitment_event.11.b
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}
		add_political_power = -75
		subtract_from_variable = { var = wehrmacht_anger value = 5 }
	}
}
# wehrmacht resolution events - generals plot
country_event = {
	id = ss_recruitment_event.12
	title = ss_recruitment_event.12.t	
	desc = ss_recruitment_event.12.desc	#
	picture = GFX_report_event_military_planning	

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			random_unit_leader = {
				limit = {
					skill > 2
					NOT = {
						has_unit_leader_flag = GER_SS_conspirator
					}
					NOT = {
						has_trait = politically_connected
					}
				}
				set_unit_leader_flag = GER_SS_conspirator
			}
		}
	}

	# 
	option = { # good for them
		name = ss_recruitment_event.12.a
		ai_chance = {
			base = 25
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.1
		}
		add_stability = -0.05
		add_to_variable = { var = wehrmacht_anger value = 5 }
	}

	option = { #placate
		name = ss_recruitment_event.12.b
		add_political_power = -100
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}
		subtract_from_variable = { var = wehrmacht_anger value = 5 }
	}
}

# wehrmacht resolution events - assassination attempt
country_event = {
	id = ss_recruitment_event.13
	title = ss_recruitment_event.13.t	
	desc = ss_recruitment_event.13.desc	#
	picture = GFX_report_event_generic_ruins	

	is_triggered_only = yes

	# 
	option = { #
		name = ss_recruitment_event.13.a
		random_list = {
			10 = { 
				kill_country_leader = yes 
				subtract_from_variable = { var = wehrmacht_anger value = 10 }#we did it reddit!
				hidden_effect = {
					news_event = { id = wtt_news.50 days = 1 }
				}
				country_event = { id = ss_recruitment_event.14 days = 1 }
			}
			90 = { 
				hidden_effect = {
					news_event = { id = wtt_news.51 days = 1 }	
				}
				country_event = { id = ss_recruitment_event.15 days = 1 } 
			}# Hitler survives, option to purge generals
		}
	}	
}
# wehrmacht resolution events - coup
country_event = {
	id = ss_recruitment_event.14
	title = ss_recruitment_event.14.t	
	desc = ss_recruitment_event.14.desc	#
	picture = GFX_report_event_ger_civil_war	

	is_triggered_only = yes

	# 
	option = { #
		name = ss_recruitment_event.14.a
		start_civil_war = { 
			ideology = neutrality
			size = 0.5
		}
		set_variable = { var = wehrmacht_anger value = 0 }
		random_country = {
			limit = {
				original_tag = GER
				has_civil_war = yes
				has_government = neutrality
			}
			save_event_target_as = GER_ss_civil_war_wehrmacht
			delete_unit_template_and_units = { division_template = "SS Waffen-Grenadier-Division" }
			delete_unit_template_and_units = { division_template = "SS Panzer Division (vollgep.)" }
			delete_unit_template_and_units = { division_template = "SS Panzer Division (n.A.)" }
			delete_unit_template_and_units = { division_template = "SS Panzer Division" }
			delete_unit_template_and_units = { division_template = "SS Panzergrenadier Division (n.A.)" }
			delete_unit_template_and_units = { division_template = "SS Panzergrenadier Division" }
			delete_unit_template_and_units = { division_template = "SS Motorisierte Division" }
			GER = { 
				every_unit_leader = {
					limit = {
						has_unit_leader_flag = GER_SS_conspirator
					}
					set_nationality = event_target:GER_ss_civil_war_wehrmacht
				}
			}
		}
	}	
}
# wehrmacht resolution events - assassination attempt fails, purge conspirators
country_event = {
	id = ss_recruitment_event.15
	title = ss_recruitment_event.15.t	
	desc = ss_recruitment_event.15.desc	#
	picture = GFX_report_event_europe_funeral	

	is_triggered_only = yes

	# 
	option = { #MAIMBURNKILL
		name = ss_recruitment_event.15.a
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_stability < 0.4
			}
		}
		every_unit_leader = {
			limit = {
				has_unit_leader_flag = GER_SS_conspirator
			}
			retire = yes
		}
	}	
	option = { #can't afford this
		name = ss_recruitment_event.15.b
		ai_chance = {
			base = 25
		}
		add_stability = -0.1
	}
}

# ss resolution events - Himmler protests
country_event = {
	id = ss_recruitment_event.20
	title = ss_recruitment_event.20.t	
	desc = ss_recruitment_event.20.desc	#
	picture = GFX_report_event_hitler_handshake		

	is_triggered_only = yes			# 

	option = { # good for them
		name = ss_recruitment_event.20.a
		ai_chance = {
			base = 25
		}
		add_to_variable = { var = SS_anger value = 5 }
	}
	option = { #placate
		name = ss_recruitment_event.20.b
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}
		add_political_power = -50
		subtract_from_variable = { var = SS_anger value = 5 }
	}
}
# ss resolution events - SS officers meet in secret
country_event = {
	id = ss_recruitment_event.21
	title = ss_recruitment_event.21.t	
	desc = ss_recruitment_event.21.desc	#
	picture = GFX_report_event_hitler_parade		

	is_triggered_only = yes			# 

	option = { # good for them
		name = ss_recruitment_event.21.a
		ai_chance = {
			base = 25
		}
		add_stability = -0.05
	}
	option = { #placate
		name = ss_recruitment_event.21.b
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}
		add_political_power = -75
		subtract_from_variable = { var = SS_anger value = 5 }
	}
}

# ss resolution events - SS reroutes factory output
country_event = {
	id = ss_recruitment_event.22
	title = ss_recruitment_event.22.t	
	desc = ss_recruitment_event.22.desc	#
	picture = GFX_report_event_generic_factory		

	is_triggered_only = yes			# 

	option = { # good for them
		name = ss_recruitment_event.22.a
		ai_chance = {
			base = 25
		}
		add_timed_idea = { idea = GER_ss_factory_rerouted days = 90 }
	}
	option = { #placate
		name = ss_recruitment_event.22.b
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}
		add_political_power = -100
		subtract_from_variable = { var = SS_anger value = 5 }
	}
}
# ss resolution events - Himmler plots
country_event = {
	id = ss_recruitment_event.23
	title = ss_recruitment_event.23.t	
	desc = ss_recruitment_event.23.desc	#
	picture = GFX_report_event_generic_read_write		

	is_triggered_only = yes			# 

	option = { # good for them
		name = ss_recruitment_event.23.a
		ai_chance = {
			base = 15
		}
		add_stability = -0.1
	}
	option = { #fire
		name = ss_recruitment_event.23.b
		ai_chance = {
			base = 10
		}
		add_political_power = -80
		if = {
			limit = {
				has_idea = heinrich_himmler
			}
			remove_ideas = heinrich_himmler
		}
		subtract_from_variable = { var = wehrmacht_anger value = 15 }	
	}
	option = { #placate
		name = ss_recruitment_event.22.b
		add_political_power = -150
		subtract_from_variable = { var = SS_anger value = 5 }
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_political_power < 0
			}
		}
	}
}
# ss resolution events - assassination attempt
country_event = {
	id = ss_recruitment_event.24
	title = ss_recruitment_event.13.t	
	desc = ss_recruitment_event.24.desc	#
	picture = GFX_report_event_generic_ruins	

	is_triggered_only = yes

	# 
	option = { #
		name = ss_recruitment_event.24.a
		random_list = {
			30 = { 
				if = {
					limit = {
						has_country_leader = { ruling_only = yes character = GER_hermann_goring }
					}
					set_country_flag = GER_SS_Goering_dead #no zombie Grings!
				}
				kill_country_leader = yes 
				set_variable = { var = SS_anger value = 0 }
				GER_heinrich_himmler = {
					add_country_leader_role = {
						promote_leader = yes
						country_leader = {
							ideology = nazism
							expire = "1965.1.1.1"
							traits = {}
						}
					}		
				}
				country_event = ss_recruitment_event.26 #internal power struggle
				hidden_effect = {
					news_event = { id = wtt_news.52 days = 1 }
				}
			}
			70 = { country_event = { id = ss_recruitment_event.25 days = 1 } }# Hitler survives, option to purge SS
		}
	}	
}

# ss resolution events - assassination attempt fails
country_event = {
	id = ss_recruitment_event.25
	title = ss_recruitment_event.15.t	
	desc = ss_recruitment_event.25.desc	#
	picture = GFX_report_event_german_speech	

	is_triggered_only = yes

	# 
	option = { #kill himmler, purge SS
		name = ss_recruitment_event.25.a
		ai_chance = {
			base = 75
			modifier = {
				factor = 0
				has_stability < 0.5
			}
		}
		if = {
			limit = {
				has_idea = heinrich_himmler
			}
			remove_ideas = heinrich_himmler
		}
		add_stability = -0.2
		set_country_flag = GER_ss_himmler_purged
		add_popularity = {
			ideology = fascism
			popularity = -0.2
		}
		subtract_from_variable = { var = wehrmacht_anger value = 25 }
		set_variable = { var = SS_anger value = 0 }
	}

	option = { #can't afford this
		name = ss_recruitment_event.25.b
		ai_chance = {
			base = 25
		}
	}

}

# ss resolution events - power struggle between Himmler and Gring after Hitler assassinated
country_event = {
	id = ss_recruitment_event.26
	title = ss_recruitment_event.26.t	
	desc = ss_recruitment_event.26.desc	#
	picture = GFX_report_event_german_troops	

	is_triggered_only = yes

	# 
	option = { #Government backs Himmler
		name = ss_recruitment_event.26.a
		if = {
			limit = {
				has_idea = goering
			}
			remove_ideas = goering
		}
		hidden_effect = {
		}
		if = {
			limit = {
				check_variable = {
					var = wehrmacht_anger
					value = 30 
					compare = greater_than_or_equals
				}
			}
			start_civil_war = { #now it's a party...a nazi party 
				ideology = neutrality
				size = 0.4
			}
		}
	}

	option = { #Government backs Goering
		name = ss_recruitment_event.26.b
		trigger = {
			NOT = {
				has_country_flag = GER_SS_Goering_dead
			}
		}
		kill_country_leader = yes
		if = {
			limit = {
				has_idea = heinrich_himmler
			}
			remove_ideas = heinrich_himmler
		}
		GER_hermann_goring = {
			add_country_leader_role = {
				promote_leader = yes
				country_leader = {
					ideology = nazism
					expire = "1965.1.1.1"
					traits = {}
				}
			}		
		}
		hidden_effect = {
		}
		if = {
			limit = {
				check_variable = {
					var = wehrmacht_anger
					value = 50 
					compare = greater_than_or_equals
				}
			}
			start_civil_war = { #now it's a party...a nazi party 
				ideology = neutrality
				size = 0.4
			}
		}
	}
	option = { #Government backs Wehrmacht
		name = ss_recruitment_event.26.c
		kill_country_leader = yes
		if = {
			limit = {
				has_idea = heinrich_himmler
			}
			remove_ideas = heinrich_himmler
		}
		create_country_leader = {
			name = "Gnther von Kluge"
			desc = "POLITICS_HEINRICH_HIMMLER_DESC"
			picture = "Portrait_Germany_Gunther_von_Kluge.dds"
			expire = "1965.1.1"
			ideology = despotism
			traits = {
			}
		}
		set_party_name = { ideology = neutrality long_name = GER_neutrality_party_civil_war name = GER_neutrality_party_civil_war }
		start_civil_war = {
			ruling_party = neutrality
			ideology = fascism
			size = 0.4
		}
		hidden_effect = {
		}
		set_variable = { var = wehrmacht_anger value = 0 }
		set_variable = { var = SS_anger value = 0 }
	}

}
# for alt-history stuff
add_namespace = ss_recruitment_alternate

#SS recruitment, Britain
country_event = {
	id = ss_recruitment_alternate.1
	title = ss_recruitment_alternate.1.t	
	desc = ss_recruitment_alternate.1.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #medium
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_mechanised_division_late
			}
			custom_effect_tooltip = GER_division_britain_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS-Panzergrenadier-Division Oliver Cromwell\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.8 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = SS_mechanised_division_early
			}
			custom_effect_tooltip = GER_division_britain_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS-Panzergrenadier-Division Oliver Cromwell\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.8 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_britain_mot_tt
			hidden_effect = {		
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS-Panzergrenadier-Division Oliver Cromwell\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.8 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
		
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_armored_division_late
			}
			custom_effect_tooltip = GER_division_britain_armored_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Panzer-Division Oliver Cromwell\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
							owner = GER
						}
						create_unit = {
							division = "name = \"SS Panzer-Division Sankt Georg\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
		}
		else_if = {
			limit = {
				has_country_flag = SS_armored_division_improved
			}
			custom_effect_tooltip = GER_division_britain_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Oliver Cromwell\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS Panzer-Division Sankt Georg\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_britain_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Oliver Cromwell\" division_template = \"SS Panzer Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
					create_unit = {
						division = "name = \"SS Panzer-Division Sankt Georg\" division_template = \"SS Panzer Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 1000
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}
}
#SS recruitment, scotland
country_event = {
	id = ss_recruitment_alternate.2
	title = ss_recruitment_alternate.2.t	
	desc = ss_recruitment_alternate.2.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #medium
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				NOT = { has_country_flag = SS_infantry_division }
			}
			SS_infantry_division = yes
		}
		custom_effect_tooltip = GER_division_scotland_infantry_tt
		hidden_effect = {
			random_owned_controlled_state = {
				limit = { ROOT = { has_full_control_of_state = PREV } }
				prioritize = { 64 }
				create_unit = {
					division = "name = \"Glische Freiwilligen-Divison der Waffen-SS\" division_template = \"SS Waffen-Grenadier-Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
					owner = GER
				}
			}
		}
	}
		
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_mechanised_division_late
			}
			custom_effect_tooltip = GER_division_scotland_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"Glische Freiwilligen-Divison der Waffen-SS\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else_if = {
			limit = {
				has_country_flag = SS_mechanised_division_early
			}
			custom_effect_tooltip = GER_division_scotland_mech_tt
			hidden_effect = {
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"Glische Freiwilligen-Divison der Waffen-SS\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_scotland_mot_tt
			hidden_effect = {		
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"Glische Freiwilligen-Divison der Waffen-SS\" division_template = \"SS Motorisierte Division\" start_experience_factor = 0.7 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 1000
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}
}
#ss recruitment sweden
country_event = {
	id = ss_recruitment_alternate.3
	title = ss_recruitment_alternate.3.t	
	desc = ss_recruitment_alternate.3.desc	#
	picture = GFX_report_event_german_volunteers					# 
	
	

	is_triggered_only = yes
	option = { 
		name = ss_recruitment_event.1.a #historical
		ai_chance = {
			base = 50
		}
		add_to_variable = { var = wehrmacht_anger value = 5}
		subtract_from_variable = { var = SS_anger value = 5}
		SS_resolve_effects_wehrmacht = yes
		
			SS_set_templates = yes
			if = {
				limit = {
					has_country_flag = SS_mechanised_division_late
				}
				custom_effect_tooltip = GER_division_sweden_mech_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Panzergrenadier-Division Sveaborg\" division_template = \"SS Panzergrenadier Division (n.A.)\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
			else_if = {
				limit = {
					has_country_flag = SS_mechanised_division_early
				}
				custom_effect_tooltip = GER_division_sweden_mech_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Panzergrenadier-Division Sveaborg\" division_template = \"SS Panzergrenadier Division\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
			else = {
				custom_effect_tooltip = GER_division_sweden_mot_tt
				hidden_effect = {		
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Division Sveaborg\" division_template = \"SS Motorisierte Division\" start_experience_factor = 1.0 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
			}
		
		
	}
	option = {
		name = ss_recruitment_event.1.b #big
		ai_chance = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
			modifier = {
				factor = 0
				check_variable = { var = wehrmacht_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_to_variable = { var = wehrmacht_anger value = 10}
		subtract_from_variable = { var = SS_anger value = 10}
		SS_set_templates = yes
		SS_resolve_effects_wehrmacht = yes
		if = {
			limit = {
				has_country_flag = SS_armored_division_late
			}
			custom_effect_tooltip = GER_division_sweden_armored_tt
				hidden_effect = {
					random_owned_controlled_state = {
						limit = { ROOT = { has_full_control_of_state = PREV } }
						prioritize = { 64 }
						create_unit = {
							division = "name = \"SS Panzer-Division Sveaborg\" division_template = \"SS Panzer Division (vollgep.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
							owner = GER
						}
					}
				}
		}
		else_if = {
			limit = {
				has_country_flag = SS_armored_division_improved
			}
			custom_effect_tooltip = GER_division_sweden_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Sveaborg\" division_template = \"SS Panzer Division (n.A.)\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}
		else = {
			custom_effect_tooltip = GER_division_sweden_armored_tt
			hidden_effect = {	
				random_owned_controlled_state = {
					limit = { ROOT = { has_full_control_of_state = PREV } }
					prioritize = { 64 }
					create_unit = {
						division = "name = \"SS Panzer-Division Sveaborg\" division_template = \"SS Panzer Division\" start_experience_factor = 0.5 start_equipment_factor = 0.01" 
						owner = GER
					}
				}
			}
		}	
	}
	option = {
		name = ss_recruitment_event.1.c #small group of specialists
		ai_chance = {
			base = 25
			modifier = {
				factor = 0
				check_variable = { var = SS_anger value = 30 compare = greater_than_or_equals }
			}
		}
		add_manpower = 500
		army_experience = 10
		add_to_variable = { var = SS_anger value = 10}
		SS_resolve_effects_ss = yes
		subtract_from_variable = { var = wehrmacht_anger value = 5}
	}
}
###########################
#stability events
###########################

add_namespace = stability


#draft dodging
country_event = {
	id = stability.21
	title = stability.21.t	
	desc = {
		text = stability.21.desc.a
	trigger = { 		 
			has_idea = draft_dodging 
		}	
	} 	
	desc = {
		text = stability.21.desc.b
		trigger = { has_idea = draft_dodging_2 }
	}
	desc = {
		text = stability.21.desc.c
		trigger = { has_idea = draft_dodging_3 }
	}

	picture = GFX_report_event_desertion_poster					
		
	is_triggered_only = yes

	immediate = { 
		if = {
			limit = {
				NOT = { has_country_flag = crisis_in_progress }
			}
			set_country_flag = crisis_in_progress 
		}
		if = {
			limit = {
				has_country_flag = crisis_solution_in_progress
			}
			clr_country_flag = crisis_solution_in_progress
		}
	}
	option = { 
		name = stability.21.a
		ai_chance = {
			base = 0
		}
	}
	
	option = { #military crackdown level 1
		trigger = { 
			NOT = {
				OR = {
					has_idea = draft_dodging_2
					has_idea = draft_dodging_3
				}
			}
		}
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		name = stability.21.d
		add_political_power = -75
		custom_effect_tooltip = 15_days_tt
		set_country_flag = crisis_solution_in_progress
		if = {
			limit = {
				has_stability > 0.3
			}
			random_list = {
				60 = { country_event = { id = stability.31 days = 15 } } #success
				40 = { country_event = { id = stability.32 days = 15 } } #failure
			}
		}
		if = {
			limit = {
				has_stability < 0.3
			}
			random_list = {
				60 = { country_event = { id = stability.31 days = 15 } } #success
				30 = { country_event = { id = stability.32 days = 15 } } #failure
				5 = { country_event = { id = stability.33 days = 15 } } #civil war
			}
		}
	}

	option = { #improve living standards
		trigger = { 
			NOT = {
				OR = {
					has_idea = draft_dodging_2
					has_idea = draft_dodging_3
				}
			}
		}
		name = stability.21.e
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		add_political_power = -120
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		random_list = {
			80 = { country_event = { id = stability.34 days = 30 } } #success
			20 = { country_event = { id = stability.21 days = 30 } } 

		}
	}

	option = { #military crackdown level 2
		trigger = { 
			has_idea = draft_dodging_2
		}
		name = stability.21.f
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		add_political_power = -80
		custom_effect_tooltip = 15_days_tt
		set_country_flag = crisis_solution_in_progress
		if = {
			limit = {
				has_stability > 0.3
			}
			random_list = {
				60 = { country_event = { id = stability.35 days = 15 } } #success
				40 = { country_event = { id = stability.36 days = 15 } } #failure
			}
		}
		if = {
			limit = {
				has_stability < 0.3
			}
			random_list = {
				55 = { country_event = { id = stability.35 days = 15 } } #success
				30 = { country_event = { id = stability.36 days = 15 } } #failure
				10 = { country_event = { id = stability.33 days = 15 } } #civil war
			}
		}
	}

	option = { #improve living standards lvl 2
		trigger = { 
			has_idea = draft_dodging_2
		}
		name = stability.21.g
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		add_political_power = -130
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		random_list = {
			80 = { country_event = { id = stability.37 days = 30 } } #success
			20 = { country_event = { id = stability.21 days = 30 } } 

		}
	}

	option = { #military crackdown level 3
		trigger = { 
			has_idea = draft_dodging_3
		}
		name = stability.21.h
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		add_political_power = -90
		custom_effect_tooltip = 15_days_tt
		set_country_flag = crisis_solution_in_progress
		if = {
			limit = {
				has_stability > 0.3
			}
			random_list = {
				60 = { country_event = { id = stability.38 days = 15 } } #success
				40 = { country_event = { id = stability.39 days = 15 } } #failure
			}
		}
		if = {
			limit = {
				has_stability < 0.3
			}
			random_list = {
				45 = { country_event = { id = stability.38 days = 15 } } #success
				45 = { country_event = { id = stability.39 days = 15 } } #failure
				10 = { country_event = { id = stability.33 days = 15 } } #civil war
			}
		}
	}

	option = { #improve living standards lvl 3
		trigger = { 
			has_idea = draft_dodging_3
		}
		name = stability.21.i
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		add_political_power = -150
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		random_list = {
			80 = { country_event = { id = stability.40 days = 30 } } #success
			20 = { country_event = { id = stability.21 days = 30 } } 
		}
	}

}

#strikes
country_event = {
	id = stability.22
	title = stability.22.t	
	desc = {
		text = stability.22.desc.a
		trigger = { 		 
			has_idea = strikes_1
		}	
	} 	
	desc = {
		text = stability.22.desc.b
		trigger = { has_idea = strikes_2 }
	}
	desc = {
		text = stability.22.desc.c
		trigger = { has_idea = strikes_3 }
	}	#
	picture = GFX_report_event_worker_protests					# 
		
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_country_flag = crisis_solution_in_progress
			}
			clr_country_flag = crisis_solution_in_progress
		}
	}
	
	option = { 
		name = stability.22.a #nothing to be done
		ai_chance = {
			base = 0
		}
		 
	}
	option = { 
		trigger = {
			has_idea = strikes_1
		}
		name = stability.22.b #violence - level 1
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		add_political_power = -75 
		random_list = {
			60 = { country_event = { id = strikes_event.1 days = 30 } }#success
			40 = { country_event = { id = strikes_event.2 days = 30 } }#failure
		}
	}
	option = { 
		name = stability.22.c #negotiations - level 1
		trigger = {
			has_idea = strikes_1
		}
		custom_effect_tooltip = 45_days_tt
		set_country_flag = crisis_solution_in_progress
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		add_political_power = -125 
		random_list = {
			80 = { country_event = { id = strikes_event.3 days = 45 } }#success
			20 = { country_event = { id = stability.22 days = 45 } } 

		}
	}
	option = { 
		trigger = {
			has_idea = strikes_2
		}
		name = stability.22.d #violence - level 2
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		add_political_power = -80 
		random_list = {
			60 = { country_event = { id = strikes_event.4 days = 30 } }#success
			40 = { country_event = { id = strikes_event.5 days = 30 } }#failure
		}
	}
	option = { 
		trigger = {
			has_idea = strikes_2
		}
		name = stability.22.e #negotiations - level 2
		custom_effect_tooltip = 45_days_tt
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		add_political_power = -135 
		set_country_flag = crisis_solution_in_progress
		random_list = {
			80 = { country_event = { id = strikes_event.6 days = 45 } }#success
			20 = { country_event = { id = stability.22 days = 45 } }

		}
	}
	option = { 
		trigger = {
			has_idea = strikes_3
		}
		name = stability.22.f #violence - level 3
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		add_political_power = -85 
		random_list = {
			60 = { country_event = { id = strikes_event.7 days = 30 } }#success
			40 = { country_event = { id = strikes_event.8 days = 30 } }#failure
		}
	}
	option = { 
		trigger = {
			has_idea = strikes_3
		}
		name = stability.22.g #negotiations - level 3
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		custom_effect_tooltip = 45_days_tt
		set_country_flag = crisis_solution_in_progress
		add_political_power = -145 
		random_list = {
			80 = { country_event = { id = strikes_event.9 days = 45 } }#success
			20 = { country_event = { id = stability.22 days = 45 } }

		}
	}

}
#mutinies
country_event = {
	id = stability.23
	title = stability.23.t	
	desc = {
		text = stability.23.desc.a
		trigger = { 		 
			has_idea = mutiny_1
		}	
	} 	
	desc = {
		text = stability.23.desc.b
		trigger = { has_idea = mutiny_2 }
	}
	desc = {
		text = stability.23.desc.c
		trigger = { has_idea = mutiny_3 }
	}
	picture = GFX_report_event_chinese_soldiers_02
		
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_country_flag = crisis_solution_in_progress
			}
			clr_country_flag = crisis_solution_in_progress
		}
	}
	
	option = { 
		name = stability.23.a #eh
		ai_chance = {
			base = 0
		}
	}
	option = { 
		trigger = {
			has_idea = mutiny_1
		}
		name = stability.23.b #violence - level 1
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		add_political_power = -75 
		random_list = {
			60 = { country_event = { id = mutiny_event.1 days = 30 } }#success
			40 = { country_event = { id = mutiny_event.2 days = 30 } }#failure
		}
	}
	option = { 
		name = stability.23.c #negotiations - level 1
		trigger = {
			has_idea = mutiny_1
		}
		custom_effect_tooltip = 45_days_tt
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		add_political_power = -125 
		set_country_flag = crisis_solution_in_progress
		random_list = {
			80 = { country_event = { id = mutiny_event.3 days = 45 } }#success
			20 = { country_event = { id = stability.23 days = 45 } } 

		}
	}
	option = { 
		trigger = {
			has_idea = mutiny_2
		}
		name = stability.23.d #violence - level 2
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		add_political_power = -80 
		random_list = {
			60 = { country_event = { id = mutiny_event.4 days = 30 } }#success
			40 = { country_event = { id = mutiny_event.5 days = 30 } }#failure
		}
	}
	option = { 
		trigger = {
			has_idea = mutiny_2
		}
		name = stability.23.e #negotiations - level 2
		custom_effect_tooltip = 45_days_tt
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		add_political_power = -135 
		set_country_flag = crisis_solution_in_progress
		random_list = {
			80 = { country_event = { id = mutiny_event.6 days = 45 } }#success
			20 = { country_event = { id = stability.23 days = 45 } }  

		}
	}
	option = { 
		trigger = {
			has_idea = mutiny_3
		}
		name = stability.23.f #violence - level 3
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 0
			}
			modifier = {
				has_political_power > 100
				factor = 0.5
			}
		}
		custom_effect_tooltip = 30_days_tt
		set_country_flag = crisis_solution_in_progress
		add_political_power = -85 
		random_list = {
			60 = { country_event = { id = mutiny_event.7 days = 30 } }#success
			40 = { country_event = { id = mutiny_event.8 days = 30 } }#failure
		}
	}
	option = { 
		trigger = {
			has_idea = mutiny_3
		}
		name = stability.23.g #negotiations - level 3
		ai_chance = {
			base = 50
			modifier = {
				has_stability < 0.4
				factor = 2
			}
			modifier = {
				has_political_power > 100
				factor = 2
			}
		}
		custom_effect_tooltip = 45_days_tt
		set_country_flag = crisis_solution_in_progress
		add_political_power = -145 
		random_list = {
			80 = { country_event = { id = mutiny_event.9 days = 45 } }#success
			20 = { country_event = { id = stability.23 days = 45 } } 

		}
	}
}


#military crackdown response to draft dodging - success
country_event = {
	id = stability.31
	title = stability.31.t	
	desc = stability.31.desc	#
	picture = GFX_report_event_generic_army					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.31.a
		remove_ideas =  { 
			draft_dodging 
			draft_dodging_2
			draft_dodging_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = draft_dodging_resolved days = 90 }
	}

}

#military crackdown response to draft dodging - failure, loss of stability
country_event = {
	id = stability.32
	title = stability.32.t	
	desc = stability.32.desc	#
	picture = GFX_report_event_generic_riot					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.32.a
		add_stability = -0.05
		add_war_support = -0.05
		clr_country_flag = crisis_solution_in_progress
	}

}

#military crackdown response to draft dodging - failure, civil war
country_event = {
	id = stability.33
	title = stability.33.t	
	desc = stability.33.desc	#
	picture = GFX_report_event_generic_battle					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.33.a
		if = {
			limit = { has_government = democratic }
			start_civil_war = { ideology = communism size = 0.35 }
		}
		if = {
			limit = { 
				OR = {
					has_government = fascism
					has_government = communism
				} 
			}
			start_civil_war = { ideology = democratic size = 0.45 }
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = draft_dodging_resolved days = 90 }
	}

}

# improve living conditions - success
country_event = {
	id = stability.34
	title = stability.34.t	
	desc = stability.34.desc	#
	picture = GFX_report_event_degaulle_inspect_troops					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.34.a
		remove_ideas =  { 
			draft_dodging 
			draft_dodging_2
			draft_dodging_3
		} 
		add_stability = 0.05
		add_war_support = 0.05
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = draft_dodging_resolved days = 180 }
	}

}

#military crackdown response to draft dodging, level 2 - success
country_event = {
	id = stability.35
	title = stability.35.t	
	desc = stability.35.desc	#
	picture = GFX_report_event_generic_army					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.35.a
		remove_ideas =  { 
			draft_dodging 
			draft_dodging_2
			draft_dodging_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = draft_dodging_resolved days = 90 }
	}

}

#military crackdown response to draft dodging, level 2 - failure, loss of stability
country_event = {
	id = stability.36
	title = stability.36.t	
	desc = stability.36.desc	#
	picture = GFX_report_event_generic_riot					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.36.a
		add_stability = -0.1
		add_war_support = -0.1
		clr_country_flag = crisis_solution_in_progress
	}

}

# improve living conditions, level 2 - success
country_event = {
	id = stability.37
	title = stability.37.t	
	desc = stability.37.desc	#
	picture = GFX_report_event_degaulle_inspect_troops					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.37.a
		remove_ideas =  { 
			draft_dodging 
			draft_dodging_2
			draft_dodging_3
		} 
		add_stability = 0.05
		add_war_support = 0.05
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = draft_dodging_resolved days = 180 }
	}

}


#military crackdown response to draft dodging, level 3 - success
country_event = {
	id = stability.38
	title = stability.38.t	
	desc = stability.38.desc	#
	picture = GFX_report_event_generic_army					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.38.a
		remove_ideas =  { 
			draft_dodging 
			draft_dodging_2
			draft_dodging_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = draft_dodging_resolved days = 90 }
	}

}

#military crackdown response to draft dodging, level 3 - failure, loss of stability
country_event = {
	id = stability.39
	title = stability.39.t	
	desc = stability.39.desc	#
	picture = GFX_report_event_generic_riot					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.39.a
		add_stability = -0.1
		clr_country_flag = crisis_solution_in_progress
	}

}

# improve living conditions, level 3 - success
country_event = {
	id = stability.40
	title = stability.40.t	
	desc = stability.40.desc	#
	picture = GFX_report_event_degaulle_inspect_troops					# 
		
	is_triggered_only = yes
	
	option = { 
		name = stability.40.a
		remove_ideas =  { 
			draft_dodging 
			draft_dodging_2
			draft_dodging_3
		}
		add_stability = 0.05
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = draft_dodging_resolved days = 180 }
	}

}
add_namespace = strikes_event

#military crackdown response to strikes - success
country_event = {
	id = strikes_event.1
	title = strikes_event.1.t	
	desc = strikes_event.1.desc	#
	picture = GFX_report_event_generic_military_parade					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.1.a
		remove_ideas =  { 
			strikes_1 
			strikes_2
			strikes_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = strikes_resolved days = 90 }
	}

}

#military crackdown response to strikes - failure, loss of stability
country_event = {
	id = strikes_event.2
	title = strikes_event.2.t	
	desc = strikes_event.2.desc	#
	picture = GFX_report_event_gathering_protest					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.2.a
		add_stability = -0.05
		add_war_support = -0.05
		clr_country_flag = crisis_solution_in_progress
	}

}

#strikes negotiations - success
country_event = {
	id = strikes_event.3
	title = strikes_event.3.t	
	desc = strikes_event.3.desc	#
	picture = GFX_report_event_generic_factory					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.3.a
		remove_ideas =  { 
			strikes_1 
			strikes_2
			strikes_3
		}
		clr_country_flag = crisis_in_progress
		add_stability = 0.05
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = strikes_resolved days = 180 }
	}
}
#military crackdown response to strikes_2 - success
country_event = {
	id = strikes_event.4
	title = strikes_event.4.t	
	desc = strikes_event.4.desc	#
	picture = GFX_report_event_generic_lend_lease					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.4.a
		remove_ideas =  { 
			strikes_1 
			strikes_2
			strikes_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = strikes_resolved days = 90 }
	}

}

#military crackdown response to strikes_2 - failure, loss of stability
country_event = {
	id = strikes_event.5
	title = strikes_event.5.t	
	desc = strikes_event.5.desc	#
	picture = GFX_report_event_generic_rally2					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.5.a
		add_stability = -0.1
		add_war_support = -0.1
		clr_country_flag = crisis_solution_in_progress
	}

}

#strikes_2 negotiations - success
country_event = {
	id = strikes_event.6
	title = strikes_event.6.t	
	desc = strikes_event.6.desc	#
	picture = GFX_report_event_tank_factory					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.6.a
		remove_ideas =  { 
			strikes_1 
			strikes_2
			strikes_3
		}
		clr_country_flag = crisis_in_progress
		add_stability = 0.05
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = strikes_resolved days = 180 }
	}

}
#military crackdown response to strikes_3 - success
country_event = {
	id = strikes_event.7
	title = strikes_event.7.t	
	desc = strikes_event.7.desc	#
	picture = GFX_report_event_polish_tanks_01					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.7.a
		remove_ideas =  { 
			strikes_1 
			strikes_2
			strikes_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = strikes_resolved days = 90 }
	}

}

#military crackdown response to strikes_3 - failure, loss of stability
country_event = {
	id = strikes_event.8
	title = strikes_event.8.t	
	desc = strikes_event.8.desc	#
	picture = GFX_report_event_ger_civil_war					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.8.a
		add_stability = -0.1
		add_war_support = -0.1
		clr_country_flag = crisis_solution_in_progress
	}

}

#strikes_3 negotiations - success
country_event = {
	id = strikes_event.9
	title = strikes_event.9.t	
	desc = strikes_event.9.desc	#
	picture = GFX_report_event_generic_sign_treaty2					# 
		
	is_triggered_only = yes
	
	option = { 
		name = strikes_event.9.a
		remove_ideas =  { 
			strikes_1 
			strikes_2
			strikes_3
		}
		clr_country_flag = crisis_in_progress
		add_stability = 0.05
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = strikes_resolved days = 180 }
	}

}
add_namespace = mutiny_event

#military crackdown response to mutiny - success
country_event = {
	id = mutiny_event.1
	title = mutiny_event.1.t	
	desc = mutiny_event.1.desc	#
	picture = GFX_report_event_japanese_soldiers					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.1.a
		remove_ideas =  { 
			mutiny_1 
			mutiny_2
			mutiny_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = mutiny_resolved days = 90 }
	}

}

#military crackdown response to mutiny - failure, loss of stability
country_event = {
	id = mutiny_event.2
	title = mutiny_event.2.t	
	desc = mutiny_event.2.desc	#
	picture = GFX_report_event_canada_army					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.2.a
		add_stability = -0.05
		add_war_support = -0.05
		clr_country_flag = crisis_solution_in_progress
	}

}

#mutiny negotiations - success
country_event = {
	id = mutiny_event.3
	title = mutiny_event.3.t	
	desc = mutiny_event.3.desc	#
	picture = GFX_report_event_british_inspect_troops					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.3.a
		remove_ideas =  { 
			mutiny_1 
			mutiny_2
			mutiny_3
		}
		clr_country_flag = crisis_in_progress
		add_stability = 0.05
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = mutiny_resolved days = 180 }
	}
}
#military crackdown response to mutiny_2 - success
country_event = {
	id = mutiny_event.4
	title = mutiny_event.4.t	
	desc = mutiny_event.4.desc	#
	picture = GFX_report_event_czech_soldier_01					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.4.a
		remove_ideas =  { 
			mutiny_1 
			mutiny_2
			mutiny_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = mutiny_resolved days = 90 }
	}

}

#military crackdown response to mutiny_2 - failure, loss of stability
country_event = {
	id = mutiny_event.5
	title = mutiny_event.5.t	
	desc = mutiny_event.5.desc	#
	picture = GFX_report_event_fascists_posing					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.5.a
		add_stability = -0.1
		add_war_support = -0.1
		clr_country_flag = crisis_solution_in_progress
	}

}

#mutiny_2 negotiations - success
country_event = {
	id = mutiny_event.6
	title = mutiny_event.6.t	
	desc = mutiny_event.6.desc	#
	picture = GFX_report_event_journalists_speech					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.6.a
		remove_ideas =  { 
			mutiny_1 
			mutiny_2
			mutiny_3
		}
		clr_country_flag = crisis_in_progress
		add_stability = 0.05
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = mutiny_resolved days = 180 }
	}

}
#military crackdown response to mutiny_3 - success
country_event = {
	id = mutiny_event.7
	title = mutiny_event.7.t	
	desc = mutiny_event.7.desc	#
	picture = GFX_report_event_nra_march					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.7.a
		remove_ideas =  { 
			mutiny_1 
			mutiny_2
			mutiny_3
		}
		clr_country_flag = crisis_in_progress
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = mutiny_resolved days = 90 }
	}

}

#military crackdown response to mutiny_3 - failure, loss of stability
country_event = {
	id = mutiny_event.8
	title = mutiny_event.8.t	
	desc = mutiny_event.8.desc	#
	picture = GFX_report_event_chinese_soldiers_01					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.8.a
		add_stability = -0.1
		add_war_support = -0.1
		clr_country_flag = crisis_solution_in_progress
	}

}

#mutiny_3 negotiations - success
country_event = {
	id = mutiny_event.9
	title = mutiny_event.9.t	
	desc = mutiny_event.9.desc	#
	picture = GFX_report_event_communists_cheer					# 
		
	is_triggered_only = yes
	
	option = { 
		name = mutiny_event.9.a
		remove_ideas =  { 
			mutiny_1 
			mutiny_2
			mutiny_3
		}
		clr_country_flag = crisis_in_progress
		add_stability = 0.05
		clr_country_flag = crisis_solution_in_progress
		set_country_flag = { flag = mutiny_resolved days = 180 }
	}

}
###########################
# Test Events
###########################

add_namespace = test

# Test Event 1
country_event = {
	id = test.1
	title = test.1.t
	desc = test.1.d
	
	immediate = {
		
	}
	trigger = {
	}

	is_triggered_only = yes
	
	option = {
		name = test.1.a
	}
}

add_namespace = test_state
# Test Event 1
state_event = {
	id = test_state.1
	title = test_state.1.t
	desc = test_state.1.d
	
	trigger = {

	}

	is_triggered_only = yes
	
	option = {
		name = test_state.1.a		
	}
}

# Test Event 1
country_event = {
	id = test.2
	title = test.1.t
	desc = test.2.d
	
	trigger = {
	}

	is_triggered_only = yes
	
	option = {
		name = test.1.a
		
	}
}

# Test Event 3
country_event = {
	id = test.3
	title = test.3.t
	desc = test.3.d
	
	is_triggered_only = yes

	immediate = {
		add_autonomy_score = {
			value = 10
			localization = "TEST_EVENT_3_IMMEDIATE: $VAL|+=2$"
		}
	}
	
	option = {
		name = test.3.a
		RAJ = {
			add_autonomy_score = {
				value = 5
				localization = "TEST_EVENT_3_OPTION: $VAL|+=2$"
			}
		}
	}
}

country_event = {
	id = generic.1011
	title = generic.1011.t
	desc = test_border_war_loc
	
	picture = GFX_report_event_physics_lab_01

	is_triggered_only = yes

	immediate = {
		ROOT = { save_event_target_as = our_country }
		FROM = { save_event_target_as = our_state }
		FROM.FROM = { save_event_target_as = their_country }
		FROM.FROM.FROM = { save_event_target_as = their_state }
	}
	
	option = {
		name = generic.10.a

		event_target:our_country = {
			add_political_power = 100
		}
		event_target:their_country = { add_political_power = 100 }

		FROM = {
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}
		FROM.FROM.FROM = {
			add_building_construction = {
				type = air_base
				level = 2
				instant_build = yes
			}
		}

	}	
}
country_event = {
	id = generic.1012
	title = generic.1012.t
	desc = test_border_war_loc
	
	picture = GFX_report_event_physics_lab_01

	is_triggered_only = yes
	
	option = {
		name = generic.10.a
		add_political_power = 200
	}	
}

country_event = {
	id = generic.1013
	title = generic.1013.t
	desc = tanktest
	
	picture = GFX_report_event_physics_lab_01

	is_triggered_only = yes
	
	option = {
		name = generic.1013.a
		GER = {
			if = {
				limit = { has_dlc = "Death or Dishonor" }
				create_production_license = {
					target = ROOT
					equipment = {
						type = light_tank_chassis_2						
					}
					cost_factor = 0
				}
			}
			ROOT = {
				add_equipment_to_stockpile = {
					type = light_tank_chassis_2
					amount = 360
					producer = PREV
				} 
			}
		}
	}	
}

add_namespace = performance_test


country_event = {
	id = performance_test.1
	title = "Performance Test Event"
	desc = "The tooltip lies."
	
	picture = GFX_report_event_physics_lab_01

	is_triggered_only = yes
	
	option = {
		name = "Cry Havoc!"
		every_country = { #setup techs 
			set_technology = {
				gw_artillery = 1
				tech_support = 1
				fighter1 = 1
				CAS1 = 1
				interwar_artillery = 1
				interwar_antitank = 1
				interwar_antiair = 1
				artillery1 = 1
				artillery2 = 1
				artillery3 = 1
				artillery4 = 1
				infantry_weapons1 = 1
				infantry_weapons2 = 1
				improved_infantry_weapons = 1
				improved_infantry_weapons_2 = 1
				infantry_at = 1
				support_weapons = 1
				support_weapons2 = 1
				support_weapons3 = 1
				support_weapons4 = 1
				tech_engineers = 1
				tech_engineers2 = 1
				tech_engineers3 = 1
				tech_recon = 1
				tech_recon2 = 1
				tech_recon3 = 1
			}
		}
		ITA = {
			annex_country = { target = ETH }
		}
		GER = {
			annex_country = { target = CZE }
			annex_country = { target = AUS }
		}
		USA = {
			remove_ideas = {
				great_depression
				undisturbed_isolation
			}
			add_ideas = {
				civilian_economy
			}

		}
		every_country = { #setup units
			division_template = {
			name = "Legion of the Damned"
			priority = 1
			is_locked = yes
				regiments = {
					infantry = { x = 0 y = 0 }
					infantry = { x = 0 y = 1 }
					infantry = { x = 0 y = 2 }
				
					infantry = { x = 1 y = 0 }
					infantry = { x = 1 y = 1 }
					infantry = { x = 1 y = 2 }
		
					artillery_brigade = { x = 2 y = 0 }
					artillery_brigade = { x = 2 y = 1 }
					infantry = { x = 2 y = 2 }
				}
				support = {
					artillery = { x = 0 y = 0 }
					engineer = { x = 0 y = 1 }
					recon = { x = 0 y = 2 }
				}
			}
			set_variable = { div_number = num_of_factories }
			multiply_variable = { div_number = 7 } #countries get 7 times their factory count in divisions
			set_temp_variable = { count_index = 1 }
			while_loop_effect = {
				limit = {
					check_variable = { count_index < div_number }
				}
				capital_scope = {
					create_unit = { 
						division = "name = \"Legion\" division_template = \"Legion of the Damned\" start_experience_factor = 0.5" 
						owner = PREV
					}
				}
				add_to_temp_variable = { count_index = 1 }
			}
		}
		every_country = { #setup countries manpower etc.
			set_variable = { div_number_mp = div_number }
			multiply_variable = { div_number_mp = 30000 } #every country gets 30k MP per new division spawned
			if = {
				limit = {
					check_variable = { div_number_mp > 0 } #guard against overflow
				}
				add_manpower = div_number_mp
			}
			else = {
				multiply_variable = { div_number_mp = -1 } #hehehehehe
				add_manpower = div_number_mp
			}
			set_variable = { div_number_eq_rifles = div_number }
			multiply_variable = { div_number_eq_rifles = 2000 } #2000 rifles per new division
			add_equipment_to_stockpile = {
				type = infantry_equipment
				amount = div_number_eq_rifles
			}
			set_variable = { div_number_eq_fighters = div_number }
			multiply_variable = { div_number_eq_fighters = 50 } #50 fighters per new division
			add_equipment_to_stockpile = {
				type = fighter_equipment_1
				amount = div_number_eq_fighters
			}
			add_equipment_to_stockpile = {
				type = CAS_equipment_1
				amount = div_number_eq_fighters
			}
			army_experience = 500
			air_experience = 500
			add_political_power = 1200
			add_command_power = 100
			set_variable = { factory_target = num_of_factories }
			multiply_variable = { factory_target = 3 }
			set_variable = { cycle_count = factory_target }
			divide_variable = { cycle_count = 3 }
			set_temp_variable = { cycle_index = 0 }
			while_loop_effect = {
				limit = { 
					check_variable = { cycle_index < cycle_count }
				}
				random_owned_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 2
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 3
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}
				}
				add_to_temp_variable = { cycle_index = 1 }
			}
		}


		every_country = {
			limit = {
				has_government = democratic
			}
			ENG = { add_to_faction = PREV }
		}
		every_country = {
			limit = {
				OR = {
					has_government = fascism
					has_government = neutrality
				}
				NOT = {
					TAG = RAJ
				}
			}
			GER = { add_to_faction = PREV }
		}
		every_country = {
			limit = { has_government = communism }
			SOV = { add_to_faction = PREV }
		}
		GER = {
			declare_war_on = { target = SOV type = annex_everything }
			declare_war_on = { target = ENG type = annex_everything }
		}
		SOV = {
			declare_war_on = { target = ENG type = annex_everything }
		}
	}	
}
###########################
# Australian TFV events Events
###########################

add_namespace = tfv_australia

# Completed AST_the_singapore_strategy.
# Australian national focus.
country_event = {
	id = tfv_australia.1
	title = tfv_australia.1.t	# Democratic Australia proposes to govern Singapore/Borneo colonies.
	desc = tfv_australia.1.d	#
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.1.b # Diplomatically refuse Australia's proposal.
		
		ai_chance = {
			base = 0
		}
		
		AST = {
			country_event = { id = tfv_australia.3 }
		}
	}
}

country_event = {
	id = tfv_australia.2
	title = tfv_australia.2.t	# Great Britain transferred Singapore/Borneo colonies to Australia.
	desc = tfv_australia.2.d	#
	picture = GFX_report_event_ast_army
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.2.a
		
		news_event = { hours = 6 id = news.238 }
	}
}

country_event = {
	id = tfv_australia.3
	title = tfv_australia.3.t	# Great Britain refused Australia's offer to govern Singapore/Borneo.
	desc = tfv_australia.3.d	#
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.3.a
	}
}

# Completed AST_protect_the_dutch_colonies.
# Australian national focus.
country_event = {
	id = tfv_australia.10
	title = tfv_australia.10.t	# Democratic Australia offers protection of the Dutch colonies in SEA.
	desc = tfv_australia.10.d	#
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.10.a # Accept Australia's offer.
		
		ai_chance = {
			base = 100
			modifier = {
				factor = 0
				has_war_with = AST
			}
		}
		
		effect_tooltip = {
			AST = {
				puppet = INS
			}
		}
		
		hidden_effect = {
			AST = {
				country_event = { id = tfv_australia.11 }
			}
		}
	}
	
	option = {
		name = tfv_australia.10.b # Deny Australia's offer.
		
		ai_chance = {
			base = 0
			modifier = {
				add = 100
				has_war_with = AST
			}
		}
		
		AST = {
			country_event = { id = tfv_australia.12 }
		}
	}
}

country_event = {
	id = tfv_australia.11
	title = tfv_australia.11.t	# Netherlands accepts protectorate over SEA colonies.
	desc = tfv_australia.11.d  	#
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.11.a
		
		puppet = INS
		
		news_event = { id = news.240 hours = 6 }
	}
}

country_event = {
	id = tfv_australia.12
	title = tfv_australia.12.t	# Netherlands denies the protection offer of SEA colonies.
	desc = tfv_australia.12.d	#
	picture = GFX_report_event_ast_troops_landing
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.12.a
	}
}

# Completed AST_demand_new_zealand.
# Australian national focus.
country_event = {
	id = tfv_australia.20
	title = tfv_australia.20.t	# Fascist Australia demands annexation of New Zealand.
	desc = tfv_australia.20.d	#
	picture = GFX_report_event_generic_rally
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.20.a # Accept Australia's demands
		
		ai_chance = {
			base = 0
			modifier = {
				add = 20
				OR = {
					AND = {
						is_in_faction_with = ENG
						ENG = {
							surrender_progress > 0.3
						}
					}
					NZL = { is_in_faction = no }
					has_government = fascism
				}
			}
			modifier = {
				add = 10
				is_subject_of = ENG
				CAN = { NOT = { is_subject_of = ENG } }
				RAJ = { NOT = { is_subject_of = ENG } }
			}
			modifier = {
				factor = 5
				FROM = {
					strength_ratio = {
						tag = ROOT
						ratio > 2
					}
				}
			}
		}
		
		AST = {
			country_event = { id = tfv_australia.21 }
		}

		custom_effect_tooltip = GAME_OVER_TT
	}
	
	option = {
		name = tfv_australia.20.b # Refuse Australia's demands
		
		ai_chance = {
			base = 50
		}
		
		effect_tooltip = {
			AST = {
				create_wargoal = {
					type = annex_everything
					target = NZL
				}
			}
		}

		hidden_effect = {
			AST = {
				country_event = { id = tfv_australia.22 }
			}
		}
	}
}

country_event = {
	id = tfv_australia.21
	title = tfv_australia.21.t	# New Zealand accepted annexation peacefully.
	desc = tfv_australia.21.d	#
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.21.a
		
		annex_country = { target = NZL }

		news_event = {
			id = news.254 hours = 2
		}
	}
}

country_event = {
	id = tfv_australia.22
	title = tfv_australia.22.t	# New Zealand refused Australia's annexation demands.
	desc = tfv_australia.22.d	#
	picture = GFX_report_event_ast_troops_landing
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.22.a
		
		create_wargoal = {
			type = annex_everything
			target = NZL
		}
	}
}

country_event = {
	id = tfv_australia.31  
	title = tfv_australia.31.t #Creates Australian faction
	desc = tfv_australia.31.d
	picture = GFX_report_event_ANZAC_day
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.31.a
		
		create_faction = "south_west_pacific_initiative"
		if = {
			limit = {
				country_exists = INS
				not = { has_war_with = INS }
			}
			add_to_faction = INS
		}
		
		news_event = { id = news.244 hours = 6 }
	}
}

country_event = {
	id = tfv_australia.32
	title = tfv_australia.32.t # USA is asked to join faction
	desc = tfv_australia.32.d
	picture = GFX_report_event_generic_usa_treaty
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.32.a
		
		ai_chance = {
			base = 100
		}

		effect_tooltip = {
			AST = {
				create_faction = "south_west_pacific_initiative"
				add_to_faction = USA
				
				if = {
					limit = {
						has_country_flag = INS_is_a_puppet
					}
					add_to_faction = INS
				}
			}
		}
		hidden_effect = {
			AST = {
				country_event = { id = tfv_australia.33 }
			}
		}
	}
	
	option = {
		name = tfv_australia.32.b
		
		ai_chance = {
			base = 0
		}
		
		AST = {
			country_event = { id = tfv_australia.34 }
		}
	}
}

country_event = {
	id = tfv_australia.33
	title = tfv_australia.33.t # USA joins faction
	desc = tfv_australia.33.d
	picture = GFX_report_event_generic_sign_treaty1
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.33.a
		
		create_faction = "south_west_pacific_initiative"
		add_to_faction = USA
		
		if = {
			limit = {
				has_country_flag = INS_is_a_puppet
			}
			add_to_faction = INS
		}
		
		news_event = { id = news.245 hours = 6 }
	}
}

country_event = {
	id = tfv_australia.34
	title = tfv_australia.34.t # USA refused to join faction
	desc = tfv_australia.34.d
	picture = GFX_report_event_FDR_speech
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.34.a # Form a faction anyway
		trigger = {
			has_country_flag = INS_is_a_puppet
		}
		
		create_faction = "south_west_pacific_initiative"
		add_to_faction = INS
		
		news_event = { id = news.244 hours = 6 }
	}
	
	option = {
		name = tfv_australia.34.b
	}
}

#AST_support_indonesian_uprising - End the civil war in INS and puppet fascist side if they won
country_event = {
	id = tfv_australia.41
	title = tfv_australia.41.t
	desc = tfv_australia.41.d
	picture = GFX_report_event_ast_troops_landing
	
	is_triggered_only = yes

	option = {
		name = tfv_australia.41.a
		random_country = {
			limit = {
				original_tag = INS
				has_government = fascism
			}
			white_peace = HOL
		}
		puppet = INS
	}
}

# Completed AST_join_comintern.
# Australian national focus.
country_event = {
	id = tfv_australia.50
	title = tfv_australia.50.t	# Australia asks USSR to join Comintern.
	desc = tfv_australia.50.d	#
	picture = GFX_report_event_generic_rally
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.50.a
		
		ai_chance = {
			base = 100
		}
		
		effect_tooltip = {
			add_to_faction = AST
		}
		hidden_effect = {
			AST = {
				country_event = { id = tfv_australia.51 }
			}
		}
	}
	
	option = {
		name = tfv_australia.50.b
		
		ai_chance = {
			base = 0
		}
		
		hidden_effect = {
			AST = {
				country_event = { id = tfv_australia.52 }
			}
		}
	}
}

country_event = {
	id = tfv_australia.51
	title = tfv_australia.51.t	# USSR accepts Comintern membership.
	desc = tfv_australia.51.d	#
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.51.a
		SOV = {
			add_to_faction = AST
		}
		news_event = { hours = 6 id = news.239 }
	}
}

country_event = {
	id = tfv_australia.52
	title = tfv_australia.52.t	# USSR denies Comintern membership.
	desc = tfv_australia.52.d	#
	picture = GFX_report_event_stalin_02
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.52.a
	}
}

# Completed AST_nz_puppet.
# Australian national focus.
country_event = {
	id = tfv_australia.60
	title = tfv_australia.60.t	# Australia requests NZ to submit to Australian Hegemony
	desc = tfv_australia.60.d	#
	picture = GFX_report_event_ast_planning
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.60.a
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_government = fascism
			}
			modifier = {
				add = -20
				is_in_faction_with = ENG
			}
		}
		effect_tooltip = {
			AST = {
				puppet = NZL
			}
		}
		hidden_effect = {
			AST = { 
				country_event = { id = tfv_australia.61 }
			}
		}
	}
	
	option = {
		name = tfv_australia.60.b
		ai_chance = {
			base = 50
			modifier = {
				factor = 0
				has_government = communism
			}
		}
		
		hidden_effect = {
			AST = {
				country_event = { id = tfv_australia.62 }
			}
		}
	}
}

country_event = {
	id = tfv_australia.61
	title = tfv_australia.61.t	# NZ submits to Australian Hegemony.
	desc = tfv_australia.61.d	#
	picture = GFX_report_event_troops_landing
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.61.a
		puppet = NZL
		
		news_event = { id = news.241 }
	}
}

country_event = {
	id = tfv_australia.62
	title = tfv_australia.62.t	# NZ rejects Australian as an overlord.
	desc = tfv_australia.62.d	#
	picture = GFX_report_event_ANZAC_day
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.62.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = NZL
		}
	}
}

# Completed AST_protect_the_south_west_pacific.
# Australian national focus.
country_event = {
	id = tfv_australia.70
	title = tfv_australia.70.t	# 
	desc = tfv_australia.70.d	#
	picture = GFX_report_event_ast_troops_landing
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.70.a
		
		ai_chance = {
			base = 100
		}

		hidden_effect = {
			AST = {
				country_event = { id = tfv_australia.71 }
			}
		}
	}
	
	option = {
		name = tfv_australia.70.b
		
		ai_chance = {
			base = 0
		}
		
		hidden_effect = {
			AST = {
				country_event = { id = tfv_australia.72 }
			}
		}
	}
}

country_event = {
	id = tfv_australia.71
	title = tfv_australia.71.t	#
	desc = tfv_australia.71.d	#
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.71.a
		
		news_event = { id = news.242 hours = 6 }
	}
}

country_event = {
	id = tfv_australia.72
	title = tfv_australia.72.t	#
	desc = tfv_australia.72.d	#
	picture = GFX_report_event_ast_paras
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.72.a
	}
}

# Completed AST_a_deal_with_japan.
# Australian national focus.
country_event = {
	id = tfv_australia.80
	title = tfv_australia.80.t	# Australia proposes alliance \w Japan in exchange for some SEA islands.
	desc = tfv_australia.80.d	#
	picture = GFX_report_event_ast_planning
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.80.a
		
		ai_chance = {
			base = 100
			
		}
	}
	
	option = {
		name = tfv_australia.80.b
		
		ai_chance = {
			base = 0
			modifier = {
				is_faction_leader = yes
				add = 10
			}
		}
		
		hidden_effect = {
			AST = {	
				country_event = { id = tfv_australia.82 }
			}
		}
	}
}

country_event = {
	id = tfv_australia.81
	title = tfv_australia.81.t	# Japan forms alliance \w Australia.
	desc = tfv_australia.81.d	#
	picture = GFX_report_event_ast_transfer_singapore
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.81.a
		
		news_event = { id = news.243 hours = 6 }
	}
}

country_event = {
	id = tfv_australia.82
	title = tfv_australia.82.t	# Japan denies Australian alliance offer.
	desc = tfv_australia.82.d	#
	picture = GFX_report_event_japanese_parade
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.82.a
	}
}

#coronation visit
country_event = {
	id = tfv_australia.90
	title = tfv_australia.90.t	
	desc = tfv_australia.90.desc	#
	picture = GFX_report_event_royal_visit
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			base = 33
		}
		name = tfv_australia.90.a
		add_stability = 0.05
	}

	option = {
		ai_chance = {
			base = 34
		}
		name = tfv_australia.90.b
		add_manpower = 5000
		add_war_support = 0.05
	}

	option = {
		ai_chance = {
			base = 33
		}
		name = tfv_australia.90.c
		add_political_power = 75
	}
}

#coronation visit edward viii
country_event = {
	id = tfv_australia.92
	title = tfv_australia.92.t	
	desc = tfv_australia.92.desc	#
	picture = GFX_report_event_royal_visit
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			base = 33
		}
		name = tfv_australia.92.a
		add_stability = 0.025
		add_popularity = { ideology = neutrality popularity = 0.075 }
	}

	option = {
		ai_chance = {
			base = 34
		}
		name = tfv_australia.92.b
		add_manpower = 3000
		add_war_support = 0.075
		add_popularity = { ideology = neutrality popularity = 0.025 }
		add_stability = -0.05
	}

	option = {
		ai_chance = {
			base = 33
		}
		name = tfv_australia.92.c
		add_political_power = 50
		add_popularity = { ideology = neutrality popularity = 0.05 }
		add_stability = -0.025
	}
}

# Indonesian Nationalists Alert 
country_event = {
	id = tfv_australia.95
	title = tfv_australia.95.t	
	desc = tfv_australia.95.desc	#
	picture = GFX_report_event_merchant_ship_01
	
	

	is_triggered_only = yes
	
	option = {
		name = tfv_australia.95.a
		
	}

}

# Indonesian Nationalists Alert 
country_event = {
	id = tfv_australia.96
	title = tfv_australia.96.t	
	desc = tfv_australia.96.desc
	picture = GFX_report_event_fascist_gathering
	
	is_triggered_only = yes
	
	option = {
		name = tfv_australia.96.a
		start_civil_war = {
			ideology = fascism
			size = 0.5
			states = { 334 673 669 668 738 667 }
		}
	}
	option = {
		trigger = {
			is_ai = no
		}
		name = tfv_australia.96.b
		if = {
			limit = {
				has_government = democratic
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = democratic
				size = 0.5
			}
		}
		if = {
			limit = {
				has_government = communism
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = communism
				size = 0.5
			}
		}
		if = {
			limit = {
				has_government = neutrality
			}
			start_civil_war = {
				ruling_party = fascism
				ideology = neutrality
				size = 0.5
			}
		}
	}

}

###########################
# Canadian TFV events Events
###########################

add_namespace = tfv_canada
add_namespace = canada_vanilla

# Completed CAN_north_american_alliance.
# Canadian national focus.
country_event = {
	id = tfv_canada.1
	title = tfv_canada.1.t	# Canada asks US to create a faction.
	desc = tfv_canada.1.d	#
	picture = GFX_report_event_canada_patriation
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.1.a # US Accepts the faction proposal
		
		ai_chance = {
			base = 100
		}
		
		effect_tooltip = {
			create_faction = "north_american_alliance"
			add_to_faction = CAN
		}
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.2 }
			}
		}
	}
	
	option = {
		name = tfv_canada.1.b # US Rejects the faction proposal
	
		ai_chance = {
			base = 0
		}
		
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.3 }
			}
		}
	}
}

country_event = {
	id = tfv_canada.2
	title = tfv_canada.2.t	#
	desc = tfv_canada.2.d	#
	picture = GFX_report_event_canadian_soldiers
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.2.a
		
		USA = {
			create_faction = "north_american_alliance"
			add_to_faction = CAN
		}
		
		news_event = { id = news.246 hours = 6 }
	}
}

country_event = {
	id = tfv_canada.3
	title = tfv_canada.3.t	#
	desc = tfv_canada.3.d	#
	picture = GFX_report_event_king_speech
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.3.a
	}
}

# Completed CAN_join_comintern.
# Canadian national focus.
country_event = {
	id = tfv_canada.10
	title = tfv_canada.10.t	# Canada asks CCCP for membership in Comintern
	desc = tfv_canada.10.d	#
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.10.a # CCCP accepts Canadian membership
		
		ai_chance = {
			base = 100
		}
		
		effect_tooltip = {
			add_to_faction = CAN
		}
		
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.11 }
			}
		}
	}
	
	option = {
		name = tfv_canada.10.b # CCCP denies the request.
		
		ai_chance = {
			base = 0
		}
		
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.12 }
			}
		}
	}
}

country_event = {
	id = tfv_canada.11
	title = tfv_canada.11.t	#
	desc = tfv_canada.11.d	#
	picture = GFX_report_event_canadian_soldiers
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.11.a
		SOV = {
			add_to_faction = CAN
		}
	}
}

country_event = {
	id = tfv_canada.12
	title = tfv_canada.12.t	#
	desc = tfv_canada.12.d	#
	picture = GFX_report_event_generic_rally_3
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.12.a
	}
}

# Completed CAN_join_germany.
# Canadian national focus.
country_event = {
	id = tfv_canada.20
	title = tfv_canada.20.t	# Canada asks Germany for membership in Axis
	desc = tfv_canada.20.d	#
	picture = GFX_report_event_canadian_tank
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.20.a # Germany accepts Canadian membership
		
		ai_chance = {
			base = 100
		}
		
		effect_tooltip = {
			add_to_faction = CAN
		}
		
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.21 }
			}
		}
	}
	
	option = {
		name = tfv_canada.20.b # Germany rejects Canadian membership
		
		ai_chance = {
			base = 0
		}
		
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.22 }
			}
		}
	}
}

country_event = {
	id = tfv_canada.21
	title = tfv_canada.21.t	# 
	desc = tfv_canada.21.d	#
	picture = GFX_report_event_hitler_handshake
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.21.a # Germany accepts Canadian membership
		
		GER = {
			add_to_faction = CAN
		}
		if = {
			limit = {
				GER = {
					has_war = yes
				}
			}
			news_event = { id = news.247 hours = 6 }		
		}
		if = {
			limit = {
				GER = {
					has_war = no
				}
			}
			news_event = { id = news.252 hours = 6 }
		}
	}
}

country_event = {
	id = tfv_canada.22
	title = tfv_canada.22.t	# 
	desc = tfv_canada.22.d	#
	picture = GFX_report_event_canadian_artillery
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.22.a # Germany rejects Canadian membership
	}
}

# Completed CAN_skewer_the_eagle.
# Canadian national focus.
country_event = {
	id = tfv_canada.40
	title = tfv_canada.40.t # Canada proposes alliance with Mexico to surround the US.
	desc = tfv_canada.40.d	#
	picture = GFX_report_event_canadian_artillery
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.40.a
		
		ai_chance = {
			base = 100
		}
		
		effect_tooltip = {
			CAN = {
				create_faction = "northern_sovereignty_coalition"
				random_country = {
					limit = {
						original_tag = MEX
						has_government = fascism
					}
					CAN = { add_to_faction = PREV }
				}
			}
			add_state_claim = 375 # Texas
			add_state_claim = 378 # California
			add_state_claim = 379 # Nevada
			add_state_claim = 377 # Arizona
			add_state_claim = 380 # Utah
			add_state_claim = 382 # Colorado
			add_state_claim = 376 # New Mexico
		}
		
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.41 }
			}
		}
	}
	
	option = {
		name = tfv_canada.40.b
	
		ai_chance = {
			base = 0
		}
	
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.42 }
			}
		}
	}
}

country_event = {
	id = tfv_canada.41
	title = tfv_canada.41.t
	desc = tfv_canada.41.d
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.41.a
		
		create_faction = "northern_sovereignty_coalition"
		random_country = {
			limit = {
				original_tag = MEX
				has_government = fascism
			}
			CAN = { add_to_faction = PREV }
		}
		
		MEX = {
			add_state_claim = 375 # Texas
			add_state_claim = 378 # California
			add_state_claim = 379 # Nevada
			add_state_claim = 377 # Arizona
			add_state_claim = 380 # Utah
			add_state_claim = 382 # Colorado
			add_state_claim = 376 # New Mexico
		}
		hidden_effect = {
			news_event = { id = news.249 hours = 6 }
		}
	}
}

country_event = {
	id = tfv_canada.42
	title = tfv_canada.42.t
	desc = tfv_canada.42.desc
	picture = GFX_report_event_american_hunger_march
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.42.a
		
	}
}



# mean_timek_to_happen after Completion of CAN_forced_quebec_conscription.
# Canadian national focus.
country_event = {
	id = tfv_canada.50
	title = tfv_canada.50.t	# Factory sabotaged
	desc = tfv_canada.50.d	#
	picture = GFX_report_event_generic_factory
	
	fire_only_once = yes
	
	trigger = {
		tag = CAN
		has_completed_focus = CAN_forced_quebec_conscription
		any_owned_state = {
			industrial_complex > 0
		}
	}
	
	
	option = {
		name = tfv_canada.50.a
		set_country_flag = can_quebec_sabotage_1
		
		random_owned_state = {
			limit = {
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.7
			}
		}
	}
}

country_event = {
	id = tfv_canada.51
	title = tfv_canada.51.t
	desc = tfv_canada.51.d
	picture = GFX_report_event_generic_factory
	
	fire_only_once = yes
	
	trigger = {
		tag = CAN
		has_country_flag = can_quebec_sabotage_1
		has_completed_focus = CAN_forced_quebec_conscription
		any_owned_state = {
			arms_factory > 0
		}
	}
	
	
	option = {
		name = tfv_canada.51.a
		set_country_flag = can_quebec_sabotage_2
		random_owned_state = {
			limit = {
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.5
			}
		}
	}
}

country_event = {
	id = tfv_canada.52
	title = tfv_canada.52.t
	desc = tfv_canada.52.d
	picture = GFX_report_event_generic_factory
	
	fire_only_once = yes
	
	trigger = {
		tag = CAN
		has_country_flag = can_quebec_sabotage_2
		has_completed_focus = CAN_forced_quebec_conscription
		any_owned_state = {
			arms_factory > 0
		}
	}
	
	
	option = {
		name = tfv_canada.52.a
		set_country_flag = can_quebec_sabotage_3
		random_owned_state = {
			limit = {
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = tfv_canada.53
	title = tfv_canada.53.t
	desc = tfv_canada.53.d
	picture = GFX_report_event_RCMP
	
	fire_only_once = yes
	
	trigger = {
		tag = CAN
		has_country_flag = can_quebec_sabotage_3
		has_completed_focus = CAN_forced_quebec_conscription
		any_owned_state = {
			arms_factory > 0
		}
	}

	
	option = {
		name = tfv_canada.53.a
		clr_country_flag = can_quebec_sabotage_1
		clr_country_flag = can_quebec_sabotage_2
		clr_country_flag = can_quebec_sabotage_3
		random_owned_state = {
			limit = {
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.4
			}
		}
	}
}

# Completed CAN_demand_labrador_and_newfoundland.
# Canadian national focus.
country_event = {
	id = tfv_canada.60
	title = tfv_canada.60.t # Fascist CAN demads Labrador and Newfoundland from ENG
	desc = tfv_canada.60.d	#
	picture = GFX_report_event_canadian_soldiers
	
	is_triggered_only = yes
	
	option = { # Agree to demands
		name = tfv_canada.60.a
		
		ai_chance = {
			base = 0
		}
		
		effect_tooltip = {
			CAN = {
				transfer_state = 331
				transfer_state = 332
			}
		}
		
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.61 }
			}
		}
	}
	
	option = { # Refuse
		name = tfv_canada.60.b
		
		ai_chance = {
			base = 100
		}
		
		hidden_effect = {
			CAN = {
				country_event = { id = tfv_canada.62 }
			}
		}
	}
}

country_event = {
	id = tfv_canada.61
	title = tfv_canada.61.t
	desc = tfv_canada.61.d
	picture = GFX_report_event_canada_treaty
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.61.a
		transfer_state = 331
		transfer_state = 332
		
		news_event = { id = news.248 hours = 6 }
	}
}

country_event = {
	id = tfv_canada.62
	title = tfv_canada.62.t
	desc = tfv_canada.62.d
	picture = GFX_report_event_canada_army
	
	is_triggered_only = yes
	
	option = {
		name = tfv_canada.62.a
		
		create_wargoal = {
			type = take_state_focus
			target = ENG
			generator = { 331 332 }
		}
	}
}

# Ronnie the Bren Gun Girl
# Triggered by Women in the Workforce decision

country_event = {
	id = canada_vanilla.1
	title = canada_vanilla.1.title
	desc = canada_vanilla.1.desc
	
	picture = GFX_report_event_canada_ronnie

	is_triggered_only = yes

	option = {
		name = canada_vanilla.1.opt
	}
}

###########################
# NZL TFV events Events
###########################

add_namespace = tfv_new_zealand

#NZL joins Comintern
country_event = {
	id = tfv_new_zealand.1
	title = tfv_new_zealand.1.t	
	desc = tfv_new_zealand.1.desc	#
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = { #SOV agrees
		name = tfv_new_zealand.1.a
		ai_chance = {
			base = 90
			modifier = { 
				NZL = { NOT = { has_government = communism } } 
				factor = 0
				}
		}
		add_to_faction = NZL
		NZL = { country_event = { id = tfv_new_zealand.2 hours = 6 } }
	}


	option = { #SOV refuses
		name = tfv_new_zealand.1.b
		ai_chance = {
			base = 0
			modifier = { 
				NZL = { NOT = { has_government = communism } } 
				add = 100
				}
		}
		NZL = { country_event = { id = tfv_new_zealand.3 hours = 6 } }	
	}
}

#SOV agrees
country_event = {
	id = tfv_new_zealand.2
	title = tfv_new_zealand.2.t		# 
	desc = tfv_new_zealand.2.desc	#
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = {
		name = tfv_new_zealand.2.a
	}
}
#SOV refuses :(
country_event = {
	id = tfv_new_zealand.3
	title = tfv_new_zealand.3.t		# 
	desc = tfv_new_zealand.3.desc	#
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = {
		name = tfv_new_zealand.3.a
	}
}

#NZL joins JAP - Event for JAP from NZL focus
country_event = {
	id = tfv_new_zealand.4
	title = tfv_new_zealand.4.t	
	desc = tfv_new_zealand.4.desc	#
	picture = GFX_report_event_ast_transfer_singapore
	
	is_triggered_only = yes
	
	option = { #JAP agrees
		name = tfv_new_zealand.4.a
		ai_chance = {
			base = 100
		}
		if = {
			limit = {
				is_in_faction = yes
			}
			add_to_faction = NZL
			else = {
				create_faction = "daitoa_kyoeiken"
				add_to_faction = NZL
			}
		}
		NZL = { country_event = { id = tfv_new_zealand.5 hours = 6 } }
	}


	option = { #JAP refuses
		name = tfv_new_zealand.4.b
		ai_chance = {
			base = 0
		}
		NZL = { country_event = { id = tfv_new_zealand.6 hours = 6 } }	
	}
}

#JAP agrees
country_event = {
	id = tfv_new_zealand.5
	title = tfv_new_zealand.5.t		# 
	desc = tfv_new_zealand.5.desc	#
	picture = GFX_report_event_ast_transfer_singapore
	
	is_triggered_only = yes
	
	option = {
		name = tfv_new_zealand.5.a
	}
}
#JAP refuses :(
country_event = {
	id = tfv_new_zealand.6
	title = tfv_new_zealand.6.t		# 
	desc = tfv_new_zealand.6.desc	#
	picture = GFX_report_event_ast_transfer_singapore				
	
	is_triggered_only = yes
	
	option = {
		name = tfv_new_zealand.6.a
	}
}

country_event = {
	id = tfv_new_zealand.7
	title = tfv_new_zealand.7.t
	desc = tfv_new_zealand.7.desc
	picture = GFX_report_event_generic_funeral

	fire_only_once = yes
	
	trigger = {
		original_tag = NZL
		has_government = democratic
		date > 1940.3.27
		has_country_leader = { ruling_only = yes character = NZL_michael_joseph_savage }
	}

	
	#ok I guess
	option = {
		name = tfv_new_zealand.7.a
		promote_character = NZL_peter_fraser

		
	}
}

country_event = { #Polynesia annexes NZL for Polynesian Empire game rule
	id = tfv_new_zealand.8
	title = tfv_new_zealand.8.t
	desc = tfv_new_zealand.8.desc
	picture = GFX_report_event_generic_funeral

	is_triggered_only = yes
	
	hidden = yes
	
	#ok I guess
	option = {
		NZL = {
			transfer_units_fraction = {
				target = PREV
				size = 1
			}
		}
		annex_country = {
			target = NZL
		}
	}
}

country_event = { #New Zealand demands islands
	id = tfv_new_zealand.9
	title = tfv_new_zealand.9.t
	desc = tfv_new_zealand.9.desc
	picture = GFX_report_event_ast_transfer_singapore

	is_triggered_only = yes
	
	#take these dang islands
	option = {
		name = tfv_new_zealand.9.a
		ai_chance = {
			base = 10
		}
		effect_tooltip = {
			if = {
				limit = {
					controls_state = 284
				}
				FROM = { transfer_state = 284 }
			}
			if = {
				limit = {
					controls_state = 629
				}
				FROM = { transfer_state = 629 }
			}
			if = {
				limit = {
					controls_state = 630
				}
				FROM = { transfer_state = 630 }
			}
			if = {
				limit = {
					controls_state = 631
				}
				FROM = { transfer_state = 631 }
			}
			if = {
				limit = {
					controls_state = 632
				}
				FROM = { transfer_state = 632 }
			}
			if = {
				limit = {
					controls_state = 633
				}
				FROM = { transfer_state = 633 }
			}
			if = {
				limit = {
					controls_state = 634
				}
				FROM = { transfer_state = 634 }
			}
			if = {
				limit = {
					controls_state = 635
				}
				FROM = { transfer_state = 635 }
			}
			if = {
				limit = {
					controls_state = 636
				}
				FROM = { transfer_state = 636 }
			}
			if = {
				limit = {
					controls_state = 638
				}
				FROM = { transfer_state = 638 }
			}
			if = {
				limit = {
					controls_state = 639
				}
				FROM = { transfer_state = 639 }
			}
			if = {
				limit = {
					controls_state = 641
				}
				FROM = { transfer_state = 641 }
			}
			if = {
				limit = {
					controls_state = 642
				}
				FROM = { transfer_state = 642 }
			}
			if = {
				limit = {
					controls_state = 643
				}
				FROM = { transfer_state = 643 }
			}
			if = {
				limit = {
					controls_state = 645
				}
				FROM = { transfer_state = 645 }
			}
			if = {
				limit = {
					controls_state = 646
				}
				FROM = { transfer_state = 646 }
			}
			if = {
				limit = {
					controls_state = 647
				}
				FROM = { transfer_state = 647 }
			}
			if = {
				limit = {
					controls_state = 648
				}
				FROM = { transfer_state = 648 }
			}
			if = {
				limit = {
					controls_state = 684
				}
				FROM = { transfer_state = 684 }
			}
			if = {
				limit = {
					controls_state = 723
				}
				FROM = { transfer_state = 723 }
			}
			if = {
				limit = {
					controls_state = 725
				}
				FROM = { transfer_state = 725 }
			}
			if = {
				limit = {
					controls_state = 726
				}
				FROM = { transfer_state = 726 }
			}
			if = {
				limit = {
					controls_state = 727
				}
				FROM = { transfer_state = 727 }
			}
			if = {
				limit = {
					controls_state = 734
				}
				FROM = { transfer_state = 734 }
			}
			FROM = {
				add_opinion_modifier = {
					target = ROOT
					modifier = large_increase
				}
			}
		}
		hidden_effect = {
			FROM = { country_event = { id = tfv_new_zealand.91 } }
		}
	}
	
	#these are my islands, how dare you
	option = {
		name = tfv_new_zealand.9.b
		ai_chance = {
			base = 10
			modifier = { #The USA shouldn't eagerly give away Hawaii if it is a state
				NOT = {
					629 = {
						is_core_of = ROOT
					}
				}
				factor = 0
			}
		}
		FROM = {
			country_event = {
				id = tfv_new_zealand.92
				days = 2
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = small_decrease
			}
		}
	}
}

country_event = { #New Zealand demands islands
	id = tfv_new_zealand.91
	title = tfv_new_zealand.91.t
	desc = tfv_new_zealand.91.desc
	picture = GFX_report_event_ast_transfer_singapore

	is_triggered_only = yes
	
	option = {
		name = tfv_new_zealand.91.a
		ai_chance = {
			base = 10
		}
		hidden_effect = {
			clr_country_flag = is_demanding_flag
		}
		FROM = {
			if = {
				limit = {
					controls_state = 284
				}
				ROOT = { transfer_state = 284 }
			}
			if = {
				limit = {
					controls_state = 629
				}
				ROOT = { transfer_state = 629 }
			}
			if = {
				limit = {
					controls_state = 630
				}
				ROOT = { transfer_state = 630 }
			}
			if = {
				limit = {
					controls_state = 631
				}
				ROOT = { transfer_state = 631 }
			}
			if = {
				limit = {
					controls_state = 632
				}
				ROOT = { transfer_state = 632 }
			}
			if = {
				limit = {
					controls_state = 633
				}
				ROOT = { transfer_state = 633 }
			}
			if = {
				limit = {
					controls_state = 634
				}
				ROOT = { transfer_state = 634 }
			}
			if = {
				limit = {
					controls_state = 635
				}
				ROOT = { transfer_state = 635 }
			}
			if = {
				limit = {
					controls_state = 636
				}
				ROOT = { transfer_state = 636 }
			}
			if = {
				limit = {
					controls_state = 638
				}
				ROOT = { transfer_state = 638 }
			}
			if = {
				limit = {
					controls_state = 639
				}
				ROOT = { transfer_state = 639 }
			}
			if = {
				limit = {
					controls_state = 641
				}
				ROOT = { transfer_state = 641 }
			}
			if = {
				limit = {
					controls_state = 642
				}
				ROOT = { transfer_state = 642 }
			}
			if = {
				limit = {
					controls_state = 643
				}
				ROOT = { transfer_state = 643 }
			}
			if = {
				limit = {
					controls_state = 645
				}
				ROOT = { transfer_state = 645 }
			}
			if = {
				limit = {
					controls_state = 646
				}
				ROOT = { transfer_state = 646 }
			}
			if = {
				limit = {
					controls_state = 647
				}
				ROOT = { transfer_state = 647 }
			}
			if = {
				limit = {
					controls_state = 648
				}
				ROOT = { transfer_state = 648 }
			}
			if = {
				limit = {
					controls_state = 684
				}
				ROOT = { transfer_state = 684 }
			}
			if = {
				limit = {
					controls_state = 723
				}
				ROOT = { transfer_state = 723 }
			}
			if = {
				limit = {
					controls_state = 725
				}
				ROOT = { transfer_state = 725 }
			}
			if = {
				limit = {
					controls_state = 726
				}
				ROOT = { transfer_state = 726 }
			}
			if = {
				limit = {
					controls_state = 727
				}
				ROOT = { transfer_state = 727 }
			}
			if = {
				limit = {
					controls_state = 734
				}
				ROOT = { transfer_state = 734 }
			}
		}
	}
}

country_event = { #New Zealand demands islands
	id = tfv_new_zealand.92
	title = tfv_new_zealand.92.t
	desc = tfv_new_zealand.92.desc
	picture = GFX_report_event_ast_transfer_singapore

	is_triggered_only = yes
	
	option = {
		name = tfv_new_zealand.92.a
		ai_chance = {
			base = 10
		}
		hidden_effect = {
			clr_country_flag = is_demanding_flag
		}
	}
}
###########################
# RAJ TFV events Events
###########################

add_namespace = tfv_raj

#RAF funding
country_event = {
	id = tfv_raj.1
	title = tfv_raj.1.t	
	desc = tfv_raj.1.desc	#
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes
	
	option = { 
		name = tfv_raj.1.a
		ai_chance = {
			base = 100
		}
		ENG = { country_event = { id = tfv_raj.2 } }
	}
	option = { 
		name = tfv_raj.1.b
		trigger = {
			has_tech = early_fighter
			NOT = { has_tech = fighter1}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 20 producer = RAJ }
	}
	option = { 
		name = tfv_raj.1.b
		trigger = {
			has_tech = fighter1
			NOT = { has_tech = fighter2}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 20 producer = RAJ }
	}
	option = { 
		name = tfv_raj.1.b
		trigger = {
			has_tech = fighter2
			NOT = { has_tech = fighter3}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 20 producer = RAJ }
	}
	option = { 
		name = tfv_raj.1.b
		trigger = {
			has_tech = fighter3
		}
		add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 20 producer = RAJ }
	}

}

country_event = {
	id = tfv_raj.2
	title = tfv_raj.2.t	
	desc = tfv_raj.2.desc	#
	picture = GFX_report_event_fighters
	
	is_triggered_only = yes

	option = { 
		name = tfv_raj.2.a
		trigger = {
			has_tech = early_fighter
			NOT = { has_tech = fighter1}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_0 amount = 20 producer = ENG }
	}
	option = { 
		name = tfv_raj.2.a
		trigger = {
			has_tech = fighter1
			NOT = { has_tech = fighter2}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_1 amount = 20 producer = ENG }
	}
	option = { 
		name = tfv_raj.2.a
		trigger = {
			has_tech = fighter2
			NOT = { has_tech = fighter3}
		}
		add_equipment_to_stockpile = { type = fighter_equipment_2 amount = 20 producer = ENG }
	}
	option = { 
		name = tfv_raj.2.a
		trigger = {
			has_tech = fighter3
		}
		add_equipment_to_stockpile = { type = fighter_equipment_3 amount = 20 producer = ENG }
	}

}

##################################################
#RAJ_battaglione_azad_hindoustan focus completed
##################################################
country_event = {
	id = tfv_raj.201
	title = tfv_raj.201.t				# ITA receives paratrooper division from RAJ
	desc = tfv_raj.201.desc
	picture = GFX_report_event_indian_parade
	
	is_triggered_only = yes
	
	option = {
		name = tfv_raj.201.a
		
		if = {
			limit = {
				RAJ = { is_ai = yes }
			}
		
			division_template = {
				name = "Battaglione Azad Hindoustan" #Hindu paratrooper division created for Italy
				division_names_group = ITA_PAR_01
				is_locked = yes
				regiments = {
					paratrooper = { x = 0 y = 0 }
					paratrooper = { x = 0 y = 1 }
					paratrooper = { x = 0 y = 2 }

					paratrooper = { x = 1 y = 0 }
					paratrooper = { x = 1 y = 1 }
					paratrooper = { x = 1 y = 2 }
				}
			}

			random_owned_controlled_state = {
				prioritize = { 2 }
				
				custom_effect_tooltip = tfv_raj_focus_paratrooper_tt
				hidden_effect = {
					create_unit = { 
						division = "name = \"Battaglione Azad Hindoustan\" division_template = \"Battaglione Azad Hindoustan\" start_experience_factor = 1.0" 
						owner = ITA
					}
				}
			}
			
			else = {
				custom_effect_tooltip = tfv_raj_focus_paratrooper_tt
			}
		}
	}
}

##################################################
#Quit India movement resistance events
##################################################
country_event = {
	id = tfv_raj.210
	title = tfv_raj.210.t
	desc = tfv_raj.210.desc
	picture = GFX_report_event_generic_ruins
	
	is_triggered_only = yes
	
	trigger = {
		has_completed_focus = RAJ_quit_india_movement
		is_puppet = yes
	}
	
	option = {
		name = tfv_raj.210.a
		
		random_owned_controlled_state = {
			prioritize = { 431 } #West Bengal
			
			limit = {
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.6
			}
		}
		
		hidden_effect = { 
			country_event = { id = tfv_raj.211 days = 20 random_days = 40 }
		}
	}
}

country_event = {
	id = tfv_raj.211
	title = tfv_raj.211.t
	desc = tfv_raj.211.desc
	picture = GFX_report_event_generic_ruins
	
	is_triggered_only = yes
	
	trigger = {
		has_completed_focus = RAJ_quit_india_movement
		is_puppet = yes
	}
	
	option = {
		name = tfv_raj.211.a
		
		random_owned_controlled_state = {
			prioritize = { 426 } #Orissa
			
			limit = {
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.7
			}
		}
		
		hidden_effect = { 
			country_event = { id = tfv_raj.212 days = 20 random_days = 40 }
		}
	}
}

country_event = {
	id = tfv_raj.212
	title = tfv_raj.212.t
	desc = tfv_raj.212.desc
	picture = GFX_report_event_generic_ruins
	
	is_triggered_only = yes
	
	trigger = {
		has_completed_focus = RAJ_quit_india_movement
		is_puppet = yes
	}
	
	option = {
		name = tfv_raj.212.a
		
		random_owned_controlled_state = {
			prioritize = { 429 } #Bombay
			
			limit = {
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.4
			}
		}
	}
}
###########################
# South-African TFV events Events
###########################

add_namespace = tfv_south_africa

# SAF_secure_interests_in_africa completed
# South-African National focus
country_event = {
	id = tfv_south_africa.1
	title = tfv_south_africa.1.t	# Ask ENG for control over british South-East Africa strip. 
	desc = tfv_south_africa.1.d		#
	picture = GFX_report_event_saf_soldiers					#
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.1.b # ENG refuses the proposal
		
		ai_chance = {
			base = 0
		}
		
	}
}

#ENG transfers colonies
country_event = {
	id = tfv_south_africa.2
	title = tfv_south_africa.2.t	#
	desc = tfv_south_africa.2.d		#
	picture = GFX_report_event_saf_soldiers_2
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.2.a
	}
		
	
}
#ENG refuses
country_event = {
	id = tfv_south_africa.3
	title = tfv_south_africa.3.t	#
	desc = tfv_south_africa.3.d		#
	picture = GFX_report_event_saf_soldiers_3
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.3.a
	}
}
#ENG compromises
country_event = {
	id = tfv_south_africa.4
	title = tfv_south_africa.4.t	#
	desc = tfv_south_africa.4.d		#
	picture = GFX_report_event_saf_soldiers					#
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.4.a
		}
	}


# SAF_support_the_german_coup completed
# South-African national focus
country_event = {
	id = tfv_south_africa.10
	title = tfv_south_africa.10.t	# SAF Civil war. Ask HOL or GER for support?
	desc = tfv_south_africa.10.desc	#
	picture = GFX_report_event_saf_coup
	
	fire_only_once = yes

	trigger = {
		always = no
		has_government = fascism
		original_tag = SAF
		has_civil_war = yes
		OR = {
			GER = {
				NOT = { has_war_with = SAF }
				has_government = fascism
			}		
			HOL = {
				has_government = fascism
				NOT = { has_war_with = SAF }
			}		
		}
	}

	
	option = {
		name = tfv_south_africa.10.a # Ask GER for support
		trigger = {
			GER = {
				NOT = { has_war_with = SAF }
				has_government = fascism
			}			
		}
		
		ai_chance = {
			base = 100
			modifier = {
				GER = { NOT = { has_government = fascism } }
				factor = 0.1
			}
		}
		
		set_country_flag = asked_GER_for_support
		
		GER = { country_event = { id = tfv_south_africa.11 days = 1 } }
	}
	
	option = {
		name = tfv_south_africa.10.b # Ask HOL for support
		trigger = {
			HOL = {
				has_government = fascism
				NOT = { has_war_with = SAF }
			}			
		}

		ai_chance = {
			base = 30
			modifier = {
				GER = { 
					has_government = fascism 
					has_war = no
				} 
				factor = 0
			}
		}
		
		set_country_flag = asked_HOL_for_support
		
		HOL = { country_event = { id = tfv_south_africa.12 days = 1 } }
	}
}

country_event = {
	id = tfv_south_africa.11
	title = tfv_south_africa.11.t	# GER is asked to help in the SAF civil war.
	desc = tfv_south_africa.11.desc
	picture = GFX_report_event_generic_lend_lease
	
	is_triggered_only = yes
	
	trigger = {
		has_government = fascism
		SAF = {
			has_civil_war = yes
			has_government = fascism
		}
		NOT = { has_war_with = SAF }
	}
	
	option = {
		name = tfv_south_africa.11.a # Send a bunch of airplanes
		
		ai_chance = {
			base = 10
		}
		
		trigger = {
			OR = {
				is_ai = yes
				has_equipment = {
					fighter_equipment_1 > 19
				}
			}
		}
		
		SAF = { 
			set_country_flag = GER_sent_support
			set_country_flag = shipment_of_airplanes
			
			country_event = { id = tfv_south_africa.15 }
		}
		
		effect_tooltip = {
			SAF_german_coup_equipment_GER_fighters_20 = yes
		}
		
		SAF_send_equipment_flag_counter = yes
		if = {
			limit = {
				NOT = { has_country_flag = SAF_sent_equipment_3 }
			}
			# repeat event within 21-28 days
			country_event = { id = tfv_south_africa.11 days = 21 random_days = 7 } 
			
			else = {
				clr_country_flag = SAF_sent_equipment_1
				clr_country_flag = SAF_sent_equipment_2
				clr_country_flag = SAF_sent_equipment_3
			}
		}
	}
	
	option = {
		name = tfv_south_africa.11.b # Give them panzers
		
		ai_chance = {
			base = 10
		}
		
		trigger = {
			OR = {
				is_ai = yes
				has_equipment = {
					light_tank_equipment_1 > 19
				}
			}
		}
		
		SAF = {
			set_country_flag = GER_sent_support
			set_country_flag = shipment_of_tanks
			
			country_event = { id = tfv_south_africa.15 }
		}
		
		effect_tooltip = {			
			SAF_german_coup_equipment_GER_light_tank_20 = yes
		}
		
		SAF_send_equipment_flag_counter = yes
		if = {
			limit = {
				NOT = { has_country_flag = SAF_sent_equipment_3 }
			}
			# repeat event within 21-28 days
			country_event = { id = tfv_south_africa.11 days = 21 random_days = 7 } 
			
			else = {
				clr_country_flag = SAF_sent_equipment_1
				clr_country_flag = SAF_sent_equipment_2
				clr_country_flag = SAF_sent_equipment_3
			}
		}
	}
	
	option = {
		name = tfv_south_africa.11.c # Send infantry equipment
		
		ai_chance = {
			base = 50
		}
		
		trigger = {
			OR = {
				is_ai = yes
				AND = {
					has_equipment = {
						infantry_equipment_1 > 199
					}
					has_equipment = {
						artillery_equipment_1 > 9
					}
				}
			}
		}
		
		SAF = { 
			set_country_flag = GER_sent_support
			
			country_event = { id = tfv_south_africa.15 }
		}
		
		effect_tooltip = {
			SAF_german_coup_inf_GER_equipment_200 = yes
		}
		
		SAF_send_equipment_flag_counter = yes
		if = {
			limit = {
				NOT = { has_country_flag = SAF_sent_equipment_3 }
			}
			# repeat event within 21-28 days
			country_event = { id = tfv_south_africa.11 days = 21 random_days = 7 } 
			
			else = {
				clr_country_flag = SAF_sent_equipment_1
				clr_country_flag = SAF_sent_equipment_2
				clr_country_flag = SAF_sent_equipment_3
			}
		}
	}
	
	option = {
		name = tfv_south_africa.11.e # We can't spare anything
		
		ai_chance = {
			base = 0
			
			modifier = {
				add = 0
				NOT = {
					OR = {
						has_equipment = {
							artillery_equipment_1 > 9
						}
						has_equipment = {
							infantry_equipment_1 > 199
						}
					}
					has_equipment = {
						light_tank_equipment_1 > 19
					}
					has_equipment = {
						fighter_equipment_1 > 19
					}
				}
			}
		}
		
		SAF = { country_event = { id = tfv_south_africa.13 } }
	}
}

country_event = {
	id = tfv_south_africa.12
	title = tfv_south_africa.12.t	# HOL is asked to help in the SAF civil war.
	desc = tfv_south_africa.12.desc
	picture = GFX_report_event_generic_lend_lease
	
	is_triggered_only = yes
	
	trigger = {
		has_government = fascism
		SAF = {
			has_civil_war = yes
			has_government = fascism
		}
		NOT = { has_war_with = SAF }
	}
	
	option = {
		name = tfv_south_africa.12.a # Send a bunch of airplanes
		
		ai_chance = {
			base = 10
		}
		
		trigger = {
			OR = {
				is_ai = yes
				has_equipment = {
					fighter_equipment_1 > 19
				}
			}
		}
		
		SAF = { 
			set_country_flag = HOL_sent_support
			set_country_flag = shipment_of_airplanes
			
			country_event = { id = tfv_south_africa.16 }
		}
		
		effect_tooltip = {
			SAF_german_coup_equipment_HOL_fighters_20 = yes
		}
		
		SAF_send_equipment_flag_counter = yes
		if = {
			limit = {
				NOT = { has_country_flag = SAF_sent_equipment_3 }
			}
			# repeat event within 21-28 days
			country_event = { id = tfv_south_africa.12 days = 21 random_days = 7 } 
			
			else = {
				clr_country_flag = SAF_sent_equipment_1
				clr_country_flag = SAF_sent_equipment_2
				clr_country_flag = SAF_sent_equipment_3
			}
		}
	}
	
	option = {
		name = tfv_south_africa.12.b # Give them panzers
		
		ai_chance = {
			base = 10
		}
		
		trigger = {
			OR = {
				is_ai = yes
				has_equipment = {
					light_tank_equipment_1 > 19
				}
			}
		}
		
		SAF = { 
			set_country_flag = HOL_sent_support
			set_country_flag = shipment_of_tanks
			
			country_event = { id = tfv_south_africa.16 }
		}
		
		effect_tooltip = {
			SAF_german_coup_equipment_HOL_light_tank_20 = yes
		}
		
		SAF_send_equipment_flag_counter = yes
		if = {
			limit = {
				NOT = { has_country_flag = SAF_sent_equipment_3 }
			}
			# repeat event within 21-28 days
			country_event = { id = tfv_south_africa.12 days = 21 random_days = 7 } 
			
			else = {
				clr_country_flag = SAF_sent_equipment_1
				clr_country_flag = SAF_sent_equipment_2
				clr_country_flag = SAF_sent_equipment_3
			}
		}
	}
	
	option = {
		name = tfv_south_africa.12.c # Send infantry equipment
		
		ai_chance = {
			base = 10
		}
		
		trigger = {
			OR = {
				is_ai = yes
				AND = {
					has_equipment = {
						infantry_equipment_1 > 199
					}
					has_equipment = {
						artillery_equipment_1 > 9
					}
				}
			}
		}
		
		SAF = { 
			set_country_flag = HOL_sent_support
			
			country_event = { id = tfv_south_africa.16 }
		}
		
		effect_tooltip = {
			SAF_german_coup_inf_HOL_equipment_200 = yes
		}
		
		SAF_send_equipment_flag_counter = yes
		if = {
			limit = {
				NOT = { has_country_flag = SAF_sent_equipment_3 }
			}
			# repeat event within 21-28 days
			country_event = { id = tfv_south_africa.12 days = 21 random_days = 7 } 
			
			else = {
				clr_country_flag = SAF_sent_equipment_1
				clr_country_flag = SAF_sent_equipment_2
				clr_country_flag = SAF_sent_equipment_3
			}
		}
	}
	
	
	option = {
		name = tfv_south_africa.12.e # We can't spare anything
		
		ai_chance = {
			base = 0
			
			modifier = {
				add = 100
				NOT = {
					OR = {
						has_equipment = {
							artillery_equipment_1 > 9
						}
						has_equipment = {
							infantry_equipment_1 > 199
						}
					}
					has_equipment = {
						light_tank_equipment_1 > 19
					}
					has_equipment = {
						fighter_equipment_1 > 19
					}
				}
			}
		}
		
		SAF = { country_event = { id = tfv_south_africa.14 } }
	}
}

country_event = {
	id = tfv_south_africa.13
	title = tfv_south_africa.13.t
	desc = {
		text = tfv_south_africa.13.desc.a # GER denies support
		trigger = { NOT = { has_country_flag = GER_sent_support } }
	}
	desc = {
		text = tfv_south_africa.13.desc.b # GER stops support
		trigger = { has_country_flag = GER_sent_support }
	}
	picture = GFX_report_event_military_planning
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			base = 100
			modifier = {
				NOT = { has_government = fascism }
				factor = 0
			}
		}
		name = tfv_south_africa.13.a # Ask HOL instead
		trigger = {
			NOT = { has_country_flag = GER_sent_support }
			NOT = { has_country_flag = asked_HOL_for_support }
			HOL = {
				OR = {
					fascism > 0.25
					has_government = fascism
				}
			}
		}
		
		HOL = { country_event = { id = tfv_south_africa.12 hours = 48 } }
	}
	
	option = {
		name = tfv_south_africa.13.b # We're on our own
		ai_chance = {
			base = 30
		}
	}
	
}

country_event = {
	id = tfv_south_africa.14
	title = tfv_south_africa.14.t
	desc = {
		text = tfv_south_africa.14.desc.a # HOL denies support
		trigger = { NOT = { has_country_flag = HOL_sent_support } }
	}
	desc = {
		text = tfv_south_africa.14.desc.b # HOL stops support
		trigger = { has_country_flag = HOL_sent_support }
	}
	picture = GFX_report_event_generic_factory
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.14.a # Ask HOL instead
		trigger = {
			NOT = { has_country_flag = HOL_sent_support }
			NOT = { has_country_flag = asked_GER_for_support }			
			GER = {
				has_war = no
				has_government = fascism
			}
		}
		
		GER = { country_event = { id = tfv_south_africa.11 hours = 48 } }
	}
	
	option = {
		name = tfv_south_africa.14.b # We're on our own
	}
}

country_event = {
	id = tfv_south_africa.15
	title = tfv_south_africa.15.t # Germany sent equipment
	desc = {
		text = tfv_south_africa.15.desc.a
		trigger = { has_country_flag = shipment_of_airplanes }
	}
	desc = {
		text = tfv_south_africa.15.desc.b
		trigger = { has_country_flag = shipment_of_tanks }
	}
	desc = {
		text = tfv_south_africa.15.desc.c
	}
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.15.a # received planes
		trigger = { has_country_flag = shipment_of_airplanes }
		
		clr_country_flag = shipment_of_airplanes
		GER = { SAF_german_coup_equipment_GER_fighters_20 = yes }		
	}
	
	option = {
		name = tfv_south_africa.15.b # received tanks
		trigger = { has_country_flag = shipment_of_tanks }
		
		clr_country_flag = shipment_of_tanks
		
		GER = { SAF_german_coup_equipment_GER_light_tank_20 = yes }		
	}
	
	option = {
		name = tfv_south_africa.15.c # received rifles
		trigger = {
			NOT = { has_country_flag = shipment_of_airplanes }
			NOT = { has_country_flag = shipment_of_tanks }
		}
		GER = { SAF_german_coup_inf_GER_equipment_200 = yes }
	}
}

country_event = {
	id = tfv_south_africa.16
	title = tfv_south_africa.16.t # Netherlands sent equipment
	desc = {
		text = tfv_south_africa.16.desc.a
		trigger = { has_country_flag = shipment_of_airplanes }
	}
	desc = {
		text = tfv_south_africa.16.desc.b
		trigger = { has_country_flag = shipment_of_tanks }
	}
	desc = {
		text = tfv_south_africa.16.desc.c
	}
	picture = GFX_report_event_merchant_ship_01
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.16.a # received planes
		trigger = { has_country_flag = shipment_of_airplanes }

		clr_country_flag = shipment_of_airplanes
		
		HOL = { SAF_german_coup_equipment_HOL_fighters_20 = yes }
	}
	
	option = {
		name = tfv_south_africa.16.b # received tanks
		trigger = { has_country_flag = shipment_of_tanks }
		
		clr_country_flag = shipment_of_tanks	
		HOL = { SAF_german_coup_equipment_HOL_light_tank_20 = yes }
	}
	
	option = {
		name = tfv_south_africa.16.c # received rifles
		trigger = {
			NOT = { has_country_flag = shipment_of_airplanes }
			NOT = { has_country_flag = shipment_of_tanks }
		}
		HOL = { SAF_german_coup_inf_HOL_equipment_200 = yes }
	}
}



# SAF_join_comintern completed
# South-African national focus
country_event = {
	id = tfv_south_africa.20
	title = tfv_south_africa.20.t	# SAF asks SOV for membership in comintern
	desc = tfv_south_africa.20.d	#
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.20.a # SOV accepts SAF as a member of comintern
		
		ai_chance = {
			base = 100
		}
		
		effect_tooltip = {
			add_to_faction = SAF
		}
		
		hidden_effect = {
			SAF = {
				country_event = { id = tfv_south_africa.21 }
			}
		}
	}
	
	option = {
		name = tfv_south_africa.20.b # SOV denies SAF membership
		
		ai_chance = {
			base = 0
		}
		
		hidden_effect = {
			SAF = {
				country_event = { id = tfv_south_africa.22 }
			}
		}
	}
}

country_event = {
	id = tfv_south_africa.21
	title = tfv_south_africa.21.t	# SOV accepts SAF as a member of comintern
	desc = tfv_south_africa.21.d	#
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.21.a
		
		SOV = {
			add_to_faction = SAF
		}
	}
}

country_event = {
	id = tfv_south_africa.22
	title = tfv_south_africa.22.t	# SOV denies SAF membership
	desc = tfv_south_africa.22.d	#
	picture = GFX_report_event_stalin_meeting
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.22.a
	}
}

# SAF_demand_madagascar completed
# South-African national focus

country_event = {
	id = tfv_south_africa.30
	title = tfv_south_africa.30.t	# SAF demands Madagascar
	desc = tfv_south_africa.30.d	#
	picture = GFX_report_event_generic_panzer_attack
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.30.a # FRA accepts
		
		ai_chance = {
			base = 70
			modifier = {
				has_government = fascism 
				add = -50
			}
		}  
		
		effect_tooltip = {
			
		}
		
		hidden_effect = {
			SAF = {
				country_event = { id = tfv_south_africa.31 }
			}
		}
	}
	
	option = {
		name = tfv_south_africa.30.b # FRA refuses
		
		ai_chance = {
			base = 30
		}
		
		hidden_effect = {
			SAF = {
				country_event = { id = tfv_south_africa.32 }
			}
		}
	}
}

country_event = {
	id = tfv_south_africa.31
	title = tfv_south_africa.31.t	# Controller accepts demands
	desc = tfv_south_africa.31.d	
	picture = GFX_report_event_saf_soldiers_2
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.31.a
		
		transfer_state = 543
	}
}

country_event = {
	id = tfv_south_africa.32
	title = tfv_south_africa.32.t	# Controller refuses demands, wargoal offered
	desc = tfv_south_africa.32.d	#
	picture = GFX_report_event_saf_soldiers_2
	
	is_triggered_only = yes
	
	option = { # option to go to war
		name = tfv_south_africa.32.a
		ai_chance = {
			base = 80
		}
		
		create_wargoal = {
			type = take_state_focus
			target = FROM
			generator = { 543 }
		}
	}
	option = { #back down if you are a coward
		name = tfv_south_africa.32.b
		ai_chance = {
			base = 20
		}
		
	}
}
#SOV/SAF research treaty
country_event = {
	id = tfv_south_africa.40
	title = tfv_south_africa.40.t	# SAF offers treaty
	desc = tfv_south_africa.40.d	#
	picture = GFX_report_event_generic_research_lab
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.40.a # SOV offers support 
		
		ai_chance = {
			base = 100
		}
		
		effect_tooltip = {
			
		}
		
		hidden_effect = {
			SAF = {
				country_event = { id = tfv_south_africa.41 }
			}
		}
	}
	
	option = {
		name = tfv_south_africa.40.b # SOV refuses
		
		ai_chance = {
			base = 0
		}
		
		hidden_effect = {
			SAF = {
				country_event = { id = tfv_south_africa.42 }
			}
		}
	}
}

country_event = {
	id = tfv_south_africa.41
	title = tfv_south_africa.41.t	# SOV helps with research
	desc = tfv_south_africa.41.d	#
	picture = GFX_report_event_generic_research_lab
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.41.a
		SOV = { add_to_tech_sharing_group = comintern_research }
		add_to_tech_sharing_group = comintern_research
	}
}


country_event = {
	id = tfv_south_africa.42
	title = tfv_south_africa.42.t	# SOV refuses
	desc = tfv_south_africa.42.d	#
	picture = GFX_report_event_generic_research_lab
	
	is_triggered_only = yes
	
	option = { # oh well
		name = tfv_south_africa.42.a
		
		
	}
	
}
#SAF support for spain
country_event = {
	id = tfv_south_africa.50
	title = tfv_south_africa.50.t	# 
	desc = tfv_south_africa.50.d	#
	picture = GFX_report_event_german_volunteers
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.50.a # SAF offers "volunteers"
		
		ai_chance = {
			base = 45
		}
		
		effect_tooltip = {
			set_rule = { can_send_volunteers = yes }
		}
		
		hidden_effect = {
			SAF = {
				set_rule = { can_send_volunteers = yes }
				set_country_flag = SAF_spanish_volunteers
				add_ideas = { SAF_support_spain }
			}
		}
	}
	
	option = {
		name = tfv_south_africa.50.b # SAF offers volunteers
		trigger = {
			
			has_war = no	
			has_manpower > 5000
		}
		ai_chance = {
			base = 45
		}

		effect_tooltip = { add_manpower = -5000 }
		
		hidden_effect = {
			SAF = {
				add_manpower = -5000
				set_country_flag = SAF_spanish_volunteers
				if = {
					limit = {
						NOT = { has_dlc = "La Resistance" }
					}
					random_other_country = {
						limit = {
							original_tag = SPR
							has_government = communism
						}
						country_event = { id = tfv_south_africa.51 hours = 6 }
					}
				}
				if = {
					limit = {
						has_dlc = "La Resistance"
					}
					SPD = {
						country_event = { id = tfv_south_africa.51 hours = 6 }
					}
				}
			}
		}
	}
	
	option = {
		name = tfv_south_africa.50.c # SAF decides not to
		
		ai_chance = {
			base = 0
		}
		
		hidden_effect = {
			
		}
	}
}

country_event = {
	id = tfv_south_africa.51
	title = tfv_south_africa.51.t	# SAF sends volunteers to Spain
	desc = tfv_south_africa.51.d	#
	picture = GFX_report_event_german_volunteers
	
	is_triggered_only = yes
	
	option = {
		name = tfv_south_africa.51.a
		add_manpower = 5000		
	}
}

country_event = {
	id = tfv_south_africa.52
	title = tfv_south_africa.52.t	# SAF volunteers return
	desc = tfv_south_africa.52.d	#
	picture = GFX_report_event_saf_soldiers_2
	
	fire_only_once = yes

	trigger = {
	tag = SAF
	has_global_flag = scw_over
	has_country_flag = SAF_spanish_volunteers
	}

	
	option = { 
		name = tfv_south_africa.52.a
		add_ideas = {
			SAF_scw_veterans
			}
		clr_country_flag = SAF_spanish_volunteers		
	}
	
}

#European Colonies Liberation Events (not to be confused with Liberation Events for European Colonies!)
country_event = {
	id = tfv_south_africa.60
	title = tfv_south_africa.60.t	# Freedom for ANG
	desc = tfv_south_africa.60.d	#
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #full freedom
		name = tfv_south_africa.60.b
		ai_chance = {
			base = 100
		}
	}		
}
	
country_event = {
	id = tfv_south_africa.61
	title = tfv_south_africa.61.t	# Freedom for MZB
	desc = tfv_south_africa.61.d	#
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.61.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.62
	title = tfv_south_africa.62.t	# Freedom for COG
	desc = tfv_south_africa.62.d	#
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.61.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.63
	title = tfv_south_africa.63.t	# Freedom for ZIM
	desc = tfv_south_africa.63.d	#
	picture = GFX_report_event_african_soldiers
	

	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.63.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.64
	title = tfv_south_africa.64.t	# Freedom for KEN
	desc = tfv_south_africa.64.d	#
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.65
	title = tfv_south_africa.65.t	# Freedom for MAD
	desc = tfv_south_africa.65.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.66
	title = tfv_south_africa.66.t	# Freedom for BOT
	desc = tfv_south_africa.66.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.67
	title = tfv_south_africa.67.t	# Freedom for ZAM
	desc = tfv_south_africa.67.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.68
	title = tfv_south_africa.68.t	# Freedom for MLW
	desc = tfv_south_africa.68.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.69
	title = tfv_south_africa.69.t	# Freedom for TZN
	desc = tfv_south_africa.69.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.70
	title = tfv_south_africa.70.t	# Freedom for UGA
	desc = tfv_south_africa.70.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.71
	title = tfv_south_africa.71.t	# Freedom for SUD
	desc = tfv_south_africa.71.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.72
	title = tfv_south_africa.72.t	# Freedom for EGY
	desc = tfv_south_africa.72.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.73
	title = tfv_south_africa.73.t	# Freedom for ERI
	desc = tfv_south_africa.73.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

	option = { #full freedom
		name = tfv_south_africa.64.b
		ai_chance = {
			base = 0
		}	
	}
}

country_event = {
	id = tfv_south_africa.74
	title = tfv_south_africa.74.t	# Freedom for ETH
	desc = tfv_south_africa.74.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

	option = { #full freedom
		name = tfv_south_africa.64.b
		ai_chance = {
			base = 0
		}
	}
}

country_event = {
	id = tfv_south_africa.75
	title = tfv_south_africa.75.t	# Freedom for DJI
	desc = tfv_south_africa.75.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.76
	title = tfv_south_africa.76.t	# Freedom for SOM
	desc = tfv_south_africa.76.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.77
	title = tfv_south_africa.77.t	# Freedom for RWA
	desc = tfv_south_africa.77.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes

	option = { #full freedom
		name = tfv_south_africa.64.b
		ai_chance = {
			base = 0
		}	
	}
}

country_event = {
	id = tfv_south_africa.78
	title = tfv_south_africa.78.t	# Freedom for BRD
	desc = tfv_south_africa.78.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.79
	title = tfv_south_africa.79.t	# Freedom for
	desc = tfv_south_africa.79.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.80
	title = tfv_south_africa.80.t	# Freedom for 
	desc = tfv_south_africa.80.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.81
	title = tfv_south_africa.81.t	# Freedom for 
	desc = tfv_south_africa.81.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.82
	title = tfv_south_africa.82.t	# Freedom for 
	desc = tfv_south_africa.82.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.83
	title = tfv_south_africa.83.t	# Freedom for 
	desc = tfv_south_africa.83.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.84
	title = tfv_south_africa.84.t	# Freedom for 
	desc = tfv_south_africa.84.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.85
	title = tfv_south_africa.85.t	# Freedom for 
	desc = tfv_south_africa.85.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.86
	title = tfv_south_africa.86.t	# Freedom for
	desc = tfv_south_africa.86.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.87
	title = tfv_south_africa.87.t	# Freedom for 
	desc = tfv_south_africa.87.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.88
	title = tfv_south_africa.88.t	# Freedom for 
	desc = tfv_south_africa.88.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.89
	title = tfv_south_africa.89.t	# Freedom fo
	desc = tfv_south_africa.89.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.90
	title = tfv_south_africa.90.t	# Freedom fo
	desc = tfv_south_africa.90.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.91
	title = tfv_south_africa.91.t	# Freedom fo
	desc = tfv_south_africa.91.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.92
	title = tfv_south_africa.92.t	# Freedom for 
	desc = tfv_south_africa.92.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.93
	title = tfv_south_africa.93.t	# Freedom for 
	desc = tfv_south_africa.93.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.94
	title = tfv_south_africa.94.t	# Freedom fo
	desc = tfv_south_africa.94.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.95
	title = tfv_south_africa.95.t	# Freedom for 
	desc = tfv_south_africa.95.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.96
	title = tfv_south_africa.96.t	# Freedom for
	desc = tfv_south_africa.96.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.97
	title = tfv_south_africa.97.t	# Freedom for 
	desc = tfv_south_africa.97.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.98
	title = tfv_south_africa.98.t	# Freedom for 
	desc = tfv_south_africa.98.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.99
	title = tfv_south_africa.99.t	# Freedom for 
	desc = tfv_south_africa.99.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.100
	title = tfv_south_africa.100.t	# Fre
	desc = tfv_south_africa.100.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.101
	title = tfv_south_africa.101.t	# Freedom for ALG
	desc = tfv_south_africa.101.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.102
	title = tfv_south_africa.102.t	# Freedom for 
	desc = tfv_south_africa.102.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

country_event = {
	id = tfv_south_africa.103
	title = tfv_south_africa.103.t	# Freedom for 
	desc = tfv_south_africa.103.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}
}

country_event = {
	id = tfv_south_africa.104
	title = tfv_south_africa.104.t	# Freedom for 
	desc = tfv_south_africa.104.d
	picture = GFX_report_event_african_soldiers
	
	is_triggered_only = yes
	
	option = { #puppet new state
		name = tfv_south_africa.64.a
		ai_chance = {
			base = 100
		}
	}

}

#fuck turkey

###########################
# USA Events
###########################

add_namespace = usa

# Amelia Eartharts wants to join the USAAC
country_event = {
	id = usa.1
	title = usa.1.t
	desc = usa.1.d
	picture = GFX_report_event_usa_amelia_earhart_airplane

	fire_only_once = yes
	
	trigger = {
		tag = USA
		has_war = yes
		NOT = { has_global_flag = earhart_disappeared }
	}
	
	
	option = { # Let her join
		name = usa.1.a
		add_political_power = -10
		add_ace = {
			name = "Amelia"
			surname = "Earhart"
			callsign = "Revenant"
			type = fighter_genius
			is_female = yes
		}
		set_country_flag = amelia_active_ace
	}
	option = { # Refuse
		name = usa.1.b
	}
}

# Pearl Harbor Gambit
country_event = {
	id = usa.3
	title = usa.3.t
	desc = usa.3.d
	picture = GFX_report_event_usa_pearl_harbor_airphoto

	fire_only_once = yes

	trigger = {
		tag = JAP
		USA = {
			focus_progress = {
				focus = USA_pearl_harbor_gambit
				progress > 0.1
			}
		}
	}

	option = {
		name = usa.3.a
		USA = {
			add_war_support = 0.5
		}
		create_wargoal = {
			type = take_state
			target = USA
			generator = { 629 } # Hawaii
		}
	}
}

# Destroyers for Bases
country_event = {
	id = usa.4
	title = usa.4.t
	desc = usa.4.d
	picture = GFX_report_event_usa_british_sailors_destroyers

	is_triggered_only = yes
	
	option = {
		name = usa.4.a
		custom_effect_tooltip = usa.4.a.tt
		hidden_effect = {
			if = {
				limit = { not = { has_dlc = "Man the Guns" } }
				ENG = {	load_oob = "ENG_destroyers_for_bases" }
				CAN = { load_oob = "CAN_destroyers_for_bases" }
			}
			else = {
				ENG = {	load_oob = "ENG_destroyers_for_bases_mtg" }
				CAN = { load_oob = "CAN_destroyers_for_bases_mtg" }
			}
			ENG = {
				if = { limit = { 696 = { is_controlled_by = ENG } }
					remove_state_core = 696
				}
				if = { limit = { 331 = { is_controlled_by = ENG } }
					remove_state_core = 331
				}
				if = { limit = { 308 = { is_controlled_by = ENG } } 
					remove_state_core = 308
				}
				if = { limit = { 693 = { is_controlled_by = ENG } } 
					remove_state_core = 693
				}
				if = { limit = { 689 = { is_controlled_by = ENG } } 
					remove_state_core = 689
				}
				if = { limit = { 691 = { is_controlled_by = ENG } } 
					remove_state_core = 691
				}
			}
		}
		USA = {
			if = { limit = { 696 = { is_controlled_by = ENG } }
				transfer_state = 696
			}
			if = { limit = { 331 = { is_controlled_by = ENG } }
				transfer_state = 331
			}
			if = { limit = { 308 = { is_controlled_by = ENG } } 
				transfer_state = 308
			}
			if = { limit = { 693 = { is_controlled_by = ENG } } 
				transfer_state = 693
			}
			if = { limit = { 689 = { is_controlled_by = ENG } } 
				transfer_state = 689
			}
			if = { limit = { 691 = { is_controlled_by = ENG } } 
				transfer_state = 691
			}
			add_opinion_modifier = {
				target = ROOT
				modifier = destroyers_for_bases_opinion
			}
			country_event = { id = usa.401 days = 3 }
		}
	}

	option = {
		name = usa.4.b
		USA = { country_event = { id = usa.5 days = 1 } }
		ai_chance = { factor = 0 }
	}

}

# Britain accepts offer
country_event = {
	id = usa.401
	title = usa.401.t
	desc = usa.401.desc
	picture = GFX_report_event_usa_destroyers

	is_triggered_only = yes
	
	option = { 
		name = usa.401.a
	}
}

# Britain refuses offer
country_event = {
	id = usa.5
	title = usa.5.t
	desc = usa.5.d
	picture = GFX_report_event_usa_destroyers

	is_triggered_only = yes
	
	option = { 
		name = usa.5.a
	}
}

# Election of 1936: Roosevelt vs Alf Landon
country_event = {
	id = usa.6
	title = usa.6.t
	desc = usa.6.d
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes

	trigger = {
		tag = USA
		democratic > 0.5
		date > 1936.1.1
		date < 1937.1.1
	}

	immediate = {
		hidden_effect = {
			country_event = { id = usa.35 days = 730 } # midterms
		}
	}

	option = { 	
		name = usa.6.a
		ai_chance = {
			factor = 75
		}		
		add_ideas = new_deal
		set_variable = { election_factor = 0.5 }
		USA_election_senate = yes
		USA_election_house = yes
		custom_effect_tooltip = usa_congress_elections_tt_bad
		country_event = usa.30
	}

	option = { 
		name = usa.6.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
				always = yes
			}
		}		
		set_party_name = { ideology = democratic long_name = USA_republican_party name = USA_republican_party }
		set_variable = { election_factor = 0.5 }
		USA_election_senate = yes
		USA_election_house = yes
		USA_flip_support = yes
		custom_effect_tooltip = usa_congress_elections_tt_good
		add_political_power = 120
		if = {
			limit = {
				has_idea = standard_oil_california
			}
			add_political_power = 150
		}
		if = {
			limit = {
				NOT = { has_idea = standard_oil_california }
			}
			add_ideas = standard_oil_california
		}
		create_country_leader = {
			name = "Alf Landon"
			desc = "POLITICS_ALF_LANDON_DESC"
			picture = "portrait_USA_alf_landon.dds"
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
				staunch_constitutionalist
			}
		}
		country_event = usa.31
	}
}

# Election of 1940: Roosevelt vs Wendell Wilkie
country_event = {
	id = usa.7
	title = usa.7.t
	desc = usa.7.d
	picture = GFX_report_event_usa_election_roosevelt_wilkie

	is_triggered_only = yes

	trigger = {
		tag = USA
		democratic > 0.5
		date > 1940.1.1
		date < 1941.1.1
		has_idea = new_deal
	}

	immediate = {
		hidden_effect = {
			country_event = { id = usa.35 days = 730 } # midterms
		}
	}
	
	option = {
		name = usa.7.a
		ai_chance = {
			factor = 75
		}
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.5 }
		USA_election_senate = yes
		USA_election_house = yes
		custom_effect_tooltip = usa_congress_elections_tt_bad
		country_event = usa.30
	}

	option = {
		name = usa.7.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}	
		set_party_name = { ideology = democratic long_name = USA_republican_party name = USA_republican_party }
		remove_ideas = new_deal
		add_ideas = wilkies_new_deal
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.6 }
		add_political_power = 120
		USA_election_senate = yes
		USA_election_house = yes
		USA_flip_support = yes
		custom_effect_tooltip = usa_congress_elections_tt_good
		create_country_leader = {
			name = "Wendell Wilkie"
			desc = "POLITICS_WENDELL_WILKIE_DESC"
			picture = "Portrait_USA_Wendell_Willkie.dds"
			expire = "1965.1.1"
			ideology = liberalism
			traits = {
				
			}
		}
		country_event = usa.31 #weighted towards gain of support
	}
}

# Election of 1940: Roosevelt vs Landon (Incumbent)
country_event = {
	id = usa.8
	title = usa.8.t
	desc = usa.8.d
	picture = GFX_report_event_usa_election_landon_roosevelt

	is_triggered_only = yes

	trigger = {
		tag = USA
		democratic > 0.5
		date > 1940.1.1
		date < 1941.1.1
		NOT = { has_idea = new_deal }
	}

	immediate = {
		hidden_effect = {
			country_event = { id = usa.35 days = 730 } # midterms
		}
	}
	
	option = { 
		name = usa.8.a
		add_political_power = -40
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.5 }
		USA_election_senate = yes
		USA_election_house = yes
		custom_effect_tooltip = usa_congress_elections_tt_bad
		country_event = usa.30
	}

	option = { 
		name = usa.8.b
		set_party_name = { ideology = democratic long_name = USA_democratic_party name = USA_democratic_party }
		add_ideas = new_deal
		retire_country_leader = yes
		add_political_power = 120
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.6 }
		USA_election_senate = yes
		USA_election_house = yes
		USA_flip_support = yes
		custom_effect_tooltip = usa_congress_elections_tt_good
		country_event = usa.31
	}
}

# Election of 1944: Roosevelt vs Thomas E. Dewey
country_event = {
	id = usa.9
	title = usa.9.t
	desc = usa.9.d
	picture = GFX_report_event_usa_election_roosevelt_dewey

	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			country_event = { id = usa.35 days = 730 } # midterms
		}
	}
	trigger = {
		tag = USA
		democratic > 0.5
		date > 1944.1.1
		date < 1945.1.1
		has_idea = new_deal
		has_war = no
	}
	
	option = {
		name = usa.9.a
		ai_chance = {
			factor = 75
		}
		add_political_power = 10
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.5 }
		USA_election_senate = yes
		USA_election_house = yes
		custom_effect_tooltip = usa_congress_elections_tt_bad
		country_event = usa.30
	}

	option = { 
		name = usa.9.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}		
		remove_ideas = new_deal
		set_party_name = { ideology = democratic long_name = USA_republican_party name = USA_republican_party }
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.6 }
		USA_election_senate = yes
		USA_election_house = yes
		USA_flip_support = yes
		add_political_power = 120
		custom_effect_tooltip = usa_congress_elections_tt_good
		create_country_leader = {
			name = "Thomas E. Dewey"
			desc = "POLITICS_THOMAS_DEWEY_DESC"
			picture = "portrait_USA_thomas_dewey.dds"
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
				
			}
		}
		country_event = usa.31
	}
}

# Election of 1944: Roosevelt vs Incumbent
country_event = {
	id = usa.10
	title = usa.10.t
	desc = usa.10.d
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			country_event = { id = usa.35 days = 730 } # midterms
		}
	}
	trigger = {
		tag = USA
		democratic > 0.5
		date > 1944.1.1
		date < 1945.1.1
		NOT = { has_idea = new_deal }
	}
	
	option = { 
		name = usa.10.a
		add_political_power = 10
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.5 }
		USA_election_senate = yes
		USA_election_house = yes
		custom_effect_tooltip = usa_congress_elections_tt_bad
		country_event = usa.30
	}

	option = { 
		name = usa.10.b
		add_ideas = new_deal
		set_party_name = { ideology = democratic long_name = USA_democratic_party name = USA_democratic_party }
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.6 }
		USA_election_senate = yes
		USA_election_house = yes
		USA_flip_support = yes
		add_political_power = 120
		custom_effect_tooltip = usa_congress_elections_tt_good
		if = {
			limit = { has_idea = wilkies_new_deal }
			remove_ideas = wilkies_new_deal
		}
		retire_country_leader = yes
		country_event = usa.31
	}
}

# Election of 1944: Roosevelt vs MacArthur
country_event = {
	id = usa.11
	title = usa.11.t
	desc = usa.11.d
	picture = GFX_report_event_usa_election_roosevelt_macarthur

	is_triggered_only = yes
	immediate = {
		hidden_effect = {
			country_event = { id = usa.35 days = 730 } # midterms
		}
	}
	trigger = {
		tag = USA
		democratic > 0.5
		date > 1944.1.1
		date < 1945.1.1
		has_idea = new_deal
		OR = {
			has_war = no
			has_country_flag = macarthur_candidate
		}
	}
	
	option = {
		name = usa.11.a
		ai_chance = {
			factor = 25
		}	
		add_political_power = 10
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.5 }
		USA_election_senate = yes
		USA_election_house = yes
		custom_effect_tooltip = usa_congress_elections_tt_bad
		country_event = usa.30
	}

	option = { 
		name = usa.11.b
		ai_chance = {
			factor = 25
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		remove_ideas = new_deal
		set_party_name = { ideology = democratic long_name = USA_republican_party name = USA_republican_party }
		set_variable = { election_factor = random }
		add_to_variable = { election_factor = -0.6 }
		USA_election_senate = yes
		USA_election_house = yes
		USA_flip_support = yes
		add_political_power = 120
		custom_effect_tooltip = usa_congress_elections_tt_good
		create_country_leader = {
			name = "Douglas MacArthur"
			desc = "POLITICS_DOUGLAS_MACARTHUR_DESC"
			picture = "Portrait_USA_Douglas_MacArthur.dds"
			expire = "1965.1.1"
			ideology = conservatism
			traits = {
				
			}
		}
		country_event = usa.31
		USA_douglas_macarthur = { remove_unit_leader_role = yes }
	}
}

# Election of 1944: MacArthur Candidate?
country_event = {
	id = usa.12
	title = usa.12.t
	desc = usa.12.d
	picture = GFX_report_event_usa_macarthur_speech

	is_triggered_only = yes

	trigger = {
		tag = USA
		democratic > 0.5
		date > 1944.1.1
		date < 1945.1.1
		has_idea = new_deal
		has_war = yes
	}
	
	option = { 
		name = usa.12.a
		country_event = { id = usa.9 }
	}

	option = { 
		name = usa.12.b
		country_event = { id = usa.11 }
	}
}

#DO NOT USE USA.15 AS EVENT ID
#It will make the event text pop up as the name or requirement for two radar technologies for Finland if they are Fascist due to a hash conflict.


# USA option to intervene in war
# Hidden event to get scopes set up 
country_event = {
	id = usa.16

	is_triggered_only = yes
	
	hidden = yes

	immediate = {
		save_event_target_as = being_attacked
		USA = {
			country_event = { id = usa.17 }
		}
	}
}

# USA option to intervene in war 
country_event = {
	id = usa.17
	title = usa.17.t
	desc = usa.17.d
	picture = GFX_report_event_usa_macarthur_speech

	is_triggered_only = yes
	
	#Intervene ultimatum war
	option = { 
		name = usa.17.a
	
		#Need to use FROM FROM scope since the one sending the event is the nation under attack
		ai_chance = {
			factor = 20			
			modifier = {
				factor = 0.2
				FROM = {
					FROM = {
						strength_ratio = {
							tag = USA
							ratio > 0.8
						}
					}
				}
			}		
		}

		custom_effect_tooltip = usa.17.a_tt
		FROM = { FROM = { country_event = { id = usa.18 days = 2 } } }
	}

	#Don't Intervene
	option = {
		name = usa.17.b

		ai_chance = {
			factor = 5
			modifier = {
				factor = 0
				FROM = {
					FROM = {
						strength_ratio = {
							tag = USA
							ratio < 0.5
						}
					}
				}
			}
		}
	}
}

# Country response to USA intervening
country_event = {
	id = usa.18
	title = usa.18.t
	desc = usa.18.d
	picture = GFX_report_event_soldiers_marching

	is_triggered_only = yes
	
	#Go to war with USA
	option = { 
		name = usa.18.a

		ai_chance = {
			factor = 10
			modifier = {
				factor = 0.5
				strength_ratio = {
					tag = USA
					ratio < 0.7
				}
				is_in_faction = yes
			}
			modifier = {
				factor = 5
				strength_ratio = {
					tag = USA
					ratio > 0.7
				}
			}
		}

		event_target:being_attacked = {
			FROM = {
				add_to_war = {
					targeted_alliance = PREV
					enemy = ROOT
					hostility_reason = guarantee
				}
			}
		}

		#ROOT = {
		#	declare_war_on = {
		#		target = FROM
		#	}
		#}
		hidden_effect = {
			news_event = { id = news.157 days = 2 }
		}
	}

	#Back down
	option = {
		name = usa.18.b

		ai_chance = { 
			factor = 10
			modifier = {
				factor = 10
				strength_ratio = {
					tag = USA
					ratio < 0.7
				}
				is_in_faction = no
			}			
		}

		custom_effect_tooltip = usa.18.b_tt
		hidden_effect = {
			event_target:being_attacked = { white_peace = ROOT }
			news_event = { id = news.158 days = 2 }
		}
	}
}
country_event = {
	id = usa.19
	title = usa.19.t

	is_triggered_only = yes
	
	hidden = yes

	immediate = {
		USA = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROOT
			}
		}
	}
}

# US supports democracy 
country_event = {
	id = usa.20
	title = usa.20.t
	desc = usa.20.d
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes

	immediate = {
		set_country_flag = usa_influence_fired
	}

	option = {
		name = usa.20.a		
		custom_effect_tooltip = usa.20.a_tt
	}
}

# US supports communism
country_event = {
	id = usa.21
	title = usa.20.t
	desc = usa.21.d
	picture = GFX_report_event_usa_election_generic
	
	is_triggered_only = yes

	immediate = {
		set_country_flag = usa_influence_fired
	}

	option = {
		name = usa.20.a
		custom_effect_tooltip = usa.20.a_tt
	}
}

# US supports fascism
country_event = {
	id = usa.22
	title = usa.20.t
	desc = usa.22.d
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes

	immediate = {
		set_country_flag = usa_influence_fired
	}

	option = {
		name = usa.20.a	
		custom_effect_tooltip = usa.20.a_tt
	}

}

# US extends influence to protection. Will meddle in wars
country_event = {
	id = usa.23
	title = usa.23.t
	desc = usa.23.d
	picture = GFX_report_event_usa_heavy_cruiser

	is_triggered_only = yes

	option = {
		name = usa.23.a
		custom_effect_tooltip = usa.23.a_tt
	}

}

# US congress elections - outcome
country_event = {
	id = usa.30
	title = usa.30.t
	desc = usa.30.desc
	picture = GFX_report_event_election_vote

	is_triggered_only = yes

	option = {
		name = usa.30.a
	}

}
# elections - new president, opposition/support switch roles
country_event = {
	id = usa.31
	title = usa.31.t
	desc = usa.31.desc
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes

	option = {
		name = usa.31.a
	}

}
# elections in the US - player has a majority guaranteed
country_event = {
	id = usa.32
	title = usa.32.t
	desc = usa.32.desc
	picture = GFX_report_event_election_vote

	is_triggered_only = yes
	trigger = {
		always = no
	}

	option = {
		name = usa.32.a
		USA_return_majority = yes
	}

}

#midterm elections
country_event = {
	id = usa.35
	title = usa.35.t
	desc = usa.35.desc
	picture = GFX_report_event_election_vote
	hidden = yes
	is_triggered_only = yes

	immediate = {
		random_list = {
			50 = {
				set_variable = { election_factor = random }
				add_to_variable = { election_factor = -0.6 }
				USA_election_senate = yes
				USA_election_house = yes
				country_event = usa.30
			}
			50 = {
				set_variable = { election_factor = random }
				add_to_variable = { election_factor = -0.3 }
				USA_election_senate = yes
				USA_election_house = yes
				country_event = usa.30
			}
		}
	}

	option = {
		name = usa.35.a
		
	}

}
#small support event - senate
country_event = {
	id = usa.40
	title = usa.40.t
	desc = usa.40.desc
	picture = GFX_report_event_FDR_speech

	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	option = {
		name = usa.40.a
		USA_senate_small_support = yes
		hidden_effect = {
			country_event = { id = usa.50 days = 70 random_days = 10 }
		}
	}

}
# small support event - house
country_event = {
	id = usa.41
	title = usa.41.t
	desc = usa.41.desc
	picture = GFX_report_event_FDR_speech

	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	option = {
		name = usa.41.a
		USA_house_small_support = yes
		hidden_effect = {
			country_event = { id = usa.51 days = 70 random_days = 10 }
		}
	}

}

#small opposition event - senate
country_event = {
	id = usa.42
	title = usa.42.t
	desc = usa.42.desc
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes
	
	trigger = {
		tag = USA
	}

	option = {
		name = usa.42.a
		USA_senate_small_opposition = yes
		hidden_effect = {
			country_event = { id = usa.50 days = 70 random_days = 10 }
		}
	}

}
# small opposition event - house
country_event = {
	id = usa.43
	title = usa.43.t
	desc = usa.43.desc
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	option = {
		name = usa.43.a
		USA_house_small_opposition = yes
		hidden_effect = {
			country_event = { id = usa.51 days = 70 random_days = 10 }
		}
	}

}

#medium support event - senate
country_event = {
	id = usa.44
	title = usa.44.t
	desc = usa.44.desc
	picture = GFX_report_event_FDR_speech

	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	option = {
		name = usa.44.a
		USA_senate_medium_support = yes
		hidden_effect = {
			country_event = { id = usa.50 days = 70 random_days = 20 }
		}
	}

}
# medium support event - house
country_event = {
	id = usa.45
	title = usa.45.t
	desc = usa.45.desc
	picture = GFX_report_event_FDR_speech

	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	option = {
		name = usa.45.a
		USA_house_medium_support = yes
		hidden_effect = {
			country_event = { id = usa.51 days = 70 random_days = 10 }
		}
	}

}

#medium opposition event - senate
country_event = {
	id = usa.46
	title = usa.46.t
	desc = usa.46.desc
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	option = {
		name = usa.46.a
		USA_senate_medium_opposition = yes
		hidden_effect = {
			country_event = { id = usa.50 days = 70 random_days = 20 }
		}
	}

}
# medium opposition event - house
country_event = {
	id = usa.47
	title = usa.47.t
	desc = usa.47.desc
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	option = {
		name = usa.47.a
		USA_house_medium_opposition = yes
		hidden_effect = {
			country_event = { id = usa.51 days = 70 random_days = 10 }
		}
	}

}

# dispatcher event - senate
country_event = {
	id = usa.50
	Hidden = yes
	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	immediate = {
		random_list = {
			20 = { 
				modifier = {
					not = { congress_medium_support_trigger = yes }
					factor = 1.25
				}
				modifier = {
					not = { congress_low_support_trigger = yes }
					factor = 2
				}
				country_event = { id = usa.40 days = 15 random_days = 6 } #small support
			} 
			20 = { 
				modifier = {
					check_variable = { var = senators_support value = quorum_high compare = greater_than_or_equals }
					factor = 3
				}
				modifier = {
					has_idea_with_trait = fascist_demagogue
					factor = 2
				}
				modifier = {
					has_idea_with_trait = communist_revolutionary
					factor = 2
				}
				country_event = { id = usa.42 days = 20 random_days = 6 } #small opposition 
			} 
			15 = { 
				modifier = {
					not = { congress_medium_support_trigger = yes }
					factor = 1.25
				}
				modifier = {
					not = { congress_low_support_trigger = yes }
					factor = 2
				}
				country_event = { id = usa.44 days = 20 random_days = 10 } #medium support
			} 
			15 = { 
				modifier = {
					check_variable = { var = senators_support value = quorum_high compare = greater_than_or_equals }
					factor = 3
				}
				modifier = {
					has_idea_with_trait = fascist_demagogue
					factor = 2
				}
				modifier = {
					has_idea_with_trait = communist_revolutionary
					factor = 2
				}
				country_event = { id = usa.46 days = 20 random_days = 10 }  #medium opposition
			}
			30 = { #investment opportunity
				modifier = {
					has_country_flag = USA_congress_investment
					factor = 0
				}
				modifier = {
					has_completed_focus = USA_wpa
					factor = 1.5
				} 
				country_event = { id = usa.60 days = 10 random_days = 15 } 
			} 
		}
	}
}

# dispatcher event - house
country_event = {
	id = usa.51
	Hidden = yes
	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	immediate = {
		random_list = {
			35 = { 
				modifier = {
					check_variable = { representatives_support < 218 }
					factor = 1.5
				}
				modifier = {
					check_variable = { representatives_support < 180 }
					factor = 3
				}
				country_event = { id = usa.41 days = 15 random_days = 6 } #small support
			} 
			25 = {
				modifier = {
					check_variable = { representatives_support > 260 }
					factor = 2
				}
				modifier = {
					check_variable = { representatives_support < 180 }
					factor = 0.5
				}
				modifier = {
					has_idea_with_trait = fascist_demagogue
					factor = 2
				}
				modifier = {
					has_idea_with_trait = communist_revolutionary
					factor = 2
				} 
				country_event = { id = usa.43 days = 20 random_days = 6 } #small opposition
			} 
			25 = { 
				modifier = {
					check_variable = { representatives_support < 180 }
					factor = 1.5
				}
				modifier = {
					check_variable = { representatives_support < 100 }
					factor = 10
				}
				country_event = { id = usa.45 days = 25 random_days = 10 } #medium support
			} 
			15 = { 
				modifier = {
					check_variable = { representatives_support > 260 }
					factor = 2
				}
				modifier = {
					check_variable = { representatives_support > 400 }
					factor = 10
				}
				modifier = {
					check_variable = { representatives_support < 180 }
					factor = 0.5
				}
				modifier = {
					check_variable = { representatives_support < 100 }
					factor = 0
				}
				modifier = {
					has_idea_with_trait = fascist_demagogue
					factor = 2
				}
				modifier = {
					has_idea_with_trait = communist_revolutionary
					factor = 2
				}
				country_event = { id = usa.47 days = 30 random_days = 15 } #medium opposition
			} 
		}
	}
}
# senator wants investment in their state - hidden dispatch event
country_event = {
	id = usa.60
	hidden = yes
	is_triggered_only = yes
	trigger = {
		tag = USA
	}

	immediate = {
		set_country_flag = USA_congress_investment
		if = {
			limit = { has_event_target = USA_congress_investment_state }
			clear_global_event_target = USA_congress_investment_state
		}
		random_list = {
			25 = {
				modifier = {
					NOT = {
						any_owned_state = {
							is_core_of = ROOT
							is_controlled_by = ROOT
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = no
							}
						}
					}
					factor = 0
				}
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						is_controlled_by = ROOT
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = no
						}
					}
					
					save_global_event_target_as = USA_congress_investment_state
					state_event = { id = usa.61 trigger_for = controller }
				}
			}
			25 = {
				modifier = {
					NOT = {
						any_owned_state = {
							is_core_of = ROOT
							is_controlled_by = ROOT
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = no
							}
						}
					}
					factor = 0
				}
				modifier = {
					has_completed_focus = USA_military_construction
					factor = 2
				}
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						is_controlled_by = ROOT
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = no
						}
					}
					save_global_event_target_as = USA_congress_investment_state
					state_event = { id = usa.62 trigger_for = controller }
				}
			}
			25 = { 
				modifier = {
					NOT = {
						any_owned_state = {
							is_core_of = ROOT
							is_controlled_by = ROOT
							is_coastal = yes
							free_building_slots = {
								building = dockyard
								size > 0
								include_locked = no
							}
						}
					}
					factor = 0
				}
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						is_controlled_by = ROOT
						free_building_slots = {
							building = dockyard
							size > 0
							include_locked = no
						}
					}
					save_global_event_target_as = USA_congress_investment_state
					state_event = { id = usa.64 trigger_for = controller }
				}
			}
			25 = {
				modifier = {
					NOT = {
						any_owned_state = {
							is_core_of = ROOT
							free_building_slots = {
								building = infrastructure
								size > 0
								include_locked = no
							}
						}
					}
					factor = 0
				}
				modifier = {
					has_completed_focus = USA_USACE_projects
					factor = 2
				}
				random_owned_state = {
					limit = {
						is_core_of = ROOT
						is_controlled_by = ROOT
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = no
						}
					}
					save_global_event_target_as = USA_congress_investment_state
					state_event = { id = usa.63 trigger_for = controller }
				}
			}
		}
		hidden_effect = {
			country_event = { id = usa.50 days = 70 random_days = 10 }
		}
	}
}
# senator wants investment in civilian factory
country_event = {
	id = usa.61
	title = usa.61.t
	desc = usa.61.desc
	picture = GFX_report_event_generic_sign_treaty3
	
	is_triggered_only = yes
	

	option = {
		name = usa.61.a #accept
		ai_chance = {
			factor = 0
		}
		unlock_decision_tooltip = { decision = USA_invest_in_state_factory show_effect_tooltip = yes }
		event_target:USA_congress_investment_state = {
			set_state_flag = USA_congress_build_factory
			set_variable = { factory_goal = industrial_complex_level }
			add_to_variable = { factory_goal = 1 }
		}
	}
	option = {
		name = usa.61.b #refuse
		ai_chance = {
			factor = 100
		}
		ROOT = { clr_country_flag = USA_congress_investment }
		clear_global_event_target = USA_congress_investment_state
	}
}

# senator wants investment in military factory
country_event = {
	id = usa.62
	title = usa.61.t
	desc = usa.62.desc
	picture = GFX_report_event_tank_factory
	
	is_triggered_only = yes
	

	option = {
		name = usa.62.a #accept
		ai_chance = {
			factor = 0
		}
		unlock_decision_tooltip = { decision = USA_invest_in_state_arms_factory show_effect_tooltip = yes }
		event_target:USA_congress_investment_state = {
			set_state_flag = USA_congress_build_arms_factory
			set_variable = { arms_factory_goal = arms_factory_level }
			add_to_variable = { arms_factory_goal = 1 }
		}
	}
	option = {
		name = usa.62.b #refuse
		ai_chance = {
			factor = 100
		}
		ROOT = { clr_country_flag = USA_congress_investment }
		clear_global_event_target = USA_congress_investment_state
	}
}
# senator wants investment in infrastructure
country_event = {
	id = usa.63
	title = usa.63.t
	desc = usa.63.desc
	picture = GFX_report_event_generic_train
	
	is_triggered_only = yes
	

	option = {
		name = usa.63.a #accept
		ai_chance = {
			factor = 0
		}
		unlock_decision_tooltip = { decision = USA_invest_in_state_infrastructure show_effect_tooltip = yes }
		event_target:USA_congress_investment_state = {
			set_state_flag = USA_congress_build_infrastructure
			set_variable = { infrastructure_goal = infrastructure_level }
			add_to_variable = { infrastructure_goal = 1 }
		}
	}
	option = {
		name = usa.63.b #refuse
		ai_chance = {
			factor = 100
		}
		ROOT = { clr_country_flag = USA_congress_investment }
		clear_global_event_target = USA_congress_investment_state
	}
}
# senator wants investment in dockyards
country_event = {
	id = usa.64
	title = usa.64.t
	desc = usa.64.desc
	picture = GFX_report_event_ast_navy
	
	is_triggered_only = yes
	

	option = {
		name = usa.64.a #accept
		ai_chance = {
			factor = 0
		}
		unlock_decision_tooltip = { decision = USA_invest_in_state_dockyard show_effect_tooltip = yes }
		event_target:USA_congress_investment_state = {
			set_state_flag = USA_congress_build_dockyard
			set_variable = { dockyard_goal = building_level@dockyard }
			add_to_variable = { dockyard_goal = 1 }
		}
	}
	option = {
		name = usa.64.b #refuse
		ai_chance = {
			factor = 100
		}
		ROOT = { clr_country_flag = USA_congress_investment }
		clear_global_event_target = USA_congress_investment_state
	}
}

country_event = {
	id = usa.176 #Fire arsenal of democracy speech
	
	fire_only_once = yes
	
	trigger = {
		tag = USA
		has_war = yes
		has_war_with = GER
		date > 1939.1.1
	}
	
	
	hidden = yes

	immediate = {
		play_arsenal_of_democracy_effect = yes
	}
}
###########################
# Wargoal Justification Events
###########################

add_namespace = war_justification 

# Fascists vs Neutrals
country_event = {
	id = war_justification.1
	title = war_justification.1.t
	desc = war_justification.1.d
	picture = GFX_report_event_fascist_speech  
	
	is_triggered_only = yes

	trigger = {
		has_government = fascism
		FROM = { has_government = neutrality }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.1.a
		FROM = { country_event = { id = war_justification.201 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Fascists vs Democrats
country_event = {
	id = war_justification.2
	title = war_justification.2.t
	desc = war_justification.2.d
	picture = GFX_report_event_communist_leader
	
	is_triggered_only = yes
	
	trigger = {
		has_government = fascism
		FROM = { has_government = democratic }
		NOT = { has_country_flag = war_justification_last_event_political }
	}

	option = {
		name = war_justification.2.a
		FROM = { country_event = { id = war_justification.202 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Fascists vs Communists
country_event = {
	id = war_justification.3
	title = war_justification.3.t
	desc = war_justification.3.d
	picture = GFX_report_event_communists_cheer
	
	is_triggered_only = yes
	
	trigger = {
		has_government = fascism
		FROM = { has_government = communism }
		NOT = { has_country_flag = war_justification_last_event_political }
	}

	option = {
		name = war_justification.3.a
		FROM = { country_event = { id = war_justification.203 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Fascists vs Fascists
country_event = {
	id = war_justification.4
	title = war_justification.4.t
	desc = war_justification.4.d
	picture = GFX_report_event_fascist_speech
	
	is_triggered_only = yes

	trigger = {
		has_government = fascism
		FROM = { has_government = fascism }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.4.a
		FROM = { country_event = { id = war_justification.204 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Communists vs Neutrals
country_event = {
	id = war_justification.5
	title = war_justification.5.t
	desc = war_justification.5.d
	picture = GFX_report_event_nra_march
	
	is_triggered_only = yes

	trigger = {
		has_government = communism
		FROM = { has_government = neutrality }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.5.a
		FROM = { country_event = { id = war_justification.205 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Communists vs Democrats
country_event = {
	id = war_justification.6
	title = war_justification.6.t
	desc = war_justification.6.d
	picture = GFX_report_event_pla_in_beijing
	
	is_triggered_only = yes

	trigger = {
		has_government = communism
		FROM = { has_government = democratic }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.6.a
		FROM = { country_event = { id = war_justification.206 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Communists vs Communists
country_event = {
	id = war_justification.7
	title = war_justification.7.t
	desc = war_justification.7.d
	picture = GFX_report_event_american_hunger_march
	
	is_triggered_only = yes

	trigger = {
		has_government = communism
		FROM = { has_government = communism }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.7.a
		FROM = { country_event = { id = war_justification.207 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Communists vs Fascists
country_event = {
	id = war_justification.8
	title = war_justification.8.t
	desc = war_justification.8.d
	picture = GFX_report_event_communist_leader
	
	is_triggered_only = yes

	trigger = {
		has_government = communism
		FROM = { has_government = fascism }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.8.a
		FROM = { country_event = { id = war_justification.208 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Democrats vs Neutrals
country_event = {
	id = war_justification.9
	title = war_justification.9.t
	desc = war_justification.9.d
	picture = GFX_report_event_communist_leader
	
	is_triggered_only = yes

	trigger = {
		has_government = democratic
		FROM = { has_government = neutrality }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.9.a
		FROM = { country_event = { id = war_justification.209 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Democrats vs Democrats
country_event = {
	id = war_justification.10
	title = war_justification.10.t
	desc = war_justification.10.d
	picture = GFX_report_event_soldiers_marching
	
	is_triggered_only = yes

	trigger = {
		has_government = democratic
		FROM = { has_government = democratic }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.10.a
		FROM = { country_event = { id = war_justification.210 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Democrats vs Communists
country_event = {
	id = war_justification.11
	title = war_justification.11.t
	desc = war_justification.11.d
	picture = GFX_report_event_crowd_in_prague
	
	is_triggered_only = yes

	trigger = {
		has_government = democratic
		FROM = { has_government = communism }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.11.a
		FROM = { country_event = { id = war_justification.211 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Democrats vs Fascists
country_event = {
	id = war_justification.12
	title = war_justification.12.t
	desc = war_justification.12.d
	picture = GFX_report_event_fascists_posing
	
	is_triggered_only = yes

	trigger = {
		has_government = democratic
		FROM = { has_government = fascism }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.12.a
		FROM = { country_event = { id = war_justification.212 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Neutrals vs Neutrals
country_event = {
	id = war_justification.13
	title = war_justification.13.t
	desc = war_justification.13.d
	picture = GFX_report_event_soldiers_marching
	
	is_triggered_only = yes

	trigger = {
		has_government = neutrality
		FROM = { has_government = neutrality }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.13.a
		FROM = { country_event = { id = war_justification.213 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Neutrals vs Democrats
country_event = {
	id = war_justification.14
	title = war_justification.14.t
	desc = war_justification.14.d
	picture = GFX_report_event_tanks_vietnam
	
	is_triggered_only = yes

	trigger = {
		has_government = neutrality
		FROM = { has_government = democratic }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.14.a
		FROM = { country_event = { id = war_justification.214 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Neutrals vs Communists
country_event = {
	id = war_justification.15
	title = war_justification.15.t
	desc = war_justification.15.d
	picture = GFX_report_event_tanks_mexico_city
	
	is_triggered_only = yes

	trigger = {
		has_government = neutrality
		FROM = { has_government = communism }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.15.a
		FROM = { country_event = { id = war_justification.215 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Neutrals vs Fascists
country_event = {
	id = war_justification.16
	title = war_justification.16.t
	desc = war_justification.16.d
	picture = GFX_report_event_pla_in_beijing
	
	is_triggered_only = yes

	trigger = {
		has_government = neutrality
		FROM = { has_government = fascism }
		NOT = { has_country_flag = war_justification_last_event_political }
	}
	
	option = {
		name = war_justification.16.a
		FROM = { country_event = { id = war_justification.216 } }
		set_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Generic: Neighbor
country_event = {
	id = war_justification.17
	title = war_justification.17.t
	desc = war_justification.17.d
	picture = GFX_report_event_riot_police_poland
	
	is_triggered_only = yes

	trigger = {
		is_neighbor_of = FROM
		NOT = { has_country_flag = war_justification_last_event_neighbor }
	}
	
	option = {
		name = war_justification.17.a
		FROM = { country_event = { id = war_justification.217 } }
		set_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Generic: Mobilized Nation
country_event = {
	id = war_justification.18
	title = war_justification.18.t
	desc = war_justification.18.d
	picture = GFX_report_event_korean_war_march
	
	is_triggered_only = yes

	trigger = {
		FROM = {
			OR = {
				has_idea = low_economic_mobilisation
				has_idea = partial_economic_mobilisation
				has_idea = war_economy
				has_idea = tot_economic_mobilisation
			}
		}
		NOT = { has_country_flag = war_justification_last_event_mobilized }
	}
	
	option = {
		name = war_justification.18.a
		FROM = { country_event = { id = war_justification.218 } }
		set_country_flag = war_justification_last_event_mobilized
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_borderthreat
	}
}

# Generic: Enemy Troops at the Border
country_event = {
	id = war_justification.19
	title = war_justification.19.t
	desc = war_justification.19.d
	picture = GFX_report_event_soldiers_marching
	
	is_triggered_only = yes

	trigger = {
		FROM = {
			is_neighbor_of = ROOT
			any_owned_state = {
				any_neighbor_state = { is_owned_by = ROOT }
				FROM = {
					divisions_in_state = {
						state = PREV
						size > 1
					}
				}	
			}
		}
		NOT = { has_country_flag = war_justification_last_event_borderthreat }
	}
	
	option = {
		name = war_justification.19.a
		FROM = { country_event = { id = war_justification.219 } }
		set_country_flag = war_justification_last_event_borderthreat
		clr_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
	}
}

# Generic: Any War
country_event = {
	id = war_justification.20
	title = war_justification.20.t
	desc = war_justification.20.d
	picture = GFX_report_event_tanks_vietnam
	
	is_triggered_only = yes

	trigger = {
		has_country_flag = war_justification_last_event_generic
	}
	
	option = {
		name = war_justification.20.a
		FROM = { country_event = { id = war_justification.220 } }
		set_country_flag = war_justification_last_event_generic
		clr_country_flag = war_justification_last_event_borderthreat
		clr_country_flag = war_justification_last_event_political
		clr_country_flag = war_justification_last_event_neighbor
		clr_country_flag = war_justification_last_event_mobilized
	}
}

# Fascists vs Neutrals (Target)
country_event = {
	id = war_justification.201
	title = war_justification.201.t
	desc = war_justification.201.d
	picture = GFX_report_event_fascist_speech
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.201.a
	}
}

# Fascists vs Democrats (Target)
country_event = {
	id = war_justification.202
	title = war_justification.202.t
	desc = war_justification.202.d
	picture = GFX_report_event_communist_leader
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.202.a
	}
}

# Fascists vs Communists (Target)
country_event = {
	id = war_justification.203
	title = war_justification.203.t
	desc = war_justification.203.d
	picture = GFX_report_event_communists_cheer
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.203.a
	}
}

# Fascists vs Fascists (Target)
country_event = {
	id = war_justification.204
	title = war_justification.204.t
	desc = war_justification.204.d
	picture = GFX_report_event_fascist_speech
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.204.a
	}
}

# Communists vs Neutrals (Target)
country_event = {
	id = war_justification.205
	title = war_justification.205.t
	desc = war_justification.205.d
	picture = GFX_report_event_nra_march
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.205.a
	}
}

# Communists vs Democrats (Target)
country_event = {
	id = war_justification.206
	title = war_justification.206.t
	desc = war_justification.206.d
	picture = GFX_report_event_pla_in_beijing
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.206.a
	}
}

# Communists vs Communists (Target)
country_event = {
	id = war_justification.207
	title = war_justification.207.t
	desc = war_justification.207.d
	picture = GFX_report_event_american_hunger_march
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.207.a
	}
}

# Communists vs Fascists (Target)
country_event = {
	id = war_justification.208
	title = war_justification.208.t
	desc = war_justification.208.d
	picture = GFX_report_event_communist_leader
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.208.a
	}
}

# Democrats vs Neutrals (Target)
country_event = {
	id = war_justification.209
	title = war_justification.209.t
	desc = war_justification.209.d
	picture = GFX_report_event_communist_leader
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.209.a
	}
}

# Democrats vs Democrats (Target)
country_event = {
	id = war_justification.210
	title = war_justification.210.t
	desc = war_justification.210.d
	picture = GFX_report_event_soldiers_marching
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.210.a
	}
}

# Democrats vs Communists (Target)
country_event = {
	id = war_justification.211
	title = war_justification.211.t
	desc = war_justification.211.d
	picture = GFX_report_event_crowd_in_prague
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.211.a
	}
}

# Democrats vs Fascists (Target)
country_event = {
	id = war_justification.212
	title = war_justification.212.t
	desc = war_justification.212.d
	picture = GFX_report_event_fascists_posing
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.212.a
	}
}

# Neutrals vs Neutrals (Target)
country_event = {
	id = war_justification.213
	title = war_justification.213.t
	desc = war_justification.213.d
	picture = GFX_report_event_soldiers_marching
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.213.a
	}
}

# Neutrals vs Democrats (Target)
country_event = {
	id = war_justification.214
	title = war_justification.214.t
	desc = war_justification.214.d
	picture = GFX_report_event_tanks_vietnam
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.214.a
	}
}

# Neutrals vs Communists (Target)
country_event = {
	id = war_justification.215
	title = war_justification.215.t
	desc = war_justification.215.d
	picture = GFX_report_event_tanks_mexico_city
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.215.a
	}
}

# Neutrals vs Fascists (Target)
country_event = {
	id = war_justification.216
	title = war_justification.216.t
	desc = war_justification.216.d
	picture = GFX_report_event_pla_in_beijing
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.216.a
	}
}

# Generic: Neighbor (Target)
country_event = {
	id = war_justification.217
	title = war_justification.217.t
	desc = war_justification.217.d
	picture = GFX_report_event_riot_police_poland
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.217.a
	}
}

# Generic: Mobilized Nation (Target)
country_event = {
	id = war_justification.218
	title = war_justification.218.t
	desc = war_justification.218.d
	picture = GFX_report_event_korean_war_march
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.218.a
	}
}

# Generic: Enemy Troops at the Border (Target)
country_event = {
	id = war_justification.219
	title = war_justification.219.t
	desc = war_justification.219.d
	picture = GFX_report_event_soldiers_marching
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.219.a
	}
}


# Generic: Any War (Target)
country_event = {
	id = war_justification.220
	title = war_justification.220.t
	desc = war_justification.220.d
	picture = GFX_report_event_tanks_vietnam
	
	is_triggered_only = yes
	
	option = {
		name = war_justification.220.a
	}
}

# Wargoal Expired
country_event = {
	id = war_justification.301
	title = war_justification.301.t
	desc = war_justification.301.d
	picture = GFX_report_event_iww_demonstration
	
	is_triggered_only = yes

	trigger = {
		has_war = no
	}
	
	option = {
		name = war_justification.301.a
		trigger = { has_government = democratic }
		add_political_power = -30
		add_war_support = -0.05
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
	}

	option = {
		name = war_justification.301.b
		trigger = { has_government = communism }
		add_political_power = -30
		add_war_support = -0.05
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}

	option = {
		name = war_justification.301.c
		trigger = {
			OR = {
				has_government = fascism
				has_government = neutrality
			}
		}
		add_political_power = -30
		add_war_support = -0.05
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
	}
}

add_namespace = wtt_britain 

#IRE gets choice; trade northern ireland in return for joining the alliance?
country_event = {
	id = wtt_britain.24
	title = wtt_britain.24.t
	desc = wtt_britain.24.d
	picture = GFX_report_event_generic_parliament

	is_triggered_only = yes
	
	#accept
	option = {
		ai_chance = {
			factor = 80
			modifier = {
				has_government = fascism
				factor = 0
			}
			modifier = {
				is_historical_focus_on = yes
				factor = 0
			}
		}
		name = wtt_britain.24.a
		IRE = { transfer_state = 119 }
		ENG = { add_to_faction = IRE }
		ENG = { country_event = { id = wtt_britain.28 } }
	}
	#decline
	option = {
		name = wtt_britain.24.b
		ENG = { country_event = { id = wtt_britain.29 } }
	}
}

#Mers-El-Kebir Raid: France gets choice; transfer fleet or lose a portion
country_event = {
	id = wtt_britain.25
	title = wtt_britain.25.t
	desc = wtt_britain.25.d
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes
	
	#accept
	option = {
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				has_opinion = { target = ENG value < -99 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = ENG value > -50 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = ENG value > -25 }
			}
			modifier = {
				factor = 2
				has_opinion = { target = ENG value > 0 }
			}
		}
		name = wtt_britain.25.a
		ENG = { country_event = { id = wtt_britain.26 } }
		hidden_effect = {
			news_event = { id = news.332 days = 1 }
		}
		transfer_navy = { target = ENG }
	}
	#decline
	option = {
		ai_chance = {
			factor = 90
		}
		name = wtt_britain.25.b
		ENG = { country_event = { id = wtt_britain.27 } }
	}
}

#Mers-El-Kebir Raid: Notification event for French accepted
country_event = {
	id = wtt_britain.26
	title = wtt_britain.26.t
	desc = wtt_britain.26.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	#excellent
	option = {
		name = wtt_britain.26.a
	}
}

#Mers-El-Kebir Raid: British informed of rejection; choice of going through with bombardment or not
country_event = {
	id = wtt_britain.27
	title = wtt_britain.27.t
	desc = wtt_britain.27.d
	picture = GFX_report_event_generic_sign_treaty1

	is_triggered_only = yes
	
	#bombard!
	option = {
		ai_chance = {
			factor = 85
		}
		name = wtt_britain.27.a
		add_popularity = { ideology = democratic popularity = -0.05 }
		add_war_support = 0.05
		random_other_country = {
			limit = {
				original_tag = FRA
				has_government = fascism
			}
			add_war_support = 0.05
			add_opinion_modifier = {
				target = ROOT
				modifier = FRA_mers_el_kebir
			}
		}
		if = {
			limit = {
				GER = { has_government = fascism }
			}
			GER = { add_popularity = { ideology = fascism popularity = 0.05 } }
		}
		if = {
			limit = {
				GER = { has_government = neutrality }
			}
			GER = { add_popularity = { ideology = neutrality popularity = 0.05 } }
		}
		USA = { set_country_flag = mers_el_kebir_raid }
		hidden_effect = {
			news_event = { id = news.333 days = 1 }
		}
		random_list = {
			60 = {
				random_other_country = {
					limit = {
						original_tag = FRA
						has_government = fascism
					}
					destroy_ships = {
						type = ship_hull_light
						count = 1
					}
					destroy_ships = {
						type = ship_hull_heavy
						count = 1
					}
				}
			}
			30 = {
				random_other_country = {
					limit = {
						original_tag = FRA
						has_government = fascism
					}
					destroy_ships = {
						type = ship_hull_light
						count = 2
					}
					destroy_ships = {
						type = ship_hull_heavy
						count = 2
					}
				}
			}
			10 = {
				random_other_country = {
					limit = {
						original_tag = FRA
						has_government = fascism
					}
					destroy_ships = {
						type = ship_hull_light
						count = 4
					}
					destroy_ships = {
						type = ship_hull_heavy
						count = 3
					}
				}
			}
		}
	}
	#let it go
	option = {
		ai_chance = {
			factor = 15
			modifier = {
				factor = 0
				FROM = { has_opinion = { target = ENG value < -99 } }
			}
			modifier = {
				factor = 1.5
				FROM = { has_opinion = { target = ENG value > -50 } }
			}
			modifier = {
				factor = 1.5
				FROM = { has_opinion = { target = ENG value > -25 } }
			}
			modifier = {
				factor = 2
				FROM = { has_opinion = { target = ENG value > 0 } }
			}
		}
		name = wtt_britain.27.b
		add_war_support = -0.05
	}
}

#MacDonald Proposal - Ireland Accepts
country_event = {
	id = wtt_britain.28
	title = wtt_britain.28.t
	desc = wtt_britain.28.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	#excellent
	option = {
		name = excellent
	}
}

#MacDonald Proposal - Ireland Rejects Offer
country_event = {
	id = wtt_britain.29
	title = wtt_britain.29.t
	desc = wtt_britain.29.d
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	#Damn
	option = {
		name = wtt_britain.29.a
	}
}

# Emergency Arms Deliveries
country_event = {
	id = wtt_britain.30
	title = wtt_britain.30.t
	desc = wtt_britain.30.d
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes
	
	#Praise the Americans!
	option = {
		name = wtt_britain.30.a
		effect_tooltip = {
			add_equipment_to_stockpile = { type = infantry_equipment_0 amount = 20000 producer = USA }
			add_equipment_to_stockpile = { type = artillery_equipment_1 amount = 250 producer = USA }
			add_equipment_to_stockpile = { type = support_equipment_1 amount = 250 producer = USA }
		}
	}
}
add_namespace = wtt_china

#

# China demands warlord be puppeted
country_event = {
	id = wtt_china.1
	title = wtt_china.1.t
	desc = wtt_china.1.desc
	picture = GFX_report_event_chinese_officers

	is_triggered_only = yes
	
	#Accept puppet
	option = {
		name = wtt_china.1.a
		ai_chance = { 
			base = 10 
			modifier = {
				has_global_flag = CHI_xian_refused
				factor = 0
			}
		}
		FROM = {
			puppet = ROOT
			country_event = { id = wtt_china.2 }
		}
	}

	#Never
	option = {
		name = wtt_china.1.b
		ai_chance = { 
			base = 10 
		}
		FROM = {
			country_event = { id = wtt_china.3 }
		}
	}
}

# Answer from warlord china.1 - Yes
country_event = {
	id = wtt_china.2
	title = wtt_china.2.t
	desc = wtt_china.2.desc
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes
	
	option = {
		name = wtt_china.2.a
	}
}


# Answer from warlord china.1 - No
country_event = {
	id = wtt_china.3
	title = wtt_china.3.t
	desc = wtt_china.3.desc
	picture = GFX_report_event_chinese_soldiers_01

	is_triggered_only = yes
	
	option = {
		name = wtt_china.3.a
		create_wargoal = {
				type = puppet_wargoal_focus
				target = FROM
		}
	}
}



# China demands ROOT be puppeted
country_event = {
	id = wtt_china.10
	title = wtt_china.10.t
	desc = wtt_china.10.desc
	picture = GFX_report_event_chinese_soldiers

	is_triggered_only = yes
	
	#Accept puppet
	option = {
		name = wtt_china.10.a
		ai_chance = { base = 10 }
		FROM = {
			puppet = ROOT
			country_event = { id = wtt_china.11 }
		}
	}
	option = {

		name = wtt_china.10.b
		ai_chance = {
			base = 10
			modifier = {
				tag = JAP
				add = 80 #TODO_WTT_AI script modifiers for how likely people are to accept puppeting
			}
		}
		FROM = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROOT
			}
			country_event = { id = wtt_china.12 }
		}
	}
}

# Answer from ROOT china.10 - Yes
country_event = {
	id = wtt_china.11
	title = wtt_china.11.t
	desc = wtt_china.11.desc
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes
	
	option = {
		name = wtt_china.11.a
	}
}


# Answer from ROOT china.10 - No
country_event = {
	id = wtt_china.12
	title = wtt_china.12.t
	desc = wtt_china.12.desc
	picture = GFX_report_event_chinese_soldiers_01

	is_triggered_only = yes
	
	option = {
		name = wtt_china.12.a
	}
}

add_namespace = wtt_xian_incident

#Xian incident - should Chiang go?
country_event = {
	id = wtt_xian_incident.1
	title = wtt_xian_incident.1.t
	desc = wtt_xian_incident.1.desc
	picture = GFX_report_event_china_politicians_captured

	is_triggered_only = yes #triggered by warlord decision

	immediate = {
		hidden_effect = {
			random_other_country = {
				limit = {
					has_country_flag = CHI_xian_instigator_flag
				}
				save_event_target_as = CHI_xian_instigator
			}
		}
	}
	
	option = {
		name = wtt_xian_incident.1.a #agree to go
		ai_chance = {
			base = 70
		}
		event_target:CHI_xian_instigator = { country_event = wtt_xian_incident.2 }
	}
	option = {
		name = wtt_xian_incident.1.b #refuse to go
		custom_effect_tooltip = CHI_xian_warlords_upset
		ai_chance = {
			base = 30
			modifier = {
				CHI_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		event_target:CHI_xian_instigator = { country_event = wtt_xian_incident.3 }
	}

}

#Xian incident - Chiang agrees
country_event = {
	id = wtt_xian_incident.2
	title = wtt_xian_incident.2.t
	desc = wtt_xian_incident.2.desc
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes
	
	option = {
		name = wtt_xian_incident.2.a #ask him to ally with the communists
		CHI = { country_event = wtt_xian_incident.4 }
	}

}

#Xian incident - Chiang refuses
country_event = {
	id = wtt_xian_incident.3
	title = wtt_xian_incident.3.t
	desc = wtt_xian_incident.3.desc
	picture = GFX_report_event_china_chiang_kai_shek

	is_triggered_only = yes
	
	option = {
		name = wtt_xian_incident.3.a
		set_global_flag = CHI_xian_refused
		if = {
			limit = {
				is_in_faction_with = FROM
			}
			FROM = { remove_from_faction = event_target:CHI_xian_instigator }
		}
		if = {
			limit = {
				is_subject_of = FROM
			}
			OVERLORD = { 
				set_autonomy = { 
					target = event_target:CHI_xian_instigator
					autonomy_state = autonomy_free 
				}
				create_wargoal = {
					type = puppet_wargoal_focus
					target = event_target:CHI_xian_instigator
				}
			}
		}
		clr_country_flag = CHI_xian_instigator_flag
	}
}

#Xian incident - Chiang asked to ally with commies
country_event = {
	id = wtt_xian_incident.4
	title = wtt_xian_incident.4.t
	desc = wtt_xian_incident.4.desc
	picture = GFX_report_event_china_politicians_captured

	is_triggered_only = yes
	
	option = {
		name = wtt_xian_incident.4.a #agree
		ai_chance = {
			base = 25
			modifier = {
				factor = 4
				has_war_with = JAP
			}
			modifier = {
				CHI_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
	}

	option = {
		name = wtt_xian_incident.4.b #disgree
		ai_chance = {
			base = 75
			modifier = {
				JAP = {
					NOT = {
						has_government = fascism #Japan doesn't seem interested in China
					}
				}
				factor = 2
			}
		}
		event_target:CHI_xian_instigator = { country_event = wtt_xian_incident.6 }
	}

}

#Xian incident - Chiang agrees to ally with commies, event for PRC
country_event = {
	id = wtt_xian_incident.5
	title = wtt_xian_incident.5.t
	desc = wtt_xian_incident.5.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = wtt_xian_incident.5.a #accept the proposal
		ai_chance = {
			base = 80
		}
		hidden_effect = {
			news_event = { id = news.288 days = 1 }
		}
		if = {
			limit = {
				NOT = { is_in_faction_with = CHI }
				CHI = { is_in_faction = no }
			}
			CHI = {
				set_rule = { can_create_factions = yes }
				create_faction = chinese_united_front
			}
		}
		if = {
			limit = {
				CHI = { is_faction_leader = yes }
			}
			every_country = {
				limit = {
					is_subject_of = CHI
				}
				CHI = { add_to_faction = PREV }
			}
		}
		event_target:CHI_xian_instigator = { clr_country_flag = CHI_xian_instigator_flag }
	}

	option = {
		name = wtt_xian_incident.5.b #no deal
		ai_chance = {
			base = 20
			modifier = {
				has_country_flag = SOV_xian_refuse
				factor = 0
			}
		}
		hidden_effect = {
			news_event = { id = wtt_news.33 days = 1 }
		}
	}

}

#Xian incident - Chiang refuses to ally with commies
country_event = {
	id = wtt_xian_incident.6
	title = wtt_xian_incident.6.t
	desc = wtt_xian_incident.6.desc
	picture = GFX_report_event_china_chiang_kai_shek

	is_triggered_only = yes
	
	option = {
		name = wtt_xian_incident.6.a #arrest him
		ai_chance = {
			base = 70
		}		
		CHI = { country_event = wtt_xian_incident.8 }
	}

	option = {
		name = wtt_xian_incident.6.b #nothing to be done
		ai_chance = {
			base = 30
			modifier = {
				CHI_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		event_target:CHI_xian_instigator = { clr_country_flag = CHI_xian_instigator_flag }
		#TODO_WTT_CD: News event: Chiang refuses proposal to ally with commies
	}

}

#Xian incident - Chiang arrested, execute?
country_event = {
	id = wtt_xian_incident.7
	title = wtt_xian_incident.7.t
	desc = { text = wtt_xian_incident.7.desc_a trigger = { NOT = { has_country_flag = SOV_xian_refuse } } }
	desc = { text = wtt_xian_incident.7.desc_b trigger = { has_country_flag = SOV_xian_refuse } }
	picture = GFX_report_event_china_politicians_captured

	is_triggered_only = yes
	
	option = {
		trigger = {
			NOT = {
				has_war_with = SOV
			}
			NOT = {
				has_country_flag = SOV_xian_refuse
			}
			SOV = { has_government = communism } # No point in asking a non-communist SOV
		}
		name = wtt_xian_incident.7.a #ask Soviets
		ai_chance = {
			base = 70
		}

		SOV = { country_event = { id = wtt_xian_incident.9 days = 1 } }
	}

	option = {
		name = wtt_xian_incident.7.b #just do it
		ai_chance = {
			base = 30
			modifier = {
				CHI_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		CHI = {
			kill_country_leader = yes
			if = {
				limit = {
					NOT = {
						has_global_flag = CHI_wang_defects
					}
				}
				create_country_leader = {
					name = "Wang Jingwei"
					desc = "POLITICS_WANG_JINGWEI_DESC"
					picture = "GFX_portrait_chi_wang_jingwei"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						#
					}
				}
			}
			create_wargoal = {
				target = PREV
				type = annex_everything
			}
		}
		hidden_effect = {
			news_event = { id = wtt_news.30 days = 1 }
		}
		event_target:CHI_xian_instigator = { clr_country_flag = CHI_xian_instigator_flag }
	}
	option = {
		name = wtt_xian_incident.7.c #don't do it, offer to ally instead
		ai_chance = {
			base = 30
		}
		CHI = {
			country_event = wtt_xian_incident.10
		}
		
	}
	option = {
		name = wtt_xian_incident.7.d #no deals with anyone
		ai_chance = {
			base = 0
		}
		hidden_effect = {
			news_event = { id = wtt_news.33 days = 1 random_hours = 36 }
		}
		
	}

}
#Xian incident - Chiang arrested, intervene?
country_event = {
	id = wtt_xian_incident.8
	title = wtt_xian_incident.8.t
	desc = wtt_xian_incident.8.desc
	picture = GFX_report_event_chinese_officers

	is_triggered_only = yes
	
	option = {
		name = wtt_xian_incident.8.a #military option
		ai_chance = {
			base = 30
			modifier = {
				has_war = no
				factor = 1.5
			}
			modifier = {
				CHI_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		declare_war_on = { 
			type = annex_everything
			target = event_target:CHI_xian_instigator
		}
		event_target:CHI_xian_instigator = { clr_country_flag = CHI_xian_instigator_flag }
	}

	option = {
		name = wtt_xian_incident.8.b #don't do anything
		ai_chance = {
			base = 70
		}
	}
}

#Xian incident - Chiang arrested, commies want to execute, allow? (SOV)
country_event = {
	id = wtt_xian_incident.9
	title = wtt_xian_incident.9.t
	desc = wtt_xian_incident.9.desc
	picture = GFX_report_event_stalin_meeting

	is_triggered_only = yes
	
	option = {
		ai_chance = {
			base = 50
			modifier = {
				CHI_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		name = wtt_xian_incident.9.a #approve
		CHI = {
			kill_country_leader = yes
			if = {
				limit = {
					NOT = {
						has_global_flag = CHI_wang_defects
					}
				}
				create_country_leader = {
					name = "Wang Jingwei"
					desc = "POLITICS_WANG_JINGWEI_DESC"
					picture = "GFX_portrait_chi_wang_jingwei"
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						#
					}
				}
			}
		}
		event_target:CHI_xian_instigator = { clr_country_flag = CHI_xian_instigator_flag }
		hidden_effect = {
			news_event = { id = wtt_news.31 days = 1 }
		}
	}

	option = {
		name = wtt_xian_incident.9.b #disapprove
		ai_chance = {
			base = 50
			modifier = {
				has_war_with = JAP
				factor = 3
			}
		}
		FROM = {
			set_country_flag = SOV_xian_refuse
			country_event = wtt_xian_incident.7
		}
	}
}

#Xian incident - PRC opts for the United Front, event for CHI
country_event = {
	id = wtt_xian_incident.10
	title = wtt_xian_incident.10.t
	desc = wtt_xian_incident.10.desc
	picture = GFX_report_event_china_chiang_mao

	is_triggered_only = yes
	
	option = {
		
		name = wtt_xian_incident.10.a #approve
		ai_chance = {
			base = 50
		}
		hidden_effect = {
			news_event = { id = news.288 days = 1 } # United Front forms
		}
		if = {
			limit = {
				NOT = { is_in_faction_with = CHI }
				CHI = { is_in_faction = no }
			}
			CHI = {
				set_rule = { can_create_factions = yes }
				create_faction = chinese_united_front
			}
		}
		if = {
			limit = {
				CHI = { is_faction_leader = yes }
			}
			every_country = {
				limit = {
					is_subject_of = CHI
				}
				CHI = { add_to_faction = PREV }
			}
		}
		event_target:CHI_xian_instigator = { clr_country_flag = CHI_xian_instigator_flag }
	}

	option = {
		name = wtt_xian_incident.10.b #disapprove
		ai_chance = {
			base = 10
			modifier = {
				CHI_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		reverse_add_opinion_modifier = { target = FROM modifier = CHI_xian_refused }
		hidden_effect = {
			news_event = { id = wtt_news.32 days = 1 }
		}
		event_target:CHI_xian_instigator = { clr_country_flag = CHI_xian_instigator_flag }
	}
}

add_namespace = wtt_china_shared

# China anti-imperialism notification event
country_event = {
	id = wtt_china_shared.1
	title = wtt_china_shared.1.t
	desc = wtt_china_shared.1.desc
	picture = GFX_report_event_chinese_soldiers_02

	is_triggered_only = yes
	
	option = { #accept
		name = wtt_china_shared.1.a
		ai_chance = {
			base = 70
		}
		add_ideas = CHI_chinese_support
		FROM = {
			country_event = wtt_china_shared.2
		}
		OVERLORD = { #TODO_WTT_CD TEST THIS: Maybe problematic case with Mongolia, noted in the tooltip when I tested the event, but where no event is triggered. To be tested for confirmation
			country_event = wtt_china_shared.4
		}
	}
	option = { #refuse
		name = wtt_china_shared.1.b
		ai_chance = {
			base = 30
		}
		reverse_add_opinion_modifier = {
			target = FROM
			modifier = CHI_refused_support
		}
		FROM = {
			country_event = wtt_china_shared.3
		}
	}
}
#country accepts support
country_event = {
	id = wtt_china_shared.2
	title = wtt_china_shared.2.t
	desc = wtt_china_shared.2.desc
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes
	
	option = { #accept
		name = wtt_china_shared.2.a
	}
}
#country refuses support
country_event = {
	id = wtt_china_shared.3
	title = wtt_china_shared.3.t
	desc = wtt_china_shared.3.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = { #accept
		name = wtt_china_shared.3.a
	}
}
#country has accepted support, event for overlord
country_event = {
	id = wtt_china_shared.4
	title = wtt_china_shared.4.t
	desc = wtt_china_shared.4.desc
	picture = GFX_report_event_journalists_speech

	is_triggered_only = yes
	
	option = { #accept
		name = wtt_china_shared.4.a
	}
}

#ask for American volunteers - event for USA
country_event = {
	id = wtt_china_shared.10
	title = wtt_china_shared.10.t
	desc = { text = wtt_china_shared.10.desc_a trigger = { FROM = { has_idea = CHI_soong_mei_ling } } }
	desc = { text = wtt_china_shared.10.desc_b trigger = { NOT = { FROM = { has_idea = CHI_soong_mei_ling } } } }
	picture = GFX_report_event_china_flying_tigers

	is_triggered_only = yes
	
	option = { #accept
		name = wtt_china_shared.10.a
		ai_chance = {
			base = 70
			modifier = {
				JAP = {
					NOT = {
						has_government = fascism
					}
				}
				factor = 0.5
			}
			modifier = {
				has_war_support < 0.5
				factor = 2
			}
			modifier = {
				FROM = {
					has_idea = CHI_soong_mei_ling
				}
				factor = 2 #this nice lady wants to buy some fighter planes, who are we to tell her no? So what if she has no money?
			}
		}
		set_country_flag = CHI_flying_tigers
		add_war_support = 0.05
		add_ai_strategy = {
			type = send_volunteers_desire
			id = ROOT
			value = 200
		}
		add_ai_strategy = {
			type = support
			id = ROOT
			value = 200
		}
		hidden_effect = {
			news_event = { id = wtt_news.34 days = 1 }
		}
	}

	option = { #refuse
		name = wtt_china_shared.10.b
		ai_chance = {
			base = 30
		}
		reverse_add_opinion_modifier = { target = FROM modifier = CHI_refused_support }
		add_war_support = -0.1
		JAP = {
			add_opinion_modifier = { target = USA modifier = large_increase }
		}
	}
}

#ask for Soviet volunteers - event for SOV
country_event = {
	id = wtt_china_shared.11
	title = wtt_china_shared.11.t
	desc = { text = wtt_china_shared.11.desc_a trigger = { FROM = { has_government = communism } } }
	desc = { text = wtt_china_shared.11.desc_b trigger = { NOT = { FROM = { has_government = communism } } } }
	picture = GFX_report_event_china_soviet_volunteers

	is_triggered_only = yes
	
	option = { #accept
		name = wtt_china_shared.11.a
		ai_chance = {
			base = 70
		}
		set_country_flag = CHI_soviet_volunteer_group
		air_experience = 25
		add_ai_strategy = {
			type = send_volunteers_desire
			id = ROOT
			value = 200
		}
		add_ai_strategy = {
			type = support
			id = ROOT
			value = 200
		}
		unlock_decision_tooltip = CHI_soviet_volunteer_group
	}

	option = { #refuse
		name = wtt_china_shared.11.b
		ai_chance = {
			base = 30
			modifier = {
				SOV_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		reverse_add_opinion_modifier = { target = FROM modifier = CHI_refused_support }
		add_war_support = -0.1
		JAP = {
			add_opinion_modifier = { target = SOV modifier = large_increase }
		}
	}
}
#FROM invites Stillwell - event for USA
country_event = {
	id = wtt_china_shared.12
	title = wtt_china_shared.12.t
	desc = wtt_china_shared.12.desc
	picture = GFX_report_event_chinese_officers

	is_triggered_only = yes
	
	option = { #accept - Stillwell
		name = wtt_china_shared.12.a
		ai_chance = {
			base = 30
		}
		set_country_flag = joseph_stilwell_sent_to_china
		random_army_leader = { 
			limit = { has_id = 601 }
			set_nationality = FROM
			save_event_target_as = CHI_USA_general
		}
		FROM = {
			country_event = wtt_china_shared.13
		}
	}

	option = { #accept - MacArthur
		name = wtt_china_shared.12.c
		ai_chance = {
			base = 30
			modifier = {
				USA_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		set_country_flag = joseph_stilwell_sent_to_china
		USA_douglas_macarthur = {
			set_nationality = FROM
			save_event_target_as = CHI_USA_general
		}
		FROM = {
			country_event = wtt_china_shared.13
		}
	}

	option = { #accept - Eisenhower
		name = wtt_china_shared.12.d
		ai_chance = {
			base = 30
			modifier = {
				USA_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		set_country_flag = joseph_stilwell_sent_to_china
		USA_dwight_d_eisenhower = { 
			set_nationality = FROM
			save_event_target_as = CHI_USA_general
		}
		FROM = {
			country_event = wtt_china_shared.13
		}
	}

	option = { #refuse
		name = wtt_china_shared.12.b
		ai_chance = {
			base = 10
			modifier = {
				USA_is_on_historical_plan_trigger = yes
				factor = 0
			}
		}
		reverse_add_opinion_modifier = { target = FROM modifier = CHI_refused_support }
		add_war_support = -0.1
		FROM = {
			country_event = wtt_china_shared.14
		}
	}
}

#FROM invites Stillwell - positive response
country_event = {
	id = wtt_china_shared.13
	title = wtt_china_shared.13.t
	desc = wtt_china_shared.13.desc
	picture = GFX_report_event_generic_usa_treaty

	is_triggered_only = yes
	
	option = { #accept
		name = wtt_china_shared.13.a
		effect_tooltip = {
			USA = {
				event_target:CHI_USA_general = { 
					set_nationality = FROM.FROM
				}
			}
		}
	}
}

#FROM invites Stillwell - negative response
country_event = {
	id = wtt_china_shared.14
	title = wtt_china_shared.14.t
	desc = wtt_china_shared.14.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = { #accept
		name = wtt_china_shared.14.a
	}
}

###  #  # ###  #   #  ##      ###   ##   ##  ###  
#  # #  # #  # ## ## #  #     #  # #  # #  # #  # 
###  #  # ###  # # # ####     ###  #  # #### #  # 
#  # #  # #  # #   # #  #     #  # #  # #  # #  # 
###   ##  #  # #   # #  #     #  #  ##  #  # ###  

add_namespace = wtt_burma_road
#Info event that Burma road has been closed due to occupation of state
country_event = {
	id = wtt_burma_road.1
	title = wtt_burma_road.1.t
	desc = wtt_burma_road.1.desc
	picture = GFX_report_event_burma_road
	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.1.a
	}

}

#Info event that Burma road has been closed from decision.
country_event = {
	id = wtt_burma_road.2
	title = wtt_burma_road.1.t
	
	desc = {
		text = wtt_burma_road.2.desc
		trigger = {
			NOT = { FROM = { has_war_with = ROOT } }
		}
	}

	desc = {
		text = wtt_burma_road.2.desc_war_with_from
		trigger = {
			FROM = { has_war_with = ROOT }
		}
	}
	picture = GFX_report_event_generic_sign_treaty2

	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.1.a
	}

}

#Info event that part of the route has been reopened from decision.
country_event = {
	id = wtt_burma_road.3
	title = wtt_burma_road.3.t
	desc = wtt_burma_road.3.desc
	picture = GFX_report_event_ledo_road

	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.3.a
	}

}

#Info event that route is fully reopened from decision.
country_event = {
	id = wtt_burma_road.4
	title = wtt_burma_road.4.t
	desc = wtt_burma_road.4.desc
	picture = GFX_report_event_burma_road

	is_triggered_only = yes	

	option = {
		name = wtt_burma_road.4.a
		add_offsite_building = { type = arms_factory level = CHI_burma_road_closed_level }			
		set_variable = { CHI_burma_road = CHI_burma_road_closed_level }
		clear_variable = CHI_burma_road_closed_level
	}

}

#   ### ###   ##      ###   ##   ##  ###  
#   #   #  # #  #     #  # #  # #  # #  # 
#   ##  #  # #  #     ###  #  # #### #  # 
#   #   #  # #  #     #  # #  # #  # #  # 
### ### ###   ##      #  #  ##  #  # ###  

add_namespace = wtt_ledo_road
#Info event that Ledo road has been closed due to occupation of state
country_event = {
	id = wtt_ledo_road.1
	title = wtt_ledo_road.1.t
	desc = wtt_ledo_road.1.desc
	picture = GFX_report_event_nationalist_china_machinegun_firing

	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.1.a
	}

}

#Info event that Ledo road has been closed from decision.
country_event = {
	id = wtt_ledo_road.2
	title = wtt_ledo_road.1.t
	
	desc = {
		text = wtt_ledo_road.2.desc
		trigger = {
			NOT = { FROM = { has_war_with = ROOT } }
		}
	}

	desc = {
		text = wtt_ledo_road.2.desc_war_with_from
		trigger = {
			FROM = { has_war_with = ROOT }
		}
	}
	picture = GFX_report_event_indian_soldiers #TODO_WTT_CD event pic

	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.1.a
	}

}

#Info event that part of the route has been reopened from decision.
country_event = {
	id = wtt_ledo_road.3
	title = wtt_ledo_road.3.t
	desc = wtt_ledo_road.3.desc
	picture = GFX_report_event_ledo_road

	is_triggered_only = yes
	

	option = {
		name = wtt_ledo_road.3.a
	}

}

#Info event that route is fully reopened from decision.
country_event = {
	id = wtt_ledo_road.4
	title = wtt_ledo_road.4.t
	desc = wtt_ledo_road.4.desc
	picture = GFX_report_event_ledo_road

	is_triggered_only = yes	

	option = {
		name = wtt_ledo_road.4.a
		add_offsite_building = { type = arms_factory level = CHI_ledo_road_closed_level }			
		set_variable = { CHI_ledo_road = CHI_ledo_road_closed_level }
		clear_variable = CHI_ledo_road_closed_level
	}

}

#  #  ##  #  #  ##  ###     ###   ##  #  # ### ### 
#  # #  # ## # #  #  #      #  # #  # #  #  #  #   
#### #### # ## #  #  #      ###  #  # #  #  #  ##  
#  # #  # #  # #  #  #      #  # #  # #  #  #  #   
#  # #  # #  #  ##  ###     #  #  ##   ##   #  ### 

add_namespace = wtt_hanoi_route
#Info event that Hanoi route road has been closed due to occupation of state
country_event = {
	id = wtt_hanoi_route.1
	title = wtt_hanoi_route.1.t
	desc = wtt_hanoi_route.1.desc
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.1.a
	}

}

#Info event that Hanoi route has been closed from decision.
country_event = {
	id = wtt_hanoi_route.2
	title = wtt_hanoi_route.1.t
	
	desc = {
		text = wtt_hanoi_route.2.desc
		trigger = {
			NOT = { FROM = { has_war_with = ROOT } }
		}
	}

	desc = {
		text = wtt_hanoi_route.2.desc_war_with_from
		trigger = {
			FROM = { has_war_with = ROOT }
		}
	}
	picture = GFX_report_event_merchant_ship_01

	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.1.a
	}

}


### #  # ###     #  # #  # #   # ###  
 #  #  # #       #  # #  # ## ## #  # 
 #  #### ##      #### #  # # # # ###  
 #  #  # #       #  # #  # #   # #    
 #  #  # ###     #  #  ##  #   # #    
add_namespace = wtt_the_hump
#Info event that hump route road has been closed due to occupation of state
country_event = {
	id = wtt_the_hump.1
	title = wtt_the_hump.1.t
	desc = wtt_the_hump.1.desc
	picture = GFX_report_event_nationalist_china_machinegun_firing

	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.1.a
	}

}

#Info event that The Hump has been closed from decision.
country_event = {
	id = wtt_the_hump.2
	title = wtt_the_hump.1.t
	
	desc = {
		text = wtt_the_hump.2.desc
		trigger = {
			NOT = { FROM = { has_war_with = ROOT } }
		}
	}

	desc = {
		text = wtt_the_hump.2.desc_war_with_from
		trigger = {
			FROM = { has_war_with = ROOT }
		}
	}
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	

	option = {
		name = wtt_burma_road.1.a
	}

}

#Info event that part of the route has been reopened from decision.
country_event = {
	id = wtt_the_hump.3
	title = wtt_the_hump.3.t
	desc = wtt_the_hump.3.desc
	picture = GFX_report_event_generic_bombers

	is_triggered_only = yes
	

	option = {
		name = wtt_the_hump.3.a
	}

}

#Info event that route is fully reopened from decision.
country_event = {
	id = wtt_the_hump.4
	title = wtt_the_hump.4.t
	desc = wtt_the_hump.4.desc
	picture = GFX_report_event_generic_bombers

	is_triggered_only = yes	

	option = {
		name = wtt_the_hump.4.a
	}

}

###########################
# Danish Events
###########################

add_namespace = wtt_denmark

#Notification event for Hungary and Romania for Integrate War Economies
country_event = {
	id = wtt_germany.7
	title = wtt_germany.7.t
	desc = wtt_germany.7.d
	picture = GFX_report_event_tank_factory

	is_triggered_only = yes

	option = {
		name = wtt_germany.7.a
		effect_tooltip = {
			if = {
				limit = { 
					tag = HUN
				}
				GER = { puppet = HUN }
			}
			if = {
				limit = { 
					tag = ROM
				}
				GER = { puppet = ROM }
			}
			every_state = {
				limit = { has_state_flag = GER_integrate_war_economies }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}
	}
}

# Germany (France and Britain go to war)
country_event = {
	id = wtt_germany.33
	title = germany.65.t
	desc = wtt_germany.33.d
	picture = GFX_report_event_british_artillery
	
	is_triggered_only = yes
	
	option = {
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio < 1
				}
				strength_ratio = {
					tag = ENG
					ratio < 1
				}
			}
		}
		name = wtt_germany.33.a
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 } 
			}
			country_event = wtt_germany.37
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { id = wtt_news.12 hours = 6 }
		}
	}
	option = {
		name = germany.65.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				strength_ratio = {
					tag = FRA
					ratio > 1
				}
				strength_ratio = {
					tag = ENG
					ratio > 1
				}
			}
		}
		hidden_effect = {
			news_event = { id = wtt_news.13 hours = 6 }
		}
		set_country_flag = GER_rhineland_backed_down
		if = {
			limit = {
				has_country_flag = kaiser_wilhelm_ii
			}
			GER_wilhelm_iii = {
				add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = {}
				}
				promote_leader = yes
				}
			}
		}
		white_peace = HOL
		add_timed_idea = {
			idea = kaiser_challenge_met
			days = 183
		}
	}
}

# Germany (France goes to war)
country_event = {
	id = wtt_germany.34
	title = germany.66.t
	desc = wtt_germany.34.d
	picture = GFX_report_event_degaulle_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = wtt_germany.33.a
		add_war_support = 0.1 #original German clay
		ENG = { 
			country_event = wtt_germany.36 
			if = {
				limit = {
					ENG = { 
						is_in_faction_with = FRA 
						is_faction_leader = yes
					}
				}
				remove_from_faction = FRA
			}
		}
		FRA = {
			declare_war_on = {
				target = GER
				type = take_state_focus
				generator = { 42 51 } 
			}
			country_event = wtt_germany.37
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					NOT = { has_government = communism }
				}
				start_civil_war = {
					ideology = communism
					size = 0.2
				}
			}
			if = {
				limit = { 
					has_idea = FRA_disjointed_government 
					has_government = communism
				}
				start_civil_war = {
					ideology = democratic
					size = 0.3
				}
			}
		}
		hidden_effect = {
			news_event = { id = wtt_news.14 hours = 6 }
		}
	}

	option = {
		name = germany.65.b
		hidden_effect = {
			news_event = { id = wtt_news.15 hours = 6 }
		}
		set_country_flag = GER_rhineland_backed_down
		add_war_support = -0.2 #That was scary for a moment there!
		if = {
			limit = {
				has_country_flag = kaiser_wilhelm_ii
			}
			GER_wilhelm_iii = {
				add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = {}
				}
				promote_leader = yes
				}
			}
		}
		add_timed_idea = {
			idea = rhineland_challenge_met
			days = 183
		}
	}
}

# Britain (France Backs Down)
country_event = {
	id = wtt_germany.35
	title = germany.67.t
	desc = germany.67.d
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	option = {
		name = germany.67.a
		add_opinion_modifier = { target = GER modifier = protest_action }
		GER = {
			add_war_support = 0.1
		}
	}
}

# Britain (France Goes Ahead Anyway)
country_event = {
	id = wtt_germany.36
	title = germany.68.t
	desc = germany.68.d
	picture = GFX_report_event_french_liberation
	
	is_triggered_only = yes
	
	option = {
		name = germany.68.a
	}
}

# France/England (Germany Refuses Ultimatum)
country_event = {
	id = wtt_germany.37
	title = germany.92.t
	desc = wtt_germany.35.d
	picture = GFX_report_event_worried_french
	
	is_triggered_only = yes
	
	option = {
		name = germany.92.a
	}
}

### Tsingtao return

#China

# Germans demand return of Tsingtao
country_event = {
	id = wtt_germany.38
	title = wtt_germany.38.t
	desc = wtt_germany.38.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Demand continued support of Von Falkenhausen in return
	option = {
		name = wtt_germany.38.a
		ai_chance = {
			factor = 80
		}
		trigger = {
			event_target:WTT_current_china_leader = {
				OR = {
					has_idea = german_advisors 
					has_completed_focus = CHI_give_falkenhausen_citizenship
				}
			}
		}
		GER = { country_event = { id = wtt_germany.39 days = 1 } }
	}

	# Accept
	option = {
		name = wtt_germany.38.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				has_war_with = JAP
			}
		}
		effect_tooltip = {
			GER = { transfer_state = 743 }
			743 = { set_state_name = "Tsingtao" }
			set_province_name = { id = 10000 name = "Tsingtao" }
		}
		GER = { country_event = { id = wtt_germany.48 days = 1 } }
		hidden_effect = { news_event = { id = wtt_news.16 hours = 30 } }
	}

	# No!
	option = {
		name = wtt_germany.38.c
		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				has_war_with = JAP
			}
		}
		GER = { country_event = { id = wtt_germany.40 days = 1 } }
	}
}

# China demands continued support of Von Falkenhausen in return
country_event = {
	id = wtt_germany.39
	title = wtt_germany.39.t
	desc = wtt_germany.39.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Accept
	option = {
		name = wtt_germany.39.a
		set_country_flag = GER_von_falkenhausen_promise_to_china
		transfer_state = 743
		743 = { set_state_name = "Tsingtao" }
		set_province_name = { id = 10000 name = "Tsingtao" }
		FROM = { country_event = { id = wtt_germany.41 } }
	}

	# No!
	option = {
		name = wtt_germany.39.b
		FROM = { country_event = { id = wtt_germany.42 } }
	}
}

# German notification event that China rejected request
country_event = {
	id = wtt_germany.40
	title = wtt_germany.40.t
	desc = wtt_germany.40.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Too bad
	option = {
		name = wtt_germany.40.a
		add_state_claim = 743
	}
}

# Chinese notification event that Germany accepted offer
country_event = {
	id = wtt_germany.41
	title = wtt_germany.41.t
	desc = wtt_germany.41.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# excellent
	option = {
		name = excellent
		hidden_effect = { news_event = { id = wtt_news.16 hours = 6 } }
	}
}

# Chinese notification event that Germany rejected offer
country_event = {
	id = wtt_germany.42
	title = wtt_germany.42.t
	desc = wtt_germany.42.desc
	picture = GFX_report_event_generic_read_write
	
	is_triggered_only = yes
	
	# Too bad
	option = {
		name = unfortunate
	}
}

# Event asking whether HUN/ROM want to become puppet in return for factories.
country_event = {
	id = wtt_germany.72
	title = wtt_germany.72.t
	desc = wtt_germany.72.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = { # Yaplx
		name = wtt_germany.72.a
		effect_tooltip = {
			GER = {
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = GER_integrate_war_economies }
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = arms_factory
							size > 1
							include_locked = yes
						}
						NOT = { has_state_flag = GER_integrate_war_economies }
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = GER_integrate_war_economies
				}
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_integrate_war_economies_1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_integrate_war_economies_2
			}
			if = {
				limit = {
					has_dlc = "Death or Dishonor" 
					is_in_faction_with = FROM
					FROM = { is_subject = no }
				}
				FROM = {
					set_autonomy = { target = ROOT autonomy_state = autonomy_satellite }
				}
			}
			if = {
				limit = { 
					has_dlc = "Together for Victory"
					NOT = { has_dlc = "Death or Dishonor" } 
					is_in_faction_with = FROM
					FROM = { is_subject = no }
				}
				FROM = {
					set_autonomy = { target = ROOT autonomy_state = autonomy_dominion }
				}
			}
			if = {
				limit = { 
					NOT = { has_dlc = "Together for Victory" }
					NOT = { has_dlc = "Death or Dishonor" }
					is_in_faction_with = FROM
					FROM = { is_subject = no }
				}
				FROM = { puppet = ROOT }
			}
		}
		custom_effect_tooltip = wtt_germany.72_tt
		FROM = {
			country_event = { id = wtt_germany.73 days = 1 }
		}
	}
	option = { # Hell naw
		name = wtt_germany.72.b
		ai_chance = {
			factor = 0
		}
		FROM = {
			country_event = { id = wtt_germany.74 days = 1 }
		}
	}
}

# Event for GER saying HUN/ROM accepted
country_event = {
	id = wtt_germany.73
	title = wtt_germany.73.t
	desc = wtt_germany.73.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.73.a
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
				NOT = { has_state_flag = GER_integrate_war_economies }
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = GER_integrate_war_economies
		}
		random_owned_controlled_state = {
			limit = {
				free_building_slots = {
					building = arms_factory
					size > 1
					include_locked = yes
				}
				NOT = { has_state_flag = GER_integrate_war_economies }
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = arms_factory
				level = 2
				instant_build = yes
			}
			set_state_flag = GER_integrate_war_economies
		}
		FROM = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_integrate_war_economies_1
			}
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = GER_integrate_war_economies_2
			}
		}
		if = {
			limit = {
				has_dlc = "Death or Dishonor" 
				is_subject = no
			}
			every_country = {
				limit = {
					is_subject_of = FROM
				}
				ROOT = { set_autonomy = { target = PREV autonomy_state = autonomy_satellite } }
			}
			set_autonomy = { target = FROM autonomy_state = autonomy_satellite }
		}
		if = {
			limit = { 
				has_dlc = "Together for Victory"
				NOT = { has_dlc = "Death or Dishonor" } 
				is_subject = no
			}
			every_country = {
				limit = {
					is_subject_of = FROM
				}
				ROOT = { set_autonomy = { target = PREV autonomy_state = autonomy_dominion } }
			}
			set_autonomy = { target = FROM autonomy_state = autonomy_dominion }
		}
		if = {
			limit = { 
				NOT = { has_dlc = "Together for Victory" }
				NOT = { has_dlc = "Death or Dishonor" }
				is_subject = no
			}
			every_country = {
				limit = {
					is_subject_of = FROM
				}
				ROOT = { puppet = PREV }
			}
			puppet = FROM
		}
	}
}

# Event for GER saying HUN/ROM rejected
country_event = {
	id = wtt_germany.74
	title = wtt_germany.74.t
	desc = wtt_germany.74.desc
	picture = GFX_report_event_generic_read_write

	is_triggered_only = yes
	
	option = {
		name = wtt_germany.74.a
	}
}

#################

country_event = {
	id = wtt_germany.999
	title = wtt_germany.999.t
	desc = wtt_germany.999.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = wtt_germany.999.a
		ai_chance = {
			factor = 100
		}
		FROM = { country_event = { id = wtt_germany.1000 days = 1 } }
	}
	option = {
		name = wtt_germany.999.b
		ai_chance = {
			factor = 0
		}
		FROM = { country_event = { id = wtt_germany.1003 days = 1 } }
	}
}


country_event = {
	id = wtt_germany.1000
	title = wtt_germany.1000.t
	desc = wtt_germany.1000.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = wtt_germany.1000.a
		custom_effect_tooltip = wtt_germany.1000.a_tt
		add_political_power = -50
		ENG = { add_opinion_modifier = { target = GER modifier = GER_aided_in_ceremony_preparations } }
		hidden_effect = {
			country_event = { id = wtt_germany.1001 days = 3 random_days = 4 }
		}
	}
	option = {
		name = wtt_germany.1000.b
		custom_effect_tooltip = wtt_germany.1000.b_tt
		add_political_power = 50
		hidden_effect = {
			country_event = { id = wtt_germany.1002 days = 3 random_days = 4 }
		}
	}
}

country_event = {
	id = wtt_germany.1001
	title = wtt_germany.1001.t
	desc = wtt_germany.1001.desc
	picture = GFX_report_event_hindenburg_flames

	is_triggered_only = yes

	option = {
		name = wtt_germany.1001.a
		add_stability = -0.1
		kill_country_leader = yes
		GER_victoria = {
			add_country_leader_role = {
				country_leader = {
					expire = "1965.1.1"
					ideology = despotism
					traits = {
						kaiserin_of_the_people
						victoria_iii # Third Victoria counting from Queen Victoria hurr durr
					}
				}
				promote_leader = yes
			}
		}
		hidden_effect = { set_global_flag = hindenburg_destroyed }
	}
}

country_event = {
	id = wtt_germany.1002
	title = wtt_germany.1001.t
	desc = wtt_germany.1002.desc
	picture = GFX_report_event_hindenburg_flames

	is_triggered_only = yes

	option = {
		name = wtt_germany.1002.a
		add_stability = -0.2
		kill_country_leader = yes
		hidden_effect = { set_global_flag = hindenburg_destroyed }
	}
}

country_event = {
	id = wtt_germany.1003
	title = wtt_germany.1003.t
	desc = wtt_germany.1003.desc
	picture = GFX_report_event_generic_conference

	is_triggered_only = yes

	option = {
		name = wtt_germany.1003.a
		hidden_effect = {
			country_event = { id = wtt_germany.1000 days = 1 }
		}
	}
}

country_event = {
	id = wtt_germany.1004

	hidden = yes

	is_triggered_only = yes

	immediate = {
		set_politics = { 
			ruling_party = fascism 
			elections_allowed = no 
		}
		add_country_leader_role = {
			character = ARG_senor_hitler
			country_leader={
				expire = "1965.1.1"
				ideology = nazism
				traits = {
					dictator
					incognito
				}
			}
			promote_leader = yes
		}
	}
}

country_event = {
	id = wtt_germany.1005

	hidden = yes

	is_triggered_only = yes

	immediate = {
		random_list = {
			50 = {
				create_operative_leader = {
					name = "Achim Hund"
					GFX = GFX_portrait_germany_agent_h_m
					traits = { operative_natural_orator }
					bypass_recruitment = no
					available_to_spy_master = yes
				}
			}
			50 = {
				create_operative_leader = {
					name = "Andrea Hund"
					GFX = GFX_portrait_germany_agent_h_f
					traits = { operative_seducer operative_natural_orator }
					bypass_recruitment = no
					available_to_spy_master = yes
					female = yes
				}
			}
		}
	}
}
add_namespace = wtt_japan

#Jakob ID 1-100
#Drikus ID 101-200
#Gabriel ID 201-300

 ##  #   # ### ###  #    ##  ###  ###  
#  # #   # #   #  # #   #  # #  # #  # 
#  #  # #  ##  ###  #   #  # ###  #  # 
#  #  # #  #   #  # #   #  # #  # #  # 
 ##    #   ### #  # ###  ##  #  # ###  

#Japans asks to take overlordship if country has capitulated
country_event = {
	id = wtt_japan.1
	title = wtt_japan.1.t
	desc = wtt_japan.1.desc
	picture = GFX_report_event_japanese_transport_soldiers

	is_triggered_only = yes
	
	#Accept transfer puppet
	#Checking for puppet in decision that fires event.
	option = {
		name = wtt_japan.1.a
		ai_chance = {
			base = 10
		}
		if = {
			limit = { ROOT = { tag = HOL }
			}
			FROM = { puppet = INS }
		}

		if = {
			limit = { ROOT = { tag = FRA } }
			if = {
				limit = {
					670 = {
						is_fully_controlled_by = FRA
					}
				}
				FROM = { transfer_state = 670 }
			}
			if = {
				limit = {
					671 = {
						is_fully_controlled_by = FRA
					}
				}
				FROM = { transfer_state = 671 }
			}
			if = {
				limit = {
					286 = {
						is_fully_controlled_by = FRA
					}
				}
				FROM = { transfer_state = 286 }
			}
			if = {
				limit = {
					741 = {
						is_fully_controlled_by = FRA
					}
				}
				FROM = { transfer_state = 741 }
			}
		}
		FROM = { country_event = { id = wtt_japan.2 days = 1 } }
	}

	#Refuse
	option = {
		name = wtt_japan.1.b
		ai_chance = {
			base = 0
		}
		FROM = { country_event = { id = wtt_japan.3 days = 1 } }
	}
}

#Answer from wtt_japan.1 - FROM accepts
country_event = {
	id = wtt_japan.2
	title = wtt_japan.2.t
	desc = wtt_japan.2.desc
	picture = GFX_report_event_generic_sign_treaty3

	is_triggered_only = yes
	
	#Accept transfer puppet
	#Checking for puppet in decision that fires event.
	option = {
		name = wtt_japan.2.a
		ai_chance = {
			base = 10
		}
		effect_tooltip = {
			if = {
				limit = { FROM = { tag = HOL }
				}
				puppet = INS
			}

			if = {
				limit = { FROM = { tag = FRA } }
				if = {
					limit = { 670 = { is_fully_controlled_by = ROOT } }
					transfer_state = 670
				}
				if = {
					limit = { 671 = { is_fully_controlled_by = ROOT } }
					transfer_state = 671
				}
				if = {
					limit = { 286 = { is_fully_controlled_by = ROOT } }
					transfer_state = 286
				}
				if = {
					limit = { 741 = { is_fully_controlled_by = ROOT }
					}
					transfer_state = 741
				}
			}
			hidden_effect = {
				news_event = { id = wtt_news.25 hours = 6 }
			}		
		}		
	}
}

#Answer from wtt_japan.1 - FROM refuses
country_event = {
	id = wtt_japan.3
	title = wtt_japan.3.t
	desc = wtt_japan.3.desc
	picture = GFX_report_event_japanese_transport_soldiers

	is_triggered_only = yes
	
	
	option = {
		name = wtt_japan.3.a
		ai_chance = {
			base = 0
		}
	}
}

#  #  ##  #  #     ##   ##   ##  ###  ###  ##  ## ###  ##  #  #     ###   ##   ##  ### 
## # #  # ## #    #  # #    #    #  # #   #   #    #  #  # ## #     #  # #  # #  #  #  
# ## #  # # ## ## #### # ## # ## ###  ##   #   #   #  #  # # ##     ###  #### #     #  
#  # #  # #  #    #  # #  # #  # #  # #     #   #  #  #  # #  #     #    #  # #  #  #  
#  #  ##  #  #    #  #  ##   ##  #  # ### ##  ##  ###  ##  #  #     #    #  #  ##   #  


#Japan propose NAP to ROOT
country_event = {
	id = wtt_japan.11
	title = wtt_japan.11.t
	desc = wtt_japan.11.desc
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	#Accept NAP
	option = {
		name = wtt_japan.11.a
		ai_chance = {
			base = 10
		}
		diplomatic_relation = {
			country = FROM
			relation = non_aggression_pact
			active = yes
		}
		FROM = { country_event = { id = wtt_japan.12 days = 1 } }
	}


	#Refuse NAP
	option = {
		name = wtt_japan.11.b
		ai_chance = {
			base = 0
		}
		FROM = { country_event = { id = wtt_japan.13 days = 1 } }	
	}
}

#Japan propose NAP to ROOT
country_event = {
	id = wtt_japan.12
	title = wtt_japan.12.t
	desc = wtt_japan.12.desc
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = wtt_japan.12.a
		ai_chance = {
			base = 10
		}
		effect_tooltip = {
			diplomatic_relation = {
				country = FROM
				relation = non_aggression_pact
				active = yes
			}
		}
	}
}

#Japan propose NAP to ROOT
country_event = {
	id = wtt_japan.13
	title = wtt_japan.13.t
	desc = wtt_japan.13.desc
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = wtt_japan.13.a
		ai_chance = {
			base = 10
		}
	}
}

 ##  ### #  # ### ###   ##  #    ##     ###  ##      #   #  ##  #  # 
#    #   ## # #   #  # #  # #   #        #  #  #     ## ## #  # ## # 
# ## ##  # ## ##  ###  #### #    #       #  #  #     # # # #### # ## 
#  # #   #  # #   #  # #  # #     #      #  #  #     #   # #  # #  # 
 ##  ### #  # ### #  # #  # ### ##       #   ##      #   # #  # #  # 


#Japan propse all samurai generals go to MAN
country_event = {
	id = wtt_japan.21
	title = wtt_japan.21.t
	desc = wtt_japan.21.desc
	picture = GFX_report_event_japanese_officers

	is_triggered_only = yes
	
	#Accept generals
	option = {
		name = wtt_japan.21.a
		ai_chance = {
			base = 10
		}
		FROM = {		
			every_army_leader = {
				limit = { has_trait = JAP_samurai_lineage }
				set_nationality = ROOT
			}
		}		
		FROM = { country_event = { id = wtt_japan.22 } }
	}
}

#MAN Answers Japan yes
country_event = {
	id = wtt_japan.22
	title = wtt_japan.22.t
	desc = wtt_japan.22.desc
	picture = GFX_report_event_japanese_officers

	is_triggered_only = yes
	
	option = {
		name = wtt_japan.22.a
		ai_chance = {
			base = 10
		}
	}
}

### ###  ### ###   ##  ###  ### ### ### ###     ###   ##   ##  ### 
 #  #  #  #  #  # #  # #  #  #   #   #  #       #  # #  # #  #  #  
 #  ###   #  ###  #### ###   #   #   #  ##      ###  #### #     #  
 #  #  #  #  #    #  # #  #  #   #   #  #       #    #  # #  #  #  
 #  #  # ### #    #  # #  #  #  ###  #  ###     #    #  #  ##   #  

 # Event for Germany to accept Tripartite Pact
country_event = {
	id = wtt_japan.109
	title = wtt_japan.109.t
	desc = wtt_japan.109.desc
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			FROM = { save_event_target_as = JAP_initiator }
			save_event_target_as = GER_fascism
			random_country = {
				limit = {
					original_tag = ITA
					has_government = fascism
				}
				save_event_target_as = ITA_fascism
			}
		}
	}
	
	option = {
		name = wtt_japan.109.a #accept
		ai_chance = {
			base = 10
		}

		event_target:ITA_fascism = {
			country_event = { id = wtt_japan.110 hours = 6 }
		}
	}

	#option = {
		#name = wtt_japan.109.b #refuse
		#ai_chance = {
			#base = 0
		#}

		#event_target:JAP_initiator = { country_event = { id = wtt_japan.112 hours = 6 } }
		#event_target:ITA_fascism = { country_event = { id = wtt_japan.112 hours = 6 } }
	#}
}

 # Event for Italy to accept Tripartite Pact
country_event = {
	id = wtt_japan.110
	title = wtt_japan.109.t
	desc = wtt_japan.110.desc
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = wtt_japan.109.a ##accept
		ai_chance = {
			base = 10
		}
		event_target:JAP_initiator = {
			give_guarantee = event_target:ITA_fascism
			give_guarantee = event_target:GER_fascism
		}
		event_target:GER_fascism = {
			give_guarantee = event_target:ITA_fascism
			give_guarantee = event_target:JAP_initiator
		}
		event_target:ITA_fascism = {
			give_guarantee = event_target:JAP_initiator
			give_guarantee = event_target:GER_fascism
		}
		event_target:JAP_initiator = { country_event = { id = wtt_japan.111 hours = 6 } }
		event_target:GER_fascism = { country_event = { id = wtt_japan.113 hours = 6 } }
	}

	#option = {
		#name = wtt_japan.109.b ##refuse
		#ai_chance = {
			#base = 0
		#}
		
		#event_target:GER_fascism = { country_event = { id = wtt_japan.112 hours = 6 } }
		#event_target:JAP_initiator = { country_event = { id = wtt_japan.112 hours = 6 } }
	#}
}

 #Notification event that Tripartite Pact has been signed
country_event = {
	id = wtt_japan.111
	title = wtt_japan.111.t
	desc = wtt_japan.111.desc
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = excellent
		ai_chance = {
			base = 10
		}
		effect_tooltip = {
			event_target:JAP_initiator = {
				give_guarantee = event_target:ITA_fascism
				give_guarantee = event_target:GER_fascism
			}
			event_target:GER_fascism = {
				give_guarantee = event_target:ITA_fascism
				give_guarantee = event_target:JAP_initiator
			}
			event_target:ITA_fascism = {
				give_guarantee = event_target:JAP_initiator
				give_guarantee = event_target:GER_fascism
			}
		}
		hidden_effect = {
			every_country = {
				limit = {
					is_literally_china = yes
				}
				event_target:ITA_fascism = {
					add_ai_strategy = {
						type = alliance
						id = PREV
						value = -500
					}
				}
				event_target:GER_fascism = {
					add_ai_strategy = {
						type = alliance
						id = PREV
						value = -500
					}
				}
			}
		}
	}
}

 #Notification event that FROM has rejected Tripartite Pact
country_event = {
	id = wtt_japan.112
	title = wtt_japan.112.t
	desc = wtt_japan.112.desc
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = unfortunate
	}
}

 #Notification event for GER that ITA has accepted Tripartite Pact
country_event = {
	id = wtt_japan.113
	title = wtt_japan.113.t
	desc = wtt_japan.113.desc
	picture = GFX_report_event_japan_europe_pact

	is_triggered_only = yes
	
	option = {
		name = excellent
		effect_tooltip = {
			event_target:JAP_initiator = {
				give_guarantee = event_target:ITA_fascism
				give_guarantee = event_target:GER_fascism
			}
			event_target:GER_fascism = {
				give_guarantee = event_target:ITA_fascism
				give_guarantee = event_target:JAP_initiator
			}
			event_target:ITA_fascism = {
				give_guarantee = event_target:JAP_initiator
				give_guarantee = event_target:GER_fascism
			}
		}
	}
}

###   ##  ###  ###  ### ###       ##   ##  #  # ### #   ###  ##  ###  ## 
#  # #  # #  # #  # #   #  #     #  # #  # ## # #   #    #  #  #  #  #   
###  #  # ###  #  # ##  ###      #    #  # # ## ##  #    #  #     #   #  
#  # #  # #  # #  # #   #  #     #  # #  # #  # #   #    #  #  #  #    # 
###   ##  #  # ###  ### #  #      ##   ##  #  # #   ### ###  ##   #  ##  

add_namespace = japan_border_conflict

#initial border incident against Soviet Union
country_event = {
	id = japan_border_conflict.1
	title = japan_border_conflict.1.t
	desc = japan_border_conflict.1.desc
	picture = GFX_report_event_japan_army_mountainside

	is_triggered_only = yes

	option = {
		name = japan_border_conflict.1.a
	}
}
#Japan wins
country_event = {
	id = japan_border_conflict.2
	title = japan_border_conflict.2.t
	desc = japan_border_conflict.2.desc
	picture = GFX_report_event_japanese_transport_soldiers

	is_triggered_only = yes

	option = {
		name = japan_border_conflict.2.a
		trigger = {
			original_tag = JAP
		}
		add_doctrine_cost_reduction = {
			name = sov_jap_border_conflict_won
			cost_reduction = 0.35
			uses = 1
			category = land_doctrine
		}
		add_tech_bonus = {
			name = sov_jap_border_conflict_won
			category = armor
			bonus = 1.0
		}
	}
	option = {
		name = japan_border_conflict.2.b
		trigger = {
			original_tag = SOV
		}
		army_experience = 20
	}
}
#Japan loses
country_event = {
	id = japan_border_conflict.3
	title = japan_border_conflict.3.t
	desc = japan_border_conflict.3.desc
	picture = GFX_report_event_japanese_soldiers_03

	is_triggered_only = yes

	option = {
		name = japan_border_conflict.3.a
		trigger = {
			original_tag = JAP
		}
		army_experience = 25
	}
	option = {
		name = japan_border_conflict.3.b
		trigger = {
			original_tag = SOV
		}
		add_doctrine_cost_reduction = {
			name = sov_jap_border_conflict_won
			cost_reduction = 0.35
			uses = 1
			category = land_doctrine
		}
	}
}

#stalemate
country_event = { 
	id = japan_border_conflict.4
	title = japan_border_conflict.4.t
	desc = japan_border_conflict.4.desc
	picture = GFX_report_event_japanese_army_parade

	is_triggered_only = yes

	option = {
		name = japan_border_conflict.4.a
		trigger = {
			original_tag = JAP
		}
		army_experience = 50
	}
	option = {
		name = japan_border_conflict.3.b
		trigger = {
			original_tag = SOV
		}
		army_experience = 50
	}
}

#japan escalates
country_event = {
	id = japan_border_conflict.5
	title = japan_border_conflict.5.t
	desc = japan_border_conflict.5.desc
	picture = GFX_report_event_japanese_parade

	is_triggered_only = yes

	option = {
		name = japan_border_conflict.5.a
		
	}
	
}

#Soviet escalates
country_event = {
	id = japan_border_conflict.6
	title = japan_border_conflict.6.t
	desc = japan_border_conflict.6.desc
	picture = GFX_report_event_SOV_tank_column

	is_triggered_only = yes

	option = {
		name = japan_border_conflict.6.a
		
	}
	
}
add_namespace = wtt_manchukou

# Manchukou demands warlord be puppeted
country_event = {
	id = wtt_manchukou.1
	title = wtt_manchukou.1.t
	desc = wtt_manchukou.1.desc
	picture = GFX_report_event_manchukuo_army_2

	is_triggered_only = yes
	
	#Accept puppet
	option = {
		name = wtt_manchukou.1.a
		ai_chance = { 
			base = 10 
			modifier = {
				has_global_flag = CHI_xian_refused
				factor = 0
			}
		}
		FROM = {
			puppet = ROOT
			country_event = { id = wtt_manchukou.2 }
		}
	}

	#Never
	option = {
		name = wtt_manchukou.1.b
		ai_chance = { 
			base = 10 
		}
		FROM = {
			country_event = { id = wtt_manchukou.3 }
		}
	}
}

# Answer from warlord wtt_manchukou.1 - Yes
country_event = {
	id = wtt_manchukou.2
	title = wtt_manchukou.2.t
	desc = wtt_manchukou.2.desc
	picture = GFX_report_event_chinese_japanese_handshake

	is_triggered_only = yes
	
	option = {
		name = wtt_manchukou.2.a
	}
}


# Answer from warlord wtt_manchukou.1 - No
country_event = {
	id = wtt_manchukou.3
	title = wtt_manchukou.3.t
	desc = wtt_manchukou.3.desc
	picture = GFX_report_event_chinese_soldiers_01

	is_triggered_only = yes
	
	option = {
		name = wtt_manchukou.3.a
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
	}
}

#First five year plan
country_event = {
	id = wtt_manchukou.11
	title = wtt_manchukou.11.t
	desc = wtt_manchukou.11.desc
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes
	
	#Air
	option = {
		name = wtt_manchukou.11.a
		ai_chance = {
			base = 3
		}
		add_timed_idea = { days = 1825 idea = MAN_five_year_plan_air }
	}	
	#Tank
	option = {
		name = wtt_manchukou.11.b
		ai_chance = {
			base = 3
		}
		add_timed_idea = { days = 1825 idea = MAN_five_year_plan_tank }
	}	
	#Industry
	option = {
		name = wtt_manchukou.11.c
		ai_chance = {
			base = 10
		}
		add_timed_idea = { days = 1825 idea = MAN_five_year_plan_industry }
	}
}

###   ##  #  # ###  ### ###      ##  ##  ###   ##  ###  ##   ##  ### 
#  # #  # ## # #  #  #   #      #   #  # #  # #  #  #  #  # #    #   
###  #### # ## #  #  #   #       #  #### ###  #  #  #  #### # ## ##  
#  # #  # #  # #  #  #   #        # #  # #  # #  #  #  #  # #  # #   
###  #  # #  # ###  ###  #      ##  #  # ###   ##   #  #  #  ##  ### 

add_namespace = wtt_manchukou_bandit_sabotage
#Bandit sabotage - factory sabotaged
country_event = {
	id = wtt_manchukou_bandit_sabotage.21
	title = wtt_manchukou_bandit_sabotage.21.t
	desc = wtt_manchukou_bandit_sabotage.21.desc
	picture = GFX_report_event_generic_ruins

	is_triggered_only = yes
	
	option = {
		name = wtt_manchukou_bandit_sabotage.21.a #okay
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}
	}
}

#Bandit sabotage - civilian factory sabotaged
country_event = {
	id = wtt_manchukou_bandit_sabotage.22
	title = wtt_manchukou_bandit_sabotage.22.t
	desc = wtt_manchukou_bandit_sabotage.21.desc
	picture = GFX_report_event_generic_ruins

	is_triggered_only = yes
	
	option = {
		name = wtt_manchukou_bandit_sabotage.21.a #okay
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.6
			}
		}
	}
}

#Bandit sabotage - bridge blown
country_event = {
	id = wtt_manchukou_bandit_sabotage.23
	title = wtt_manchukou_bandit_sabotage.23.t
	desc = wtt_manchukou_bandit_sabotage.23.desc
	picture = GFX_report_event_generic_train

	is_triggered_only = yes
	
	option = {
		name = wtt_manchukou_bandit_sabotage.21.a #okay
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				infrastructure > 0
			}
			damage_building = {
				type = infrastructure
				damage = 1
			}
		}
	}
}
add_namespace = wtt_news


#ID wtt_news.30+: China
# German Civil War
news_event = {
	id = wtt_news.1
	title = wtt_news.1.t
	desc = wtt_news.1.desc
	picture = GFX_news_event_ger_civil_war
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = wtt_news.1.a
		trigger = {
			original_tag = GER
		}
	}
	option = {
		name = wtt_news.1.b
		trigger = { 
			NOT = { original_tag = GER }
			has_government = fascism
		}
	}
	option = {
		name = wtt_news.1.c
		trigger = { 
			NOT = { original_tag = GER }
			NOT = { has_government = fascism }
		}
	}
}

# News event for annexation of Vichy France - fleet intact
news_event = {
	id = wtt_news.23
	title = wtt_news.23.t
	desc = wtt_news.23.desc
	picture = GFX_news_event_strasbourg

	is_triggered_only = yes
	
	major = yes
	
	option = {
		name = wtt_news.23.a
		trigger = {
			original_tag = GER
		}
	}
	option = {
		name = wtt_news.23.b
		trigger = {
			original_tag = ENG
		}
	}
	option = {
		name = wtt_news.23.c
		trigger = {
			NOT = {
				original_tag = GER
				original_tag = ENG
			}
		}
	}
}

# News event for annexation of Vichy France - fleet scuttled
news_event = {
	id = wtt_news.24
	title = wtt_news.24.t
	desc = wtt_news.24.desc
	picture = GFX_news_french_fleet_scuttled

	is_triggered_only = yes
	
	major = yes
	
	option = {
		name = wtt_news.24.a
		trigger = {
			original_tag = GER
		}
	}
	option = {
		name = wtt_news.24.b
		trigger = {
			original_tag = ENG
		}
	}
	option = {
		name = wtt_news.24.c
		trigger = {
			NOT = {
				original_tag = GER
				original_tag = ENG
			}
		}
	}
}

# News event for Japan taking European colonies
news_event = {
	id = wtt_news.25
	title = wtt_news.25.t
	desc = wtt_news.25.desc
	picture = GFX_news_event_generic_read_write

	is_triggered_only = yes
	
	major = yes
	
	option = {
		name = wtt_news.25.a
		trigger = {
			original_tag = JAP
		}
	}
	option = {
		name = wtt_news.25.b
		trigger = {
			OR = {
				original_tag = HOL
				original_tag = ENG
				AND = {
					original_tag = FRA
					has_government = democratic
				}
			}
		}
	}
	option = {
		name = wtt_news.25.c
		trigger = {
			NOT = {
				original_tag = JAP
				original_tag = HOL
				original_tag = ENG
				AND = {
					original_tag = FRA
					has_government = democratic
				}
			}
		}
	}
}

# Canals - Suez Canal Blown
news_event = {
	id = wtt_news.40
	title = wtt_news.40.t
	desc = {
		text = wtt_news.40.desc_eng
		trigger = {
			FROM = {
				has_country_flag = blew_up_suez
				owns_state = 446
				owns_state = 453
			}
		}
	}
	desc = {
		text = wtt_news.40.desc_not_eng
		trigger = {
			FROM = {
				OR = {
					NOT = {	has_country_flag = blew_up_suez }
					NOT = {
						owns_state = 446
						owns_state = 453
					}
				}
			}
		}
	}
	picture = GFX_news_event_020

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.40.a
		trigger = {
			NOT = { has_country_flag = blew_up_suez }
			owns_state = 446
			owns_state = 453
		}
		if = {
			limit = {
				original_tag = ENG
			}
			add_war_support = -0.05
			add_stability = -0.05
		}
	}
	option = {
		name = wtt_news.40.b
		trigger = {
			has_country_flag = blew_up_suez
			owns_state = 446
			owns_state = 453
		}
		if = {
			limit = {
				original_tag = ENG
			}
			add_war_support = -0.05
			add_stability = -0.05
		}
		clr_country_flag = blew_up_suez
	}
	option = {
		name = wtt_news.40.c
		trigger = {
			any_country = {
				has_war_with = ROOT
				owns_state = 446
				owns_state = 453
				has_country_flag = blew_up_suez
			}
		}
	}
	option = {
		name = wtt_news.40.d
		trigger = {
			any_country = {
				has_war_with = ROOT
				owns_state = 446
				owns_state = 453
			}
			has_country_flag = blew_up_suez
		}
		clr_country_flag = blew_up_suez
	}
	option = {
		name = wtt_news.40.e
		trigger = {
			any_country = {
				has_war_with = ROOT
				owns_state = 446
				owns_state = 453
				NOT = { has_country_flag = blew_up_suez }
			}
			any_other_country = {
				has_war_together_with = ROOT
				has_country_flag = blew_up_suez
			}
			NOT = { has_country_flag = blew_up_suez }
		}
	}
	option = {
		name = wtt_news.40.f
		trigger = {
			any_other_country = {
				has_war_together_with = ROOT
				owns_state = 446
				owns_state = 453
				has_country_flag = blew_up_suez
			}
			NOT = { has_country_flag = blew_up_suez }
		}
	}
	option = {
		name = wtt_news.40.g
		trigger = {
			any_country = {
				has_war_with = ROOT
				has_country_flag = blew_up_suez
			}
			any_other_country = {
				has_war_together_with = ROOT
				owns_state = 446
				owns_state = 453
				NOT = { has_country_flag = blew_up_suez }
			}
			NOT = { has_country_flag = blew_up_suez }
		}
	}
	option = {
		name = wtt_news.40.h
		trigger = {
			NOT = {
				any_country = {
					has_war_with = ROOT
					has_country_flag = blew_up_suez
				}
			}
			NOT = {
				any_other_country = {
					has_war_together_with = ROOT
					owns_state = 446
					owns_state = 453
					has_country_flag = blew_up_suez
				}
			}
			NOT = { has_country_flag = blew_up_suez }
		}
	}
}

# Canals - Panama Canal Blown
news_event = {
	id = wtt_news.41
	title = wtt_news.41.t
	desc = {
		text = wtt_news.41.desc_usa
		trigger = {
			FROM = {
				has_country_flag = blew_up_panama
				owns_state = 685
			}
		}
	}
	desc = {
		text = wtt_news.41.desc_not_usa
		trigger = {
			FROM = {
				OR = {
					NOT = {	has_country_flag = blew_up_panama }
					NOT = { owns_state = 685 }
				}
			}
		}
	}
	picture = GFX_news_event_020

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.41.a
		trigger = {
			NOT = { has_country_flag = blew_up_panama }
			owns_state = 685
		}
		if = {
			limit = {
				original_tag = USA
			}
			add_war_support = -0.05
			add_stability = -0.05
		}
	}
	option = {
		name = wtt_news.41.b
		trigger = {
			has_country_flag = blew_up_panama
			owns_state = 685
		}
		if = {
			limit = {
				original_tag = USA
			}
			add_war_support = -0.05
			add_stability = -0.05
		}
		clr_country_flag = blew_up_panama
	}
	option = {
		name = wtt_news.41.c
		trigger = {
			any_country = {
				has_war_with = ROOT
				owns_state = 685
				has_country_flag = blew_up_panama
			}
		}
	}
	option = {
		name = wtt_news.41.d
		trigger = {
			any_country = {
				has_war_with = ROOT
				owns_state = 685
			}
			has_country_flag = blew_up_panama
		}
		clr_country_flag = blew_up_panama
	}
	option = {
		name = wtt_news.41.e
		trigger = {
			any_country = {
				has_war_with = ROOT
				owns_state = 685
				NOT = { has_country_flag = blew_up_panama }
			}
			any_other_country = {
				has_war_together_with = ROOT
				has_country_flag = blew_up_panama
			}
			NOT = { has_country_flag = blew_up_panama }
		}
	}
	option = {
		name = wtt_news.41.f
		trigger = {
			any_other_country = {
				has_war_together_with = ROOT
				owns_state = 685
				has_country_flag = blew_up_panama
			}
			NOT = { has_country_flag = blew_up_panama }
		}
	}
	option = {
		name = wtt_news.41.g
		trigger = {
			any_country = {
				has_war_with = ROOT
				has_country_flag = blew_up_panama
			}
			any_other_country = {
				has_war_together_with = ROOT
				owns_state = 685
				NOT = { has_country_flag = blew_up_panama }
			}
			NOT = { has_country_flag = blew_up_panama }
		}
	}
	option = {
		name = wtt_news.41.h
		trigger = {
			NOT = {
				any_country = {
					has_war_with = ROOT
					has_country_flag = blew_up_panama
				}
			}
			NOT = {
				any_other_country = {
					has_war_together_with = ROOT
					owns_state = 685
					has_country_flag = blew_up_panama
				}
			}
			NOT = { has_country_flag = blew_up_panama }
		}
	}
}

# Canals - Suez Canal Rebuilt
news_event = {
	id = wtt_news.42
	title = wtt_news.42.t
	desc = wtt_news.42.desc
	picture = GFX_news_event_020

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.42.a
		trigger = {
			original_tag = ENG
			has_country_flag = rebuilt_suez
		}
		clr_country_flag = rebuilt_suez
	}
	option = {
		name = wtt_news.42.b
		trigger = {
			NOT = { original_tag = ENG }
			has_country_flag = rebuilt_suez
		}
		clr_country_flag = rebuilt_suez
	}
	option = {
		name = wtt_news.42.c
		trigger = {
			any_other_country = {
				has_war_together_with = ROOT
				has_country_flag = rebuilt_suez
			}
			NOT = { has_country_flag = rebuilt_suez }
		}
	}
	option = {
		name = wtt_news.42.d
		trigger = {
			any_other_country = {
				has_war_with = ROOT
				has_country_flag = rebuilt_suez
			}
			NOT = { has_country_flag = rebuilt_suez }
		}
	}
	option = {
		name = wtt_news.42.e
		trigger = {
			NOT = { has_country_flag = rebuilt_suez }
			NOT = {
				any_other_country = {
					has_war_together_with = ROOT
					has_country_flag = rebuilt_suez
				}
			}
			NOT = {
				any_other_country = {
					has_war_with = ROOT
					has_country_flag = rebuilt_suez
				}
			}
		}
	}
}

# Canals - Panama Canal Rebuilt
news_event = {
	id = wtt_news.43
	title = wtt_news.43.t
	desc = wtt_news.43.desc
	picture = GFX_news_event_020

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.43.a
		trigger = {
			original_tag = USA
			has_country_flag = rebuilt_panama
		}
		clr_country_flag = rebuilt_panama
	}
	option = {
		name = wtt_news.43.b
		trigger = {
			NOT = { original_tag = USA }
			has_country_flag = rebuilt_panama
		}
		clr_country_flag = rebuilt_panama
	}
	option = {
		name = wtt_news.43.c
		trigger = {
			any_other_country = {
				has_war_together_with = ROOT
				has_country_flag = rebuilt_panama
			}
			NOT = { has_country_flag = rebuilt_panama }
		}
	}
	option = {
		name = wtt_news.43.d
		trigger = {
			any_other_country = {
				has_war_with = ROOT
				has_country_flag = rebuilt_panama
			}
			NOT = { has_country_flag = rebuilt_panama }
		}
	}
	option = {
		name = wtt_news.43.e
		trigger = {
			NOT = { has_country_flag = rebuilt_panama }
			NOT = {
				any_other_country = {
					has_war_together_with = ROOT
					has_country_flag = rebuilt_panama
				}
			}
			NOT = {
				any_other_country = {
					has_war_with = ROOT
					has_country_flag = rebuilt_panama
				}
			}
		}
	}
}
# Germany - Hitler assassinated by Wehrmacht officers
news_event = {
	id = wtt_news.50
	title = wtt_news.50.t
	desc = wtt_news.50.desc
	picture = GFX_news_event_generic_ruins

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.50.a
		trigger = {
			original_tag = GER
		}
	}
	option = {
		name = wtt_news.50.b
		trigger = {
			is_in_faction_with = GER
			NOT = {
				original_tag = GER
			}
		}
	}
	option = {
		name = wtt_news.50.c
		trigger = {
			has_war_with = GER
		}
	}
	option = {
		name = wtt_news.50.d
		trigger = {
			NOT = {
			 	has_war_with = GER
			}
			NOT = {
				original_tag = GER
			}
			NOT = {
				is_in_faction_with = GER
			}
		}
	}
}
# Germany - assassination attempt on Hitler by Wehrmacht officers
news_event = {
	id = wtt_news.51
	title = wtt_news.51.t
	desc = wtt_news.51.desc
	picture = GFX_news_event_generic_ruins

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.50.a
		trigger = {
			original_tag = GER
		}
	}
	option = {
		name = wtt_news.50.b
		trigger = {
			is_in_faction_with = GER
			NOT = {
				original_tag = GER
			}
		}
	}
	option = {
		name = wtt_news.51.c
		trigger = {
			has_war_with = GER
		}
	}
	option = {
		name = wtt_news.50.d
		trigger = {
			NOT = {
			 	has_war_with = GER
			}
			NOT = {
				original_tag = GER
			}
			NOT = {
				is_in_faction_with = GER
			}
		}
	}
}

# Germany - Hitler assassinated by SS
news_event = {
	id = wtt_news.52
	title = wtt_news.51.t
	desc = wtt_news.52.desc
	picture = GFX_news_event_generic_ruins

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.50.a
		trigger = {
			original_tag = GER
		}
	}
	option = {
		name = wtt_news.50.b
		trigger = {
			is_in_faction_with = GER
			NOT = {
				original_tag = GER
			}
		}
	}
	option = {
		name = wtt_news.50.c
		trigger = {
			has_war_with = GER
		}
	}
	option = {
		name = wtt_news.50.d
		trigger = {
			NOT = {
			 	has_war_with = GER
			}
			NOT = {
				original_tag = GER
			}
			NOT = {
				is_in_faction_with = GER
			}
		}
	}
}

# Formation of Commonwealth
news_event = {
	id = wtt_news.57
	title = wtt_news.57.t
	desc = wtt_news.57.desc
	picture = GFX_news_event_generic_parliament

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.57.a
		trigger = {
			OR = {
				original_tag = POL
				original_tag = LIT
			}
			NOT = { has_war_with = FROM }
		}
	}
	option = {
		name = wtt_news.57.b
		trigger = {
			NOT = { original_tag = POL }
			NOT = { original_tag = LIT }
			NOT = { has_war_with = FROM }
		}
	}
	option = {
		name = wtt_news.53.c
		trigger = {
			has_war_with = FROM
		}
	}
}
# Formation of Rattanakosin Kingdom
news_event = {
	id = wtt_news.69
	title = wtt_news.69.t
	desc = wtt_news.69.desc
	picture = GFX_news_event_generic_parliament

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.69.a
		trigger = {
				original_tag = INS
			NOT = { has_war_with = FROM }
		}
	}
	option = {
		name = wtt_news.69.b
		trigger = {
			NOT = { original_tag = INS }
			NOT = { has_war_with = FROM }
		}
	}
	option = {
		name = wtt_news.53.c
		trigger = {
			has_war_with = FROM
		}
	}
}

# Formation of HRE
news_event = {
	id = wtt_news.70
	title = wtt_news.70.t
	desc = wtt_news.70.desc
	picture = GFX_news_event_generic_parliament

	is_triggered_only = yes
	major = yes
	
	option = {
		name = wtt_news.70.a
		trigger = {
			original_tag = GER
		}
	}
	option = {
		name = wtt_news.70.b
		trigger = {
			NOT = { original_tag = GER }
			NOT = { has_war_with = FROM }
		}
	}
	option = {
		name = wtt_news.53.c
		trigger = {
			has_war_with = FROM
		}
	}
}

###############
news_event = {
	id = wtt_news.1000
	title = wtt_germany.1001.t
	desc = wtt_news.1000.desc
	picture = GFX_news_event_japanese_parade

	is_triggered_only = yes

	fire_for_sender = no
	
	option = {
		name = wtt_news.1000.a
		trigger = {
			NOT = { original_tag = GER }
		}
	}
}

news_event = {
	id = wtt_news.1001
	title = wtt_germany.1001.t
	desc = wtt_news.1001.desc
	picture = GFX_news_event_japanese_parade

	is_triggered_only = yes

	fire_for_sender = no
	
	option = {
		name = wtt_news.1001.a
		trigger = {
			NOT = { original_tag = GER }
		}
	}
}

###########################
# Soviet Events
###########################

#  #  ##  #   ###       ##  ### ### #   # 
#  # #  # #   #  #     #  #  #   #   # #  
#### #  # #   #  #     #     #   #    #   
#  # #  # #   #  #     #  #  #   #    #   
#  #  ##  ### ###       ##  ###  #    #   

add_namespace = wtt_soviet_hold_city

 ## ###  ##  #   ### #  #  ##  ###   ##  ###  
#    #  #  # #    #  ## # #    #  # #  # #  # 
 #   #  #### #    #  # ## # ## ###  #### #  # 
  #  #  #  # #    #  #  # #  # #  # #  # #  # 
##   #  #  # ### ### #  #  ##  #  # #  # ###  

# Defense of Stalingrad (state) successful
country_event = {
	id = wtt_soviet_hold_city.1
	title = wtt_soviet_hold_city_t_success
	desc = wtt_soviet_hold_city_d_success
	picture = GFX_report_event_stalin_01
	
	is_triggered_only = yes
	
	option = {
		name = wtt_soviet_hold_city_o_success
	}
}

# Defense of Stalingrad (state) failed
country_event = {
	id = wtt_soviet_hold_city.2
	title = wtt_soviet_hold_city_t_fail
	desc = wtt_soviet_hold_city_d_fail
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes

	immediate = { hidden_effect = { 217 = { CONTROLLER = { save_event_target_as = controller } } } }
	
	option = {
		name = wtt_soviet_hold_city_o_fail
	}
}

#   ### #  # ### #  #  ##  ###   ##  ###  
#   #   ## #  #  ## # #    #  # #  # #  # 
#   ##  # ##  #  # ## # ## ###  #### #  # 
#   #   #  #  #  #  # #  # #  # #  # #  # 
### ### #  # ### #  #  ##  #  # #  # ###  

# Defense of Leningrad (state) successful
country_event = {
	id = wtt_soviet_hold_city.3
	title = wtt_soviet_hold_city_t_success
	desc = wtt_soviet_hold_city_d_success
	picture = GFX_report_event_stalin_propaganda
	
	is_triggered_only = yes
	
	option = {
		name = wtt_soviet_hold_city_o_success
	}
}

# Defense of Leningrad (state) failed
country_event = {
	id = wtt_soviet_hold_city.4
	title = wtt_soviet_hold_city_t_fail
	desc = wtt_soviet_hold_city_d_fail
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes

	immediate = { hidden_effect = { 195 = { CONTROLLER = { save_event_target_as = controller } } } }
	
	option = {
		name = wtt_soviet_hold_city_o_fail
	}
}

#   #  ##   ##  ##   ##  #   # 
## ## #  # #   #  # #  # #   # 
# # # #  #  #  #    #  # # # # 
#   # #  #   # #  # #  # # # # 
#   #  ##  ##   ##   ##   # #  

# Defense of Moscow (state) successful
country_event = {
	id = wtt_soviet_hold_city.5
	title = wtt_soviet_hold_city_t_success
	desc = wtt_soviet_hold_city_d_success
	picture = GFX_report_event_soviet_tank_parade
	
	is_triggered_only = yes
	
	option = {
		name = wtt_soviet_hold_city_o_success
	}
}

# Defense of Moscow (state) failed
country_event = {
	id = wtt_soviet_hold_city.6
	title = wtt_soviet_hold_city_t_fail
	desc = wtt_soviet_hold_city_d_fail
	picture = GFX_report_event_german_troops
	
	is_triggered_only = yes

	immediate = { hidden_effect = { 219 = { CONTROLLER = { save_event_target_as = controller } } } }
	
	option = {
		name = wtt_soviet_hold_city_o_fail
	}
}



###########################
# Yugoslavian Events
###########################

add_namespace = yugoslavia

# Britain to Back Coup in Yugoslavia
country_event = {
	id = yugoslavia.1
	title = yugoslavia.1.t
	desc = yugoslavia.1.d
	picture = GFX_report_event_yugoslavian_king_peter

	fire_only_once = yes
	
	trigger = {
		tag = ENG
		NOT = {
			has_dlc = "Death or Dishonor"
		}
		YUG = {
			OR = {
				is_in_faction_with = GER
				gives_military_access_to = GER
			}
		}
		HUN = { owns_state = 76 }
		GER = {
			OR = {
				AND = { is_in_faction_with = ITA is_in_faction_with = HUN }
				AND = { is_in_faction_with = ITA is_in_faction_with = BUL }
				AND = { is_in_faction_with = HUN is_in_faction_with = BUL }
			}
		}
		always = no
		ENG = { NOT = { is_in_faction_with = GER } }
		ENG = { NOT = { has_country_flag = has_already_decided_yugo_coup_flag } }
		
	}

	immediate = {
		hidden_effect = { 
			remove_ideas = anti_german_military 
			ENG = { set_country_flag = has_already_decided_yugo_coup_flag }
			YUG = { set_country_flag = has_already_decided_yugo_coup_flag }
		}
	}

	
	option = {
		name = yugoslavia.1.a
		add_political_power = -50
		YUG = {
			country_event = { id = yugoslavia.2 }
		}
	}

	option = {
		name = yugoslavia.1.b
		ai_chance = { factor = 0 }
		YUG = { remove_opinion_modifier = { target = ENG modifier = balkan_strategy_good } }
	}
}

# Yugoslavia (British and (possibly) French Support)
country_event = {
	id = yugoslavia.3
	title = yugoslavia.3.t
	desc = {
		text = yugoslavia.3.d 
		trigger = {
			NOT = { has_global_flag = FRA_abandoned_yugoslavia }
		}
	}
	desc = {
		text = yugoslavia.3.d_FRA_abandoned_yugoslavia
		trigger = {
			has_global_flag = FRA_abandoned_yugoslavia
		}
	}
	picture = GFX_report_event_chamberlain_announce
	
	is_triggered_only = yes
	
	option = {
		name = yugoslavia.3.a
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}
}

# Yugoslavia (French Support)
country_event = {
	id = yugoslavia.4
	title = yugoslavia.3.t
	desc = yugoslavia.4.d
	picture = GFX_report_event_chamberlain_announce
	
	is_triggered_only = yes
	
	option = {
		name = yugoslavia.4.a
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}
}

# Yugoslavia (Abandoned)
country_event = {
	id = yugoslavia.5
	title = yugoslavia.5.t
	desc = yugoslavia.5.d
	picture = GFX_report_event_hitler_croatia_handshake
	
	is_triggered_only = yes
	
	option = { # Surrender Slovenia
		name = yugoslavia.5.a
		ai_chance = {
			factor = 90
			modifier = { # Decrease chance YUG resists if AUS isn't taken first
				AUS = { exists = yes }
				factor = 0.5
			}
			modifier = { # If they stand a chance to hold the line they will fight
				factor = 0.1
				strength_ratio = {
					tag = GER
					ratio > 0.70
				}
			}
			modifier = { #decrease if in faction
				factor = 0.5
				is_in_faction = yes
			}
			modifier = { # Increase it again if other bordering nations are in Axis
				any_neighbor_country = {
					NOT = { tag = GER }
					is_in_faction_with = GER
				}
				factor = 2.0
			}
		}
		GER = { country_event = germany.94 } #Germany gets Slovenia
	}
	option = { # Refuse anyway
		name = yugoslavia.5.b
		ai_chance = { factor = 10 }
		GER = {
			country_event = germany.95 #Germany gains wargoal
			effect_tooltip = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}
}


# Yugoslavia (Italian Support)
country_event = {
	id = yugoslavia.6
	title = yugoslavia.3.t
	desc = yugoslavia.6.d
	picture = GFX_report_event_fascists_posing
	
	is_triggered_only = yes
	
	option = {
		name = yugoslavia.6.a
		effect_tooltip = {
			GER = {
				create_wargoal = {
					type = take_state_focus
					target = YUG
					generator = { 102 }
				}
			}
		}
	}
}

# Fate of Yugoslavia
country_event = {
	id = yugoslavia.7
	title = germany.98.t
	desc = {
		text = yugoslavia.7.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	#Nope
	option = {
		name = yugoslavia.7.a
		ai_chance = { 
			factor = 5
		}

		GER = { country_event = { id = germany.111 days = 1 } 
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = YUG
				}
			}
		}
	}

	#Alrighty
	option = {
		name = yugoslavia.7.b
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				is_puppet = yes
			}
			modifier = {
				factor = 0
				any_other_country = {
					is_major = yes
					OR = {
						has_guaranteed = YUG
						is_in_faction_with = YUG
					}
				}
			}
		}
		custom_effect_tooltip = GAME_OVER_TT
		GER = {

			add_political_power = -75		
			add_named_threat = { threat = 5 name = GER_fate_of_yugoslavia }
			annex_country = { target = YUG transfer_troops = no }

			hidden_effect = {
				set_global_flag = GER_fate_of_yugoslavia_annex_YUG
				news_event = { hours = 6 id = news.169 }
			}
		}
	}
}

# Fate of Yugoslavia
country_event = {
	id = yugoslavia.8
	title = germany.98.t
	desc = {
		text = yugoslavia.8.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	#Fuck that
	option = {
		name = yugoslavia.8.a
		ai_chance = { 
			factor = 10
		}

		GER = { country_event = { id = germany.111 days = 1 } 
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = YUG
				}
			}
		}
	}

	#Sure thing
	option = {
		name = yugoslavia.8.b

		ai_chance = {
			factor = 10
			modifier = {
				factor = 0
				any_other_country = {
					is_major = yes
					OR = {
						has_guaranteed = YUG
						is_in_faction_with = YUG
					}
				}
			}
			modifier = {
				factor = 0
				is_puppet = yes
			} 
		}

		trigger = { 
			YUG = { 
				OR = { 
					owns_state = 103
					owns_state = 104
					owns_state = 109
				} 
			} 
		}

		GER = {		
			add_political_power = -25
			add_named_threat = { threat = 3 name = GER_fate_of_yugoslavia }
			
			annex_country = { target = YUG transfer_troops = no }

			hidden_effect = {
				set_global_flag = GER_fate_of_yugoslavia_puppet_CRO_annex_YUG
				news_event = { hours = 6 id = news.169 }
			}
		}
	}
}

# Fate of Yugoslavia
country_event = {
	id = yugoslavia.9
	title = germany.98.t
	desc = {
		text = yugoslavia.9.d
	}
	picture = GFX_report_event_german_inspect_troops
	
	is_triggered_only = yes
	
	#No way
	option = {
		name = yugoslavia.9.a
		ai_chance = { factor = 2 }

		GER = { country_event = { id = germany.111 days = 1 } 
			effect_tooltip = {
				create_wargoal = {
					type = annex_everything
					target = YUG
				}
			}
		}
	}

	#Seems fair
	option = {
		name = yugoslavia.9.b
		ai_chance = { 
			factor = 10
			modifier = {
				factor = 0
				any_other_country = {
					is_major = yes
					OR = {
						has_guaranteed = YUG
						is_in_faction_with = YUG
					}
				}
			}
			modifier = {
				factor = 0
				is_puppet = yes
			} 
		}

		GER = {

			add_named_threat = { threat = 2 name = GER_fate_of_yugoslavia }
			
			puppet = YUG


			hidden_effect = {
				set_global_flag = GER_fate_of_yugoslavia_puppet_CRO_YUG
				news_event = { hours = 6 id = news.169 }
			}
		}
	}
}

add_namespace = lar_heavy_water

# Heavy Water Raid - Germany informed that heavy water plant was blown
country_event = {
	id = lar_heavy_water.1
	title = lar_heavy_water.1.t
	desc = lar_heavy_water.1.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	immediate = { 
		clr_global_flag = GER_heavy_water_production_underway
	}
		
	# acknowledge
	option = {
		name = lar_heavy_water.1.a
	}

}

# Heavy Water Raid - Instigator told that raid succeeded
country_event = {
	id = lar_heavy_water.2
	title = lar_heavy_water.2.t
	desc = lar_heavy_water.2.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	# acknowledge
	option = {
		name = lar_heavy_water.2.a
	}

}

add_namespace = lar_bruneval_raid

# Bruneval Raid - Germany informed that raid took place
country_event = {
	id = lar_bruneval_raid.1
	title = lar_bruneval_raid.1.t
	desc = lar_bruneval_raid.1.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
		
	# acknowledge
	option = {
		name = lar_bruneval_raid.1.a
	}

}

# Bruneval Raid - Instigator told that raid succeeded
country_event = {
	id = lar_bruneval_raid.2
	title = lar_bruneval_raid.2.t
	desc = lar_bruneval_raid.2.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	# acknowledge
	option = {
		name = lar_heavy_water.2.a
		set_global_flag = bruneval_raid_success
		add_tech_bonus = {
			category = radar_tech
			name = bruneval_raid
			bonus = 2
			uses = 1
		}
	}

}

add_namespace = lar_capture_tito

# capture tito - raid fails
country_event = {
	id = lar_capture_tito.1
	title = lar_capture_tito.1.t
	desc = lar_capture_tito.1.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
		
	# acknowledge
	option = {
		name = lar_capture_tito.1.a
		army_experience = 5
	}

}

# capture tito - raid succeeds
country_event = {
	id = lar_capture_tito.2
	title = lar_capture_tito.2.t
	desc = lar_capture_tito.2.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	# acknowledge
	option = {
		name = lar_capture_tito.2.a
		if = {
			limit = {
				YUG = { 
					has_country_leader = { 
						character = YUG_josip_broz_tito 
						ruling_only = no 
					} 
				}
			}
			YUG = { kill_ideology_leader = communism }
			set_global_flag = Tito_killed
		}
	}

}

add_namespace = lar_rescue_mussolini

# rescue mussolini - raid fails
country_event = {
	id = lar_rescue_mussolini.1
	title = lar_rescue_mussolini.1.t
	desc = lar_rescue_mussolini.1.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
		
	# acknowledge
	option = {
		name = lar_rescue_mussolini.1.a
		army_experience = 5
	}

}

# rescue mussolini - raid succeeds
country_event = {
	id = lar_rescue_mussolini.2
	title = lar_rescue_mussolini.2.t
	desc = lar_rescue_mussolini.2.desc
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	# acknowledge
	option = {
		name = lar_rescue_mussolini.2.a
		add_relation_modifier = {
			target = ITA
			modifier = GER_rescued_mussolini
		}
		set_global_flag = mussolini_rescued_flag
	}

}

add_namespace = lar_fake_intel_units


# delete old intel units created by script
country_event = {
	id = lar_fake_intel_units.1
	title = lar_fake_intel_units.1.t
	desc = lar_fake_intel_units.1.d
	
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes

	hidden = yes

	immediate = {
		
		# delete old intel units
		# fake_intel_ids_to_delete contains the id of each unit
		# num_days_for_fake_intel_id@id contains the num hours that it is created
		
		clear_temp_array = ids_to_remove
		
		for_each_loop = {
			array = fake_intel_ids_to_delete
			
			set_temp_variable = { passed_days = global.num_days }
			subtract_from_temp_variable = { passed_days = num_days_for_fake_intel_id@var:v }
			
			if = {
				limit = { check_variable = { passed_days > 85 } }
				add_to_temp_array = { ids_to_remove = v }
				delete_unit = {
					id = v
				}
			}
		}
		
		for_each_loop = {
			array = ids_to_remove
			
			remove_from_array = { fake_intel_ids_to_delete = v }
			clear_variable = num_days_for_fake_intel_id@var:v
		}
	}
	
	option = {
		name = excellent
	}
}

add_namespace = lar_collab_gov


# collab government event
country_event = {
	id = lar_collab_gov.1
	title = lar_collab_gov.1.t
	desc = lar_collab_gov.1.d
	
	picture = GFX_report_event_german_troops

	is_triggered_only = yes
	
	option = {
		name = traitors
	}
}
add_namespace = lar_operative_event

#operative event - operative captured
operative_leader_event = {
	id = lar_operative_event.1
	title = lar_operative_event.1.t
	desc = lar_operative_event.1.desc

	is_triggered_only = yes

	major = no

	option = {
		name = lar_operative_event.1.a
		
	}
}

#operative event - operative forced into hiding
operative_leader_event = {
	id = lar_operative_event.2
	title = lar_operative_event.2.t
	desc = lar_operative_event.2.desc

	is_triggered_only = yes

	major = no

	option = {
		name = lar_operative_event.2.a
		
	}
}

#operative event - operative killed
operative_leader_event = {
	id = lar_operative_event.3
	title = lar_operative_event.3.t
	desc = lar_operative_event.3.desc

	is_triggered_only = yes

	major = no

	option = {
		name = lar_operative_event.3.a
		
	}
}

#operative event - operative harmed
operative_leader_event = {
	id = lar_operative_event.4
	title = lar_operative_event.4.t
	desc = lar_operative_event.4.desc

	is_triggered_only = yes

	major = no

	option = {
		name = lar_operative_event.4.a
		
	}
}

#operative event - operative turned
operative_leader_event = {
	id = lar_operative_event.5
	title = lar_operative_event.5.t
	desc = lar_operative_event.5.desc

	is_triggered_only = yes

	major = no

	option = {
		name = lar_operative_event.5.a
		add_unit_leader_trait = operative_double_agent
	}
}

#operative event - nation is informed they captured an agent
operative_leader_event = {
	id = lar_operative_event.6
	title = lar_operative_event.6.t
	desc = lar_operative_event.6.desc

	is_triggered_only = yes

	major = no

	option = {
		name = lar_operative_event.6.a
	}
}
###########################
# Election Events
###########################

add_namespace = election

# Test Election Event
country_event = {
	id = election.1
	title = election.1.t
	desc = election.1.d
	picture = GFX_report_event_election_vote
	
	is_triggered_only = yes
	
	option = {
		name = election.1.a
	}
}

# Public Opposes Rearmament
country_event = {
	id = election.2
	title = election.2.t
	desc = election.2.d
	picture = GFX_report_event_airplane_factory
	
	is_triggered_only = yes
	
	trigger = {
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			} 
		}
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		has_government = democratic
		NOT = {
			OR = {
				has_war = yes
				any_neighbor_country = {
					has_war = yes
				}
				any_allied_country = {
					has_war = yes
				}
			}
		}
		has_idea = partial_economic_mobilisation
	}

	option = {
		ai_chance = { 
			base = 1
		}
		name = election.2.a
		add_ideas = low_economic_mobilisation
	}

	option = {
		name = election.2.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				can_lose_unity = yes
			}
		}
		add_stability = -0.05
		add_war_support = -0.05
	}
}


# Public Demands Rearmament
country_event = {
	id = election.3
	title = election.3.t
	desc = election.3.d
	picture = GFX_report_event_tank_factory
	
	is_triggered_only = yes
	
	trigger = {
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			}
		}
		OR = {
			
			
			has_government = democratic
			has_war = no
			OR = {
				any_neighbor_country = {
					has_war = yes
				}
				any_allied_country = {
					has_war = yes
				}
			}
			OR = {
				has_idea = low_economic_mobilisation
				has_idea = civilian_economy
				has_idea = isolation
				has_idea = undisturbed_isolation
				has_idea = volunteer_only
				has_idea = disarmed_nation
			}
			tag = FRA
		}
	}

	option = {
		name = election.3.a
		if = {
			limit = { has_idea = low_economic_mobilisation }
			add_ideas = partial_economic_mobilisation
		}
		if = {
			limit = { has_idea = civilian_economy }
			add_ideas = low_economic_mobilisation
		}
		if = {
			limit = { has_idea = isolation }
			add_ideas = civilian_economy
		}
		if = {
			limit = { has_idea = undisturbed_isolation }
			add_ideas = isolation
		}
		if = {
			limit = { has_idea = volunteer_only }
			add_ideas = limited_conscription
		}
		if = {
			limit = { has_idea = disarmed_nation }
			add_ideas = volunteer_only
		}
		add_war_support = 0.05
	}

	option = {
		name = election.3.b
		ai_chance = {
			base = 0
		}
		add_stability = -0.05
	}
}

# Fascists in Government?
country_event = {
	id = election.4
	title = election.4.t
	desc = election.4.d
	picture = GFX_report_event_fascist_gathering
	
	is_triggered_only = yes

	trigger = {
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			} 
			AND = { 
				tag = GRE 
				#has_dlc = "Battle for the Bosporus"
			} 
		}
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		has_government = democratic
		NOT = { has_idea = fascism_defeated }
		fascism > 0.15
	}
	
	option = {
		name = election.4.a
		ai_chance = {
			base = 0
			modifier = {
				add = 2
				can_lose_democracy_support = yes
			}
			modifier = {
				add = 1
				can_lose_unity = no
			}
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		set_country_flag = coalition_with_fascists
	}

	option = {
		name = election.4.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				can_lose_unity = yes
			}
		}
		add_stability = -0.05
		add_popularity = {
			ideology = democratic
			popularity = 0.03
		}
		set_country_flag = government_declined_fascists
	}
}

# Communists in Government?
country_event = {
	id = election.5
	title = election.5.t
	desc = election.5.d
	picture = GFX_report_event_worker_protests
	
	is_triggered_only = yes

	trigger = {
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			} 
			AND = { 
				tag = GRE 
				#has_dlc = "Battle for the Bosporus"
			} 
		}
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		has_government = democratic
		NOT = { has_idea = communism_defeated }
		communism > 0.15
		NOT = {
			tag = FRA # modded
		}
	}
	
	option = {
		name = election.5.a
		ai_chance = {
			base = 0
			modifier = {
				add = 2
				can_lose_democracy_support = yes
			}
			modifier = {
				add = 1
				can_lose_unity = no
			}
			modifier = {
				factor = 0
				OR = {
					AND = {
						tag = FRA
						is_historical_focus_on = yes
						date < 1937.1.1
					}
					communism > 0.38
				}
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		set_country_flag = coalition_with_communists
	}

	option = {
		name = election.5.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				can_lose_unity = yes
			}
			modifier = {
				add = 1
				OR = {
					AND = {
						tag = FRA
						is_historical_focus_on = yes
						date < 1937.1.1
					}
					communism > 0.38
				}
			}
		}
		add_stability = -0.05
		add_popularity = {
			ideology = democratic
			popularity = 0.03
		}
		set_country_flag = government_declined_communists
	}
}

# Democratic Parties in Minority
country_event = {
	id = election.6
	title = election.6.t
	desc = election.6.d
	picture = GFX_report_event_journalists_speech
	
	is_triggered_only = yes

	trigger = {
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			} 
			AND = { 
				tag = GRE 
				#has_dlc = "Battle for the Bosporus"
			} 
		}
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		has_government = democratic
		democratic < 0.5
		fascism < 0.5
		communism < 0.5
	}
	
	option = {
		name = election.6.a
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				can_lose_democracy_support = yes
			}
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.1
		}
		set_country_flag = coalition_with_fascists
	}

	option = {
		name = election.6.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				can_lose_democracy_support = yes
			}
		}
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
		set_country_flag = coalition_with_communists
	}

	option = {
		name = election.6.c
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				can_lose_democracy_support = no
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		add_political_power = -80
	}
}


# Fascist Majority
country_event = {
	id = election.11
	title = election.11.t
	desc = election.11.d
	picture = GFX_report_event_fascist_gathering
	
	is_triggered_only = yes

	trigger = {
		has_government = democratic
		fascism > 0.5
		is_puppet = no
		NOT = {
			AND = {
				original_tag = SPR
				has_dlc = "La Resistance"
			}
		}
	}
	
	option = {	
		name = election.11.a
		ai_chance = {
			base = 75			
		}
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
	}

	option = {
		name = election.11.b
		ai_chance = {
			base = 35
		}
		start_civil_war = {
			ideology = fascism
			size = 0.5
		}
	}
}

# Communist Majority
country_event = {
	id = election.12
	title = election.12.t
	desc = election.12.d
	picture = GFX_report_event_gathering_protest
	
	is_triggered_only = yes

	trigger = {

		has_government = democratic
		communism > 0.5
		is_puppet = no
	}
	
	option = {
		name = election.12.a
		ai_chance = {
			base = 75
		}
		set_politics = {
			ruling_party = communism
			elections_allowed = no
		}
	}

	option = {
		name = election.12.b
		ai_chance = {
			base = 35			
		}
		start_civil_war = {
			ideology = communism
			size = 0.5
		}
	}
}

# Magnate Favors Fascism
country_event = {
	id = election.13
	title = election.13.t
	desc = election.13.d
	picture = GFX_report_event_fascist_gathering
	
	is_triggered_only = yes

	trigger = {
		NOT = { 
			AND = {
				Tag = USA
				date < 1949.1.1
			}
		}
		has_government = democratic
		has_idea_with_trait = motorized_equipment_manufacturer
	}
	
	option = {
		name = election.13.a
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				can_lose_democracy_support = yes
			}
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.10
		}
	}

	option = {
		name = election.13.b
		ai_chance = {
			base = 0
			modifier = {
				add = 1
				can_lose_democracy_support = no
			}
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		remove_ideas_with_trait = motorized_equipment_manufacturer
	}
}

# Wartime Exception
country_event = {
	id = election.14
	title = election.14.t
	desc = election.14.d
	picture = GFX_report_event_tank_factory
	
	is_triggered_only = yes

	trigger = {
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			} 
		}
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		has_government = democratic
		has_war = yes
	}
	
	option = {
		name = election.14.a
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				can_lose_unity = yes
			}
		}
		add_stability = -0.05
	}

	option = {
		ai_chance = {
			base = 0
			modifier = {
				add = 3
				can_lose_democracy_support = yes
			}			
			modifier = {
				add = 1
				can_lose_unity = no
			}
		}
		name = election.14.b
		add_political_power = 20
		add_stability = 0.05
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
	}
}

# Government Contested
country_event = {
	id = election.15
	title = election.15.t
	desc = election.15.d
	picture = GFX_report_event_gathering_protest
	
	is_triggered_only = yes

	trigger = {
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			} 
		}
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		has_government = democratic
		has_war = yes
		any_war_score < 20
	}
	
	option = {
		ai_chance = {
			base = 0
			modifier = {
				add = 3
				can_lose_democracy_support = no
			}			
		}
		name = election.15.a
		add_political_power = -50
		add_stability = -0.05
	}

	option = {
		name = election.15.b
		ai_chance = {
			base = 0
			modifier = {
				add = 10
				can_lose_democracy_support = yes
			}			
			modifier = {
				add = 1
				can_lose_unity = no
			}
		}
		add_political_power = 25
		add_stability = 0.05
		add_popularity = {
			ideology = communism
			popularity = 0.07
		}
		add_popularity = {
			ideology = fascism
			popularity = 0.07
		}
	}
}

# Election in Fascist Country (Supports Government)
country_event = {
	id = election.16
	title = election.16.t
	desc = election.16.d
	picture = GFX_report_event_gathering_protest
	
	is_triggered_only = yes

	trigger = {
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			} 
		}
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		has_government = fascism
		fascism > 0.5
	}
	
	option = {
		name = election.16.a
		add_stability = 0.05
	}
}

# Rigged Election in Fascist Country
country_event = {
	id = election.17
	title = election.17.t
	desc = election.17.d
	picture = GFX_report_event_gathering_protest
	
	is_triggered_only = yes

	trigger = {
		NOT = { 
			AND = { 
				tag = USA 
				date < 1949.1.1
			}
		}
		OR = { NOT = { original_tag = SPR } NOT = { date < 1937.1.1 } }
		has_government = fascism
		NOT = { fascism > 0.5 }
	}
	
	option = {
		name = election.17.a
		add_stability = -0.05
	}
}
###########################
# Ace pilots Events
###########################

add_namespace = ace_promoted
add_namespace = ace_died
add_namespace = ace_killed_by_ace
add_namespace = ace_killed_other_ace
add_namespace = aces_killed_each_other

# New ace has been promoted
country_event = {
	id = ace_promoted.1
	title = ace_promoted.1.t
	desc = {
		text = ace_promoted.1.d
		trigger = {
			NOT = { tag = GER }
			NOT = { tag = ITA }
			NOT = { tag = FRA }
			NOT = { tag = JAP }
			NOT = { tag = USA }
			NOT = { tag = ENG }
			NOT = { tag = SOV }
		}
	}
	desc = {
		text = ace_promoted.1.d_major
		trigger = {
			OR = {
				tag = GER
				tag = ITA
				tag = FRA
				tag = JAP
				tag = USA
				tag = ENG
				tag = SOV
			}
		}
	}
	picture = GFX_report_event_ace_promoted
	
	is_triggered_only = yes
	
	option = {
		name = ace_promoted.1.a	
	}
}

country_event = {
	id = ace_promoted.2
	title = ace_promoted.2.t
	desc = {
		text = ace_promoted.1.d
		trigger = {
			NOT = { tag = GER }
			NOT = { tag = ITA }
			NOT = { tag = FRA }
			NOT = { tag = JAP }
			NOT = { tag = USA }
			NOT = { tag = ENG }
			NOT = { tag = SOV }
		}
	}
	desc = {
		text = ace_promoted.1.d_major
		trigger = {
			OR = {
				tag = GER
				tag = ITA
				tag = FRA
				tag = JAP
				tag = USA
				tag = ENG
				tag = SOV
			}
		}
	}
	picture = GFX_report_event_ace_promoted
	
	is_triggered_only = yes
	
	option = {
		name = ace_promoted.1.a	
	}
}

# Ace died
country_event = {
	id = ace_died.1
	title = ace_died.1.t	
	desc = {
		text = ace_died.1.d
		trigger = {
			NOT = { tag = GER }
			NOT = { tag = ITA }
			NOT = { tag = FRA }
			NOT = { tag = JAP }
			NOT = { tag = USA }
			NOT = { tag = ENG }
			NOT = { tag = SOV }
		}
	}
	desc = {
		text = ace_died.1.d_major
		trigger = {
			OR = {
				tag = GER 
				tag = ITA 
				tag = FRA 
				tag = JAP 
				tag = USA 
				tag = ENG
				tag = SOV
			} 
		}
	}
	picture = GFX_report_event_ace_died
	
	is_triggered_only = yes
	
	option = {
		name = ace_died.1.a
	}
}

# Ace killed by other Ace
country_event = {
	id = ace_killed_by_ace.1
	title = ace_killed_by_ace.1.t
	desc = {
		text = ace_killed_by_ace.1.d
		#Don't show equipment name for countried with default names, e.g. Fighter I
		trigger = {
			OR = {
				NOT = {
					PREV = { 
						OWNER = {
							OR = {
								tag = GER 
								tag = ITA 
								tag = FRA 
								tag = JAP 
								tag = USA 
								tag = ENG
								tag = SOV
							} 
						} 
					}
				}
				NOT = {
					FROM = { 
						OWNER = {
							OR = {
								tag = GER 
								tag = ITA 
								tag = FRA 
								tag = JAP 
								tag = USA 
								tag = ENG
								tag = SOV
							} 
						}
					}
				}
			}
		}
	}
	desc = {
		text = ace_killed_by_ace.1.d_major
		#We're only showing wing name for the countries that have nicely named planes
		trigger = {
			PREV = { 
				OWNER = {
					OR = {
						tag = GER 
						tag = ITA 
						tag = FRA 
						tag = JAP 
						tag = USA 
						tag = ENG
						tag = SOV
					} 
				}
			}
			FROM = { 
				OWNER = {
					OR = {
						tag = GER 
						tag = ITA 
						tag = FRA 
						tag = JAP 
						tag = USA 
						tag = ENG
						tag = SOV
					} 
				}
			}
		}
	}
	picture = GFX_report_event_ace_died
	
	is_triggered_only = yes
	
	option = {
		name = ace_killed_by_ace.1.a
	}
}

# Ace killed other nations Ace
country_event = {
	id = ace_killed_other_ace.1
	title = ace_killed_other_ace.1.t
	desc = {
		text = ace_killed_other_ace.1.d
		#Don't show equipment name for countried with default names, e.g. Fighter I
		trigger = {
			OR = {
				NOT = {
					PREV = { 
						OWNER = {
							OR = {
								tag = GER 
								tag = ITA 
								tag = FRA 
								tag = JAP 
								tag = USA 
								tag = ENG
								tag = SOV
							} 
						} 
					}
				}
				NOT = {
					FROM = { 
						OWNER = {
							OR = {
								tag = GER 
								tag = ITA 
								tag = FRA 
								tag = JAP 
								tag = USA 
								tag = ENG
								tag = SOV
							} 
						}
					}
				}
			}
		}
	}
	desc = {
		text = ace_killed_other_ace.1.d_major
		#We're only showing wing name for the countries that have nicely named planes
		trigger = {
			PREV = { 
				OWNER = {
					OR = {
						tag = GER 
						tag = ITA 
						tag = FRA 
						tag = JAP 
						tag = USA 
						tag = ENG
						tag = SOV
					} 
				}
			}
			FROM = { 
				OWNER = {
					OR = {
						tag = GER 
						tag = ITA 
						tag = FRA 
						tag = JAP 
						tag = USA 
						tag = ENG
						tag = SOV
					} 
				}
			}
		}
	}
	picture = GFX_report_event_ace_died
	
	is_triggered_only = yes
	
	option = {
		name = ace_killed_other_ace.1.a
	}
}

# Ace killed eachother
country_event = {
	id = aces_killed_each_other.1
	title = aces_killed_each_other.1.t
	desc = {
		text = aces_killed_each_other.1.d
		#Don't show equipment name for countried with default names, e.g. Fighter I
		trigger = {
			OR = {
				NOT = {
					PREV = { 
						OWNER = {
							OR = {
								tag = GER 
								tag = ITA 
								tag = FRA 
								tag = JAP 
								tag = USA 
								tag = ENG
								tag = SOV
							} 
						} 
					}
				}
				NOT = {
					FROM = { 
						OWNER = {
							OR = {
								tag = GER 
								tag = ITA 
								tag = FRA 
								tag = JAP 
								tag = USA 
								tag = ENG
								tag = SOV
							} 
						}
					} 
				}
			}
		}
	}
	desc = {
		text = aces_killed_each_other.1.d_major
		#We're only showing wing name for the countries that have nicely named planes
		trigger = {
			PREV = { 
				OWNER = {
					OR = {
						tag = GER 
						tag = ITA 
						tag = FRA 
						tag = JAP 
						tag = USA 
						tag = ENG
						tag = SOV
					} 
				}
			}
			FROM = { 
				OWNER = {
					OR = {
						tag = GER 
						tag = ITA 
						tag = FRA 
						tag = JAP 
						tag = USA 
						tag = ENG
						tag = SOV
					} 
				}
			}
		}
	}	
	picture = GFX_report_event_ace_died
	
	is_triggered_only = yes
	
	option = {
		name = aces_killed_each_other.1.a
	}
}


add_namespace = generic_debug

# debug event used for creating agency & cryptology
country_event = {
	id = generic_debug.42
	title = generic_debug.42.t
	desc = generic_debug.42.d
	
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes


	immediate = {
		create_intelligence_agency = yes
		upgrade_intelligence_agency = upgrade_form_department
	}

	option = {
		name = excellent
	}
}

# give usa access
country_event = {
	id = generic_debug.43
	title = generic_debug.43.t
	desc = generic_debug.43.d
	
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes


	immediate = {
		give_military_access = USA
	}

	option = {
		name = excellent
	}
}

country_event = {
	id = generic_debug.44
	title = generic_debug.44.t
	desc = TORPS
	
	picture = GFX_report_event_generic_factory

	is_triggered_only = yes


	immediate = {
		
	}

	option = {
		name = TORPS
		add_ideas = bureau_of_ordnance_spirit
	}
}

